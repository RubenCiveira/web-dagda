(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[963],{4963:(ne,B,s)=>{"use strict";s.r(B),s.d(B,{DocumentoViewLazyModule:()=>co});var _=s(9808),y=s(1062),D=s(2155),Z=s(5113),Y=s(7423),Q=s(6510),N=s(1614),b=s(2375),L=s(2782),H=s(2499),c=s(3075),k=s(508),h=s(7322),w=s(7531),J=s(1764),R=s(2598),U=s.n(R),j=s(354),O=s.n(j),e=s(5e3),G=s(970);J.extend(U()),J.extend(O());let T=(()=>{class o{constructor(t){this.appState=t,this.weekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),this.weekdaysShort="sun._mon._tue._wed._thu._fri._sat.".split("_"),this.weekdaysMin="su_mo_tu_we_th_fr_st".split("_"),this.months="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),this.monthsShort="jan_feb_mar_apr_may_jun_jul_aug_sep_oct_nov_dec".split("_"),this.currentLang="",this.loadTimezones(),t.lang.get().subscribe(i=>{this.currentLang=i.code,this.loadLocale(i.code)}),this.monthList=[];for(let i=0;i<12;i++)this.monthList.push(""+(i+1))}format(t,i){try{return J(t).locale(this.currentLang).format(i)}catch(n){return J(t).format(i)}}parse(t,i){return J(t,{format:this.locale.formats[i]?this.locale.formats[i]:i,locale:this.currentLang}).toDate()}localToTimeZone(t,i){if(this.getZonedTime){let n="";n=this.findTimeZone(i||"Europe/Madrid");const l=this.getZonedTime(t,n),v=new Date;return v.setFullYear(l.year),v.setMonth(l.month-1),v.setDate(l.day),v.setHours(l.hours),v.setMinutes(l.minutes),v.setSeconds(l.seconds),v.setMilliseconds(l.milliseconds),v}return t}isValidTimezone(t){return!!this.findTimeZone(t)}timezonedToLocal(t,i){return this.convertTimeToDate?this.convertTimeToDate(this.setTimeZone(t,this.findTimeZone(i),{useUTC:!1})):t}getFirstDayOfWeek(){return this.locale&&this.locale.weekStart?this.locale.weekStart:0}getDayOfWeekNames(t){let i;return i="narrow"===t?this.locale&&this.locale.weekdaysMin?this.locale.weekdaysMin:this.weekdaysMin:"short"===t?this.locale&&this.locale.weekdays?this.locale.weekdays:this.weekdays:this.locale&&this.locale.weekdaysShort?this.locale.weekdaysShort:this.weekdaysShort,i}getMonthNames(t){let i;return"narrow"===t?this.monthList:(i="short"===t?this.locale&&this.locale.monthsShort?this.locale.monthsShort:this.monthsShort:this.locale&&this.locale.months?this.locale.months:this.months,i)}loadTimezones(){const t=window,i=()=>{if(t.timezoneSupport&&t.timezoneData){const{populateTimeZones:v,listTimeZones:F,getZonedTime:S,setTimeZone:z,findTimeZone:_e,convertTimeToDate:uo}=t.timezoneSupport;this.getZonedTime=S,this.setTimeZone=z,this.findTimeZone=_e,this.convertTimeToDate=uo,v(t.timezoneData);const Je=[];F().forEach(Ye=>{Je.push({code:Ye,label:Ye})}),this.appState.availablesTimezones.set(Je)}},n=document.createElement("script");n.src="assets/tz/lookup-convert.umd.js",n.type="text/javascript",n.onload=i,document.getElementsByTagName("head")[0].appendChild(n);const l=document.createElement("script");l.src="assets/tz/data.umd.js",l.type="text/javascript",l.onload=i,document.getElementsByTagName("head")[0].appendChild(l)}loadLocale(t){const i=t.split("-")[0].toLowerCase(),n=document.createElement("script");n.src="assets/i18n/"+i+"-date.js",n.type="text/javascript",n.onload=()=>{const l=window;this.locale=l.locale,J.locale(l.locale)},document.getElementsByTagName("head")[0].appendChild(n)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(G.aB))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const x={parse:{dateInput:"L"},display:{dateInput:"L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let I;try{I="undefined"!=typeof Intl}catch(o){I=!1}const g=f(31,o=>String(o+1)),r=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function f(o,a){const t=Array(o);for(let i=0;i<o;i++)t[i]=a(i);return t}let d=(()=>{class o extends k._A{constructor(t){super(),this.i18nDatesService=t,this.dayList=[];for(let i=0;i<31;i++)this.dayList.push(""+(i+1))}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getDateNames(){if(I){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return f(31,i=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,i+1))))}return g}getYearName(t){if(I){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,t))}return String(this.getYear(t))}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,n){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let l=this._createDateWithOverflow(t,i,n);if(l.getMonth()!=i)throw Error(`Invalid date "${n}" for month with index "${i}".`);return l}today(){return new Date}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+i)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(r.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,n){const l=new Date(t,i,n);return t>=0&&t<100&&l.setFullYear(this.getYear(l)-1900),l}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,i){const n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.format(n)}getMonthNames(t){return this.i18nDatesService.getMonthNames(t)}getDayOfWeekNames(t){return this.i18nDatesService.getDayOfWeekNames(t)}getFirstDayOfWeek(){return this.i18nDatesService.getFirstDayOfWeek()}parse(t,i){return this.i18nDatesService.parse(t,"string"==typeof i?i:i[0])}format(t,i){return this.i18nDatesService.format(t,i)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var m=s(6856),p=s(1079);let C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:k.sG,useValue:x},{provide:k._A,useClass:d,deps:[T]}],imports:[_.ez,c.u5,N.r,c.UX,D.o9,m.FA,k.Ng,p.Bb,w.c,h.lN]}),o})();var A=s(7893),M=s(6051),E=s(2349),P=s(4834),$=s(5245),W=s(5899);let ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,y.aw,c.u5,N.r,c.UX,D.o9,w.c,Y.ot,E.Is,P.t,$.Ps,W.Cv,h.lN]}),o})();var te=s(8473),q=s(553),V=s(1159),K=s(3191),X=s(7579),le=s(6451),ke=s(5698),de=s(2722),ge=s(8675),Oe=s(925),Ne=s(5664),Ue=s(449),Ve=s(226);const Qe=["*"],be=new e.OlP("MatChipRemove"),xe=new e.OlP("MatChipAvatar"),ve=new e.OlP("MatChipTrailingIcon");class Re{constructor(a){this._elementRef=a}}const He=(0,k.sb)((0,k.pj)((0,k.Kr)(Re),"primary"),-1);let se=(()=>{class o extends He{constructor(t,i,n,l,v,F,S,z){super(t),this._ngZone=i,this._changeDetectorRef=v,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new X.x,this._onBlur=new X.x,this.selectionChange=new e.vpe,this.destroyed=new e.vpe,this.removed=new e.vpe,this._addHostClassName(),this._chipRippleTarget=F.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new k.IR(this,i,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=l||{},this._animationsDisabled="NoopAnimations"===S,this.tabIndex=null!=z&&parseInt(z)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const i=(0,K.Ig)(t);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=(0,K.Ig)(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=(0,K.Ig)(t)}get removable(){return this._removable}set removable(t){this._removable=(0,K.Ig)(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(t)||i.tagName.toLowerCase()===t?i.classList.add(t):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled&&t.preventDefault()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case V.yY:case V.ZH:this.remove(),t.preventDefault();break;case V.L_:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,ke.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Oe.t4),e.Y36(k.Y2,8),e.Y36(e.sBO),e.Y36(_.K0),e.Y36(e.QbO,8),e.$8M("tabindex"))},o.\u0275dir=e.lG2({type:o,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,xe,5),e.Suo(n,ve,5),e.Suo(n,be,5)),2&t){let l;e.iGM(l=e.CRH())&&(i.avatar=l.first),e.iGM(l=e.CRH())&&(i.trailingIcon=l.first),e.iGM(l=e.CRH())&&(i.removeIcon=l.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i._handleClick(l)})("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&t&&(e.uIk("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),e.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[e.qOj]}),o})(),Ce=(()=>{class o{constructor(t,i){this._parentChip=t,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(t){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),t.stopPropagation(),t.preventDefault()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(se),e.Y36(e.SBq))},o.\u0275dir=e.lG2({type:o,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i._handleClick(l)})},features:[e._Bn([{provide:be,useExisting:o}])]}),o})();const ye=new e.OlP("mat-chips-default-options");let Be=0,we=(()=>{class o{constructor(t,i){this._elementRef=t,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new e.vpe,this.placeholder="",this.id="mat-chip-list-input-"+Be++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=(0,K.Ig)(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=(0,K.Ig)(t)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(t){if(t){if(t.keyCode===V.Mf&&!(0,V.Vb)(t,"shiftKey")&&this._chipList._allowFocusEscape(),t.keyCode===V.ZH&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void t.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(t)}_keyup(t){!this._focusLastChipOnBackspace&&t.keyCode===V.ZH&&this.empty&&(this._focusLastChipOnBackspace=!0,t.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(t){!this.inputElement.value&&!!t&&this._chipList._keydown(t),(!t||this._isSeparatorKey(t))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),null==t||t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this.inputElement.focus(t)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(t){return!(0,V.Vb)(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(ye))},o.\u0275dir=e.lG2({type:o,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(l){return i._keydown(l)})("keyup",function(l){return i._keyup(l)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&t&&(e.Ikx("id",i.id),e.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[e.TTD]}),o})();const je=(0,k.FD)(class{constructor(o,a,t,i){this._defaultErrorStateMatcher=o,this._parentForm=a,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new X.x}});let Ge=0;class Ke{constructor(a,t){this.source=a,this.value=t}}let Ze=(()=>{class o extends je{constructor(t,i,n,l,v,F,S){super(F,l,v,S),this._elementRef=t,this._changeDetectorRef=i,this._dir=n,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new X.x,this._uid="mat-chip-list-"+Ge++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(z,_e)=>z===_e,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new e.vpe,this.valueChange=new e.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(t){this._explicitRole=t}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,K.Ig)(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var t,i,n,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(n=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===n?void 0:n.hasValidator(c.kI.required))&&void 0!==l&&l}set required(t){this._required=(0,K.Ig)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,K.Ig)(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=(0,K.Ig)(t),this._syncChipsState()}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return(0,le.T)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return(0,le.T)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return(0,le.T)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return(0,le.T)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Ne.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,de.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe((0,de.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,ge.O)(null),(0,de.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ue.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const i=t.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_setSelectionByValue(t,i=!0){if(this._clearSelection(),this.chips.forEach(n=>n.deselect()),Array.isArray(t))t.forEach(n=>this._selectValue(n,i)),this._sortValues();else{const n=this._selectValue(t,i);n&&i&&this._keyManager.setActiveItem(n)}}_selectValue(t,i=!0){const n=this.chips.find(l=>null!=l.value&&this._compareWith(l.value,t));return n&&(i?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(i=>{i!==t&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let i=null;i=Array.isArray(this.selected)?this.selected.map(n=>n.value):this.selected?this.selected.value:t,this._value=i,this.change.emit(new Ke(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let i=this.chips.toArray().indexOf(t.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const i=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&i._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ve.Is,8),e.Y36(c.F,8),e.Y36(c.sg,8),e.Y36(k.rD),e.Y36(c.a5,10))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-chip-list"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,se,5),2&t){let l;e.iGM(l=e.CRH())&&(i.chips=l)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(l){return i._keydown(l)}),2&t&&(e.Ikx("id",i._uid),e.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),e.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[e._Bn([{provide:h.Eo,useExisting:o}]),e.qOj],ngContentSelectors:Qe,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),o})(),ze=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[k.rD,{provide:ye,useValue:{separatorKeyCodes:[V.K5]}}],imports:[k.BQ]}),o})(),Pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,y.aw,c.u5,N.r,c.UX,D.o9,w.c,h.lN,Y.ot,p.Bb,W.Cv,ze,$.Ps,E.Is]}),o})();var Te=s(960);let Ae=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Q.V,_.ez,H.r,Pe,te.x,C,q.L,N.r,Te.M,A.o,M.a,ie,D.o9,L.n,c.u5,Z.xu,b.W,Y.ot,w.c,c.UX,y.aw]}),o})(),We=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Q.V,_.ez,Ae,N.r,D.o9,L.n,Z.xu,b.W,Y.ot,y.aw]}),o})(),Xe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Q.V,_.ez,We,Ae,N.r,Te.M,A.o,D.o9,L.n,c.u5,Z.xu,b.W,Y.ot,$.Ps,w.c,c.UX,y.aw]}),o})();var Me=s(8390),et=s(8862),tt=s(7261),ue=s(112),re=s(7738),pe=s(2169),ce=s(8034),De=s(6537),it=s(208),ot=s(3596),me=s(727),nt=s(262),at=s(2843),Ie=s(8505),lt=s(5097),st=s(2320),rt=s(5503),ct=s(244),he=s(5191),dt=s(8372),ut=s(9087),fe=s(6050),oe=s(791),ae=s(7093);const pt=["inputForChips"];function mt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.hij(" ",i.displayLabel(t[i.join].value)," ")}}function ht(o,a){1&o&&e.GkF(0)}const Fe=function(o){return{$implicit:o}};function ft(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ht,1,0,"ng-container",20),e.BQk()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(2,Fe,t[i.join].value))}}function _t(o,a){if(1&o&&(e.ynx(0),e.YNc(1,mt,2,1,"ng-container",3),e.YNc(2,ft,2,4,"ng-container",3),e.BQk()),2&o){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template)}}function gt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.hij(" ",t[i.literal],"")}}function bt(o,a){1&o&&(e.TgZ(0,"mat-icon",21),e._uU(1,"cancel"),e.qZA())}function xt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",18),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,v=e.oxw(3);return e.KtG(v.removeChip(l))}),e.YNc(1,_t,3,2,"ng-container",3),e.YNc(2,gt,2,1,"ng-container",3),e.YNc(3,bt,2,0,"mat-icon",19),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw(3);e.Q6J("selectable",!i.control.disabled)("removable",!i.control.disabled),e.xp6(1),e.Q6J("ngIf",t[i.join].value),e.xp6(1),e.Q6J("ngIf",i.literal&&t[i.literal]),e.xp6(1),e.Q6J("ngIf",!i.control.disabled)}}function vt(o,a){if(1&o&&(e.ynx(0),e.YNc(1,xt,4,5,"mat-chip",17),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.control.value)}}function Ct(o,a){1&o&&e._UZ(0,"mat-progress-bar",22)}function yt(o,a){1&o&&e._UZ(0,"div",23)}function wt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.searchAll())}),e._uU(1,"keyboard_arrow_down"),e.qZA()}}function Zt(o,a){if(1&o&&(e.TgZ(0,"mat-error",25),e._UZ(1,"editable-error-block",26),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("messages",t.errorMessages)("control",t.control)}}function Tt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",8)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"mat-chip-list",9,10),e.YNc(5,vt,2,1,"ng-container",3),e.TgZ(6,"input",11,12),e.NdJ("matChipInputTokenEnd",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.addChip(n.value))}),e.qZA(),e.YNc(8,Ct,1,0,"mat-progress-bar",13),e.YNc(9,yt,1,0,"div",14),e.qZA(),e.YNc(10,wt,2,0,"mat-icon",15),e.TgZ(11,"div"),e.YNc(12,Zt,2,2,"mat-error",16),e.qZA()()}if(2&o){const t=e.MAs(4),i=e.oxw(),n=e.MAs(2);e.Q6J("floatLabel",i.floatLabel)("appearance",i.appearance),e.xp6(2),e.Oqu(i.label),e.xp6(1),e.Q6J("required",i.required)("disabled",i.control.disabled),e.xp6(2),e.Q6J("ngIf",!i.searching&&i.isArray(i.control.value)),e.xp6(1),e.Q6J("placeholder",i.placeholder)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",!0)("formControl",i.auxControl)("matAutocomplete",n),e.xp6(2),e.Q6J("ngIf",i.searching||!i.isArray(i.control.value)),e.xp6(1),e.Q6J("ngIf",!i.searching),e.xp6(1),e.Q6J("ngIf",!i.control.disabled),e.xp6(2),e.Q6J("ngIf",i.control.invalid&&i.control.dirty)}}function At(o,a){if(1&o&&(e.TgZ(0,"mat-option"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",t.errorSearching," ")}}function Mt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.displayLabel(t)," ")}}function Dt(o,a){1&o&&e.GkF(0)}function It(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Dt,1,0,"ng-container",20),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(2,Fe,t))}}function Ft(o,a){if(1&o&&(e.TgZ(0,"mat-option",27),e.YNc(1,Mt,2,1,"ng-container",3),e.YNc(2,It,2,4,"ng-container",3),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.Q6J("ngIf",!i.template),e.xp6(1),e.Q6J("ngIf",i.template)}}function Lt(o,a){if(1&o&&(e.TgZ(0,"mat-option")(1,"mat-icon"),e._uU(2,"warning"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,1,t.label+".noResults")," ")}}function Et(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",28),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.openCreateRelatedData(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,1,t.createRelated.title+".label")," ")}}function St(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(null==n.dialogRef?null:n.dialogRef.close())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createRelatedData())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,(null==t.createRelated?null:t.createRelated.title)+".cancel")),e.xp6(2),e.Q6J("disabled",null==t.createRelated?null:t.createRelated.isInvalid()),e.xp6(1),e.hij(" ",e.lcZ(6,5,(null==t.createRelated?null:t.createRelated.title)+".save")," ")}}function Jt(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(null==n.dialogRef?null:n.dialogRef.close())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.error=null)}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,(null==t.createRelated?null:t.createRelated.title)+".cancel")),e.xp6(3),e.hij(" ",e.lcZ(6,4,(null==t.createRelated?null:t.createRelated.title)+".back")," ")}}function Yt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.dialogRef?null:n.dialogRef.close())}),e.TgZ(2,"mat-icon"),e._uU(3,"close"),e.qZA()(),e.TgZ(4,"h2",31),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"hr",32),e.Hsn(8),e.TgZ(9,"div",33),e._UZ(10,"span",34),e.YNc(11,St,7,7,"ng-container",3),e.YNc(12,Jt,7,6,"ng-container",3),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,(null==t.createRelated?null:t.createRelated.title)+".title")),e.xp6(6),e.Q6J("ngIf",!t.error),e.xp6(1),e.Q6J("ngIf",t.error)}}function kt(o,a){if(1&o&&(e.TgZ(0,"h2",38),e._uU(1),e.qZA(),e.Hsn(2,1,["mat-dialog-content",""])),2&o){const t=e.oxw();e.xp6(1),e.Oqu(null==t.viewRelated?null:t.viewRelated.title)}}const Ot=[[["editable-create-related"]],[["editable-view-related"]]],Nt=["editable-create-related","editable-view-related"];let Ut=(()=>{class o extends ut.Kr{constructor(t,i){super(t,i),this.join="",this.literal="",this.limit=null,this.isArray=n=>Array.isArray(n),this.isObservable=n=>(0,he.b)(n),this.separatorKeysCodes=[V.K5,V.OC],this.fillSubscriptions=new me.w0}ngOnDestroy(){this.fillSubscriptions.unsubscribe(),super.ngOnDestroy()}ngAfterContentInit(){var t;null===(t=this.control)||void 0===t||t.valueChanges.subscribe(i=>{this.valueChange(this.value(),!1)}),this.valueChange(this.value(),!0),this.auxControl=new c.NI(""),this.subscriptions.add(this.auxControl.valueChanges.pipe((0,dt.b)(700)).subscribe({next:i=>{this.searchOptions(i)}}))}valueChange(t,i){if(this.fillSubscriptions.unsubscribe(),this.fillSubscriptions=new me.w0,!this.control)throw new Error("No existe el control para asignarle el valor");t?(0,he.b)(t)?this.fillSubscriptions.add(t.subscribe({next:n=>{this.resolve(n,!0)}})):i?this.control.setValue(t):this.resolve(t,!1):i&&this.control.setValue([]),this.cdRef.markForCheck()}searchAll(){this.searchOptions(""),this.autocomplete&&this.autocomplete.openPanel()}addSelectChip(t){this.calculateAddChip(t)}addChip(t){setTimeout(()=>{this.auxControl&&this.calculateAddChip(this.auxControl.value)},300)}removeChip(t){if(this.control){const i=this.value();for(const n in i){const v=this.literal&&t[this.literal]&&i[n][this.literal]===t[this.literal],F=t[this.searchId]&&i[n][this.searchId]==t[this.searchId];if(i[n][this.join]&&t[this.join]&&i[n][this.join].value[this.searchId]===t[this.join].value[this.searchId]||v||F){i.splice(n,1),this.control.markAsDirty(),this.control.updateValueAndValidity(),this.cdRef.markForCheck();break}}}}displayLabel(t){if(!t)return"";let i=t;const n=this.display.split(".");for(const l of n){if(!i[l])return"";i=i[l]}return i}resolve(t,i){const n=[];let l=0;if(t.forEach(v=>{v[this.join]&&(0,he.b)(v[this.join].value)&&(++l,this.fillSubscriptions.add(v[this.join].value.subscribe(F=>{v[this.join].value=F,--l,l<1&&(this.searching=!1,this.cdRef.detectChanges(),this.cdRef.markForCheck())}))),n.push(v)}),l>0&&(this.searching=!0,this.cdRef.detectChanges()),this.cdRef.markForCheck(),!this.control)throw new Error("No existe el control para asignarle el valor");this.control.setValue(n,{emitEvent:i})}valueCreated(t){const i={};i[this.join]=t,this.addChipToData(i)}updateOptions(t){const i=this.value();return t.filter(n=>!(i&&i.find(l=>l[this.join]&&l[this.join][this.searchId]==n[this.searchId])))}calculateAddChip(t){var i,n;const l=null===(n=null===(i=this.inputForChips)||void 0===i?void 0:i.first)||void 0===n?void 0:n.nativeElement;l&&(l.value="",l.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))),this.auxControl&&this.auxControl.reset();let v=this.value();if(v||(v=this.setValue([])),t&&"string"!=typeof t){const S=v.filter(z=>z[this.join]&&z[this.join][this.searchId]==t[this.searchId]).shift()||{};S[this.join]={$ref:t.uid,value:t},this.addChipToData(S)}else if(this.literal&&t){const F={};F[this.literal]={$ref:t.uid,value:t},this.addChipToData(F)}else t&&this.search&&this.control&&this.subscriptions.add(this.search(t,this.contextFilter,this.control).subscribe({next:F=>{if(1===F.length){const z={};z[this.join]={$ref:F[0].uid,value:F[0]},this.addChipToData(z)}}}))}addChipToData(t){if(this.control&&"string"!=typeof t&&(t[this.join]||this.literal)){let i=!1;const n=this.value();if(null!==this.limit)for(;n.length>=this.limit;)n.shift();if(t[this.join])for(const l of n)if(l[this.join]&&l[this.join].value[this.searchId]===t[this.join].value[this.searchId]){i=!0;break}i||(n.push(t),this.control.markAsDirty(),this.control.updateValueAndValidity(),this.cdRef.markForCheck())}}value(){var t;const i=null===(t=this.control)||void 0===t?void 0:t.value;return Array.isArray(i)?i:null==i?void 0:i.value}setValue(t){var i;return this.control&&this.control.setValue({value:t}),null===(i=this.control)||void 0===i?void 0:i.value.value}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(fe.U),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["editable-chips"]],viewQuery:function(t,i){if(1&t&&(e.Gf(p.ZL,5,p.ZL),e.Gf(pt,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.autocomplete=n.first),e.iGM(n=e.CRH())&&(i.inputForChips=n)}},inputs:{join:"join",literal:"literal",limit:"limit"},features:[e.qOj],ngContentSelectors:Nt,decls:11,vars:5,consts:[["fxFlex","100%",3,"floatLabel","appearance",4,"ngIf"],[3,"optionSelected","opened"],["autoForChips",""],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["showCreateRelated",""],["showViewRelated",""],["fxFlex","100%",3,"floatLabel","appearance"],[3,"required","disabled"],["chipList",""],["matInput","",3,"placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputTokenEnd"],["inputForChips",""],["mode","query",4,"ngIf"],["style","width: 100%; height: 3px",4,"ngIf"],["matSuffix","",3,"click",4,"ngIf"],["style","font-size: 75%",4,"ngIf"],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["matChipRemove",""],["mode","query"],[2,"width","100%","height","3px"],["matSuffix","",3,"click"],[2,"font-size","75%"],[3,"messages","control"],[3,"value"],[3,"click"],["mat-dialog-title","",2,"display","flex","margin-bottom","0px"],["mat-icon-button","",2,"margin-top","-5px",3,"click"],[2,"margin-top","0"],[2,"margin","-5px -25px 15px -25px"],["mat-dialog-actions","",2,"display","flex","margin-bottom","0px","margin-top","5px"],[2,"flex","1 1 auto"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title",""]],template:function(t,i){1&t&&(e.F$t(Ot),e.YNc(0,Tt,13,16,"mat-form-field",0),e.TgZ(1,"mat-autocomplete",1,2),e.NdJ("optionSelected",function(l){return i.addSelectChip(l.option.value)})("opened",function(){return i.searchOptions(null==i.auxControl?null:i.auxControl.value)}),e.YNc(3,At,2,1,"mat-option",3),e.YNc(4,Ft,3,3,"mat-option",4),e.YNc(5,Lt,5,3,"mat-option",3),e.YNc(6,Et,5,3,"mat-option",5),e.qZA(),e.YNc(7,Yt,13,5,"ng-template",null,6,e.W1O),e.YNc(9,kt,3,1,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("ngIf",i.control&&i.auxControl),e.xp6(3),e.Q6J("ngIf",i.errorSearching),e.xp6(1),e.Q6J("ngForOf",i.options),e.xp6(1),e.Q6J("ngIf",!i.errorSearching&&i.options&&0==i.options.length),e.xp6(1),e.Q6J("ngIf",i.createRelated&&i.options))},dependencies:[_.sg,_.O5,_.tP,c.Fj,c.JJ,oe.qJ,c.oH,ae.yH,h.TO,h.KE,h.hX,h.R9,w.Nt,Y.lW,p.XC,p.ZL,k.ey,W.pW,Ze,se,we,Ce,$.Hw,E.uh,E.H8,y.X$],encapsulation:2,changeDetection:0}),o})();var Vt=s(5753),Le=s(4004),Ee=s(3322);function Qt(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",10),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("messages",t.errorMessages)("control",t.control)}}const Rt=function(o){return{"margin-right":o}};function Ht(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",4)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",5),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.value.day=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.update(!0))})("dateChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.update(!0))}),e.qZA(),e._UZ(4,"mat-datepicker-toggle",6)(5,"mat-datepicker",7,8),e.YNc(7,Qt,2,2,"mat-error",9),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw();e.Q6J("ngStyle",e.VKq(12,Rt,i.hasTimeInput?"20px":"0px"))("floatLabel",i.floatLabel)("appearance",i.appearance),e.xp6(2),e.Oqu(i.label),e.xp6(1),e.s9C("placeholder",i.placeholder),e.Q6J("ngModel",i.value.day)("matDatepicker",t)("required",i.required)("disabled",i.control.disabled),e.xp6(1),e.Q6J("for",t),e.xp6(1),e.Q6J("touchUi",i.touchUi),e.xp6(2),e.Q6J("ngIf",i.control.invalid)}}function qt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",11)(1,"input",12),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.value.hour=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.update(!0))}),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("floatLabel",t.floatLabel)("appearance",t.appearance),e.xp6(1),e.Q6J("ngModel",t.value.hour)("placeholder",t.hourPlaceholder)("required",t.required)("disabled",t.control.disabled)}}function $t(o,a){if(1&o&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.label," ")}}function Bt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",13),e._UZ(1,"input",14),e.TgZ(2,"mat-autocomplete",15,16),e.NdJ("optionSelected",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.update(!0))}),e.YNc(4,$t,2,2,"mat-option",17),e.ALo(5,"async"),e.qZA()()}if(2&o){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("formControl",i.myControl)("matAutocomplete",t),e.xp6(3),e.Q6J("ngForOf",e.lcZ(5,3,i.filteredZones))}}let jt=(()=>{class o extends oe.G7{constructor(t,i){super(t),this.dateService=i,this.touchUi=!1,this.hasTimeInput=!0,this.showTimeZone=!1,this.bindToTimeZone=!1,this.timeZoneEditable=!0,this.timeZone="",this.hourPlaceholder="",this.value={day:null,hour:""},this.zones=[],this.subscriptions.add(this.service.state.availablesTimezones.get().subscribe(n=>{for(const l of n)this.zones.push(l)})),this.subscriptions.add(this.service.state.timeZone.get().subscribe(n=>{this.timeZone=n})),this.myControl=new c.NI,this.myControl.setValue(this.timeZone),this.filteredZones=this.myControl.valueChanges.pipe((0,ge.O)(""),(0,Le.U)(n=>n&&"string"!=typeof n?n.name:n),(0,Le.U)(n=>n?this._filter(n):this.zones.slice()))}_filter(t){const i=t.toLowerCase();return this.zones.filter(n=>n.code.toLowerCase().includes(i))}ngOnChanges(t){t.timeZone&&this.value.day&&(this.bindToTimeZone&&(this.value.day=this.dateService.localToTimeZone(this.value.day,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")),this.update(!1),this.myControl.setValue(this.timeZone)),t.timeZoneEditable&&this.checkUpdate()}ngAfterContentInit(){this.control&&(this.writeValue(this.control.value),this.subscriptions.add(this.control.valueChanges.subscribe(t=>{this.writeValue(t)})))}update(t){let i=this.value.hour;this.hasTimeInput&&!i&&(i="00:00");const n=this.value.day;if(this.hasTimeInput&&n&&i){const l=this.dateService.parse(this.dateService.format(n,"YYYY-MM-DD")+" "+i,"YYYY-MM-DD HH:mm");this.selected=l,this.selected=this.timeZone?this.dateService.localToTimeZone(l,this.timeZone):l}else this.selected=!this.hasTimeInput&&n?this.dateService.format(n,"YYYY-MM-DD"):null;if(this.control){const v=this.selected===this.control.value;(!this.selected&&this.control.value||!v)&&(this.control.markAsDirty(),this.control.setValue(this.selected,{emitEvent:t}))}}checkUpdate(){this.timeZoneEditable&&this.control&&this.control.enabled?this.myControl.enable():this.myControl.disable()}writeValue(t){t?("string"==typeof t&&(t=new Date(t)),this.value.day=this.dateService.localToTimeZone(t,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")):(this.value.day=null,this.value.hour=""),this.checkUpdate()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(fe.U),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["editable-datetime"]],inputs:{touchUi:"touchUi",hasTimeInput:"hasTimeInput",showTimeZone:"showTimeZone",bindToTimeZone:"bindToTimeZone",timeZoneEditable:"timeZoneEditable",timeZone:"timeZone",hourPlaceholder:"hourPlaceholder"},features:[e.qOj,e.TTD],decls:4,vars:3,consts:[["class","input-date","style","min-width: 120px; flex: 1; margin-right: 20px",3,"ngStyle","floatLabel","appearance",4,"ngIf"],["class","input-time","style","min-width: 70px",3,"floatLabel","appearance",4,"ngIf"],[1,"form-zone"],["class","input-zone",4,"ngIf"],[1,"input-date",2,"min-width","120px","flex","1","margin-right","20px",3,"ngStyle","floatLabel","appearance"],["matInput","",2,"width","auto",3,"ngModel","matDatepicker","placeholder","required","disabled","ngModelChange","change","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["picker",""],[4,"ngIf"],[3,"messages","control"],[1,"input-time",2,"min-width","70px",3,"floatLabel","appearance"],["type","time","matInput","",3,"ngModel","placeholder","required","disabled","ngModelChange","change"],[1,"input-zone"],["type","text","matInput","","placeholder","Zona horaria",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&(e.YNc(0,Ht,8,14,"mat-form-field",0),e.YNc(1,qt,2,6,"mat-form-field",1),e.TgZ(2,"form",2),e.YNc(3,Bt,6,5,"mat-form-field",3),e.qZA()),2&t&&(e.Q6J("ngIf",i.control),e.xp6(1),e.Q6J("ngIf",i.control&&i.hasTimeInput),e.xp6(2),e.Q6J("ngIf",i.hasTimeInput&&i.showTimeZone))},dependencies:[_.sg,_.O5,_.PC,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.On,c.F,oe.qJ,c.oH,Ee.Zl,m.Mq,m.hl,m.nW,k.ey,p.XC,p.ZL,h.TO,h.KE,h.hX,h.R9,w.Nt,_.Ov],styles:["[_nghost-%COMP%]{display:flex;overflow:hidden;box-sizing:border-box;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.changeQuickDay[_ngcontent-%COMP%]{border:0;cursor:pointer;font-size:large;margin-bottom:8px}"],changeDetection:0}),o})();var Gt=s(3076),Kt=s(502),zt=s(7500),Pt=s(3103);const Wt=["fileDialog"],Xt=["errorDialog"];function ei(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.showHelp())}),e.TgZ(1,"mat-icon"),e._uU(2,"help_outline"),e.qZA()()}}function ti(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"img",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.selectFile())}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("src",t.control.value,e.LSH)}}function ii(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"img",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.selectFile())}),e.qZA()}}function oi(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",15),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("messages",t.errorMessages)("control",t.control)}}const ni=function(o){return{"img-registry-editable":o}};function ai(o,a){if(1&o&&(e.TgZ(0,"div",4)(1,"mat-form-field",5),e._UZ(2,"input",6),e.YNc(3,ei,3,0,"button",7),e.qZA(),e._UZ(4,"div",8),e.YNc(5,ti,1,1,"img",9),e.YNc(6,ii,1,0,"img",10),e.YNc(7,oi,2,2,"mat-error",11),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(8,ni,t.control.enabled)),e.xp6(2),e.s9C("value",t.label),e.Q6J("placeholder",t.placeholder)("disabled",!0),e.xp6(1),e.Q6J("ngIf",t.help),e.xp6(2),e.Q6J("ngIf",t.control.value),e.xp6(1),e.Q6J("ngIf",!t.control.value),e.xp6(1),e.Q6J("ngIf",t.control.invalid)}}function li(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.showHelp())}),e.TgZ(1,"mat-icon"),e._uU(2,"help_outline"),e.qZA()()}}function si(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",15),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("messages",t.errorMessages)("control",t.control)}}function ri(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3),e.qZA(),e._UZ(4,"input",18),e.TgZ(5,"mat-icon",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectFile())}),e._uU(6,"cloud_upload"),e.qZA(),e.YNc(7,li,3,0,"button",7),e.qZA(),e.YNc(8,si,2,2,"mat-error",11),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("floatLabel",t.floatLabel),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("value",t.control.value)("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.help),e.xp6(1),e.Q6J("ngIf",t.control.invalid)}}function ci(o,a){1&o&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"component.fileupload.selectImage")," "))}function di(o,a){1&o&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"component.fileupload.selectFile")," "))}function ui(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"img",36),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw(3);return e.KtG(l.openFileBrowser(n))}),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("src",t.srcTemporal,e.LSH)}}function pi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"img",37),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw(3);return e.KtG(l.openFileBrowser(n))}),e.qZA()}}function mi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"button",32),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openFileBrowser(n))}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"mat-divider",25),e.TgZ(6,"input",33),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.showPreviewImage(n))}),e.qZA()(),e.YNc(7,ui,1,1,"img",34),e.YNc(8,pi,1,0,"img",35),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"component.fileupload.clickToChooseImage")," "),e.xp6(3),e.s9C("id",t.buttonId),e.xp6(1),e.Q6J("ngIf",t.srcTemporal),e.xp6(1),e.Q6J("ngIf",!t.srcTemporal)}}function hi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"button",38),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openFileBrowser(n))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",33),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.showPreviewImage(n))}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,2,"component.fileupload.chooseFile")," "),e.xp6(2),e.s9C("id",t.buttonId)}}function fi(o,a){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",39),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("value",t.progressValue),e.xp6(2),e.hij("",t.progressValue,"%")}}function _i(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.dialogRef?null:n.dialogRef.close())}),e.TgZ(2,"mat-icon"),e._uU(3,"close"),e.qZA()(),e.YNc(4,ci,3,3,"p",22),e.YNc(5,di,3,3,"p",22),e.qZA(),e.TgZ(6,"mat-dialog-content",23),e.YNc(7,mi,9,6,"div",24),e.YNc(8,hi,5,4,"div",24),e.YNc(9,fi,4,2,"div",11),e.qZA(),e._UZ(10,"mat-divider",25),e.TgZ(11,"mat-dialog-actions",20),e._UZ(12,"span",26),e.TgZ(13,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save(null))}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save(n.response))}),e._uU(17),e.ALo(18,"translate"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf","image"===t.contentType),e.xp6(1),e.Q6J("ngIf","image"!==t.contentType),e.xp6(2),e.Q6J("ngIf","image"===t.contentType),e.xp6(1),e.Q6J("ngIf","image"!==t.contentType),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(5),e.Oqu(e.lcZ(15,8,"component.fileupload.quit")),e.xp6(2),e.Q6J("disabled",null==t.response||""==t.response),e.xp6(1),e.hij(" ",e.lcZ(18,10,"component.fileupload.accept")," ")}}function gi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"h5",40),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"mat-dialog-content")(4,"p",41),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"mat-dialog-actions")(8,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(null==n.errorDialogRef?null:n.errorDialogRef.close())}),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"component.fileupload.error")),e.xp6(4),e.Oqu(e.lcZ(6,5,"component.fileupload.toBig")),e.xp6(4),e.Oqu(e.lcZ(10,7,"component.fileupload.close")))}let bi=1,xi=(()=>{class o extends oe.G7{constructor(t,i){super(t),this.cdRef=i,this.contentType="file",this.localUrl="assets/perfilDefecto.jpg",this.srcTemporal="",this.loading=!1,this.progressValue=0,this.buttonId="_upload_button_id_"+bi+++(new Date).getTime()}selectFile(){var t;if(null===(t=this.control)||void 0===t||!t.disabled){if(!this.fileDialog)throw new Error("Intentando levantar el dialogo sin la plantailla");this.dialogRef=this.service.dialog.open(this.fileDialog)}}openFileBrowser(t){t.preventDefault();const i=document.getElementById(this.buttonId);null==i||i.click()}showPreviewImage(t){if(t.target.files&&t.target.files[0]){this.loading=!0;const i=new FileReader;if(i.onload=n=>{this.localUrl=n.target.result},i.readAsDataURL(t.target.files[0]),!this.upload)throw new Error("Intentando subir sin indicar el callback");{const n=this.upload(t.target.files[0]).pipe((0,Ie.b)(l=>{this.progressValue=l.progressPercent}),(0,Pt.Z)()).subscribe({next:l=>{this.srcTemporal=this.response=l.data,this.subscriptions.remove(n)},error:l=>{if(this.subscriptions.remove(n),413===l.status){if(this.service.errorHandler.cancelError(l),!this.errorDialog)throw new Error("Intentando pintar un error sin la plantilla");this.errorDialogRef=this.service.dialog.open(this.errorDialog)}}});this.subscriptions.add(n)}}}save(t){this.srcTemporal="",this.response="",this.loading=!1,this.progressValue=0,this.dialogRef&&this.dialogRef.close(),this.control&&(this.control.markAsDirty(),this.control.setValue(t)),this.cdRef.markForCheck()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(fe.U),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["editable-upload"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Wt,5),e.Gf(Xt,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.fileDialog=n.first),e.iGM(n=e.CRH())&&(i.errorDialog=n.first)}},inputs:{contentType:"contentType",upload:"upload"},features:[e.qOj],decls:6,vars:2,consts:[["class","form-group img-registry mat-typography","style","flex: 1; display: flex; flex-direction: column; justify-content: center; position: relative",3,"ngClass",4,"ngIf"],["class","form-group img-registry mat-typography","style","display: flex; flex-direction: row; justify-content: space-between",4,"ngIf"],["fileDialog",""],["errorDialog",""],[1,"form-group","img-registry","mat-typography",2,"flex","1","display","flex","flex-direction","column","justify-content","center","position","relative",3,"ngClass"],["fxFlex","100%",2,"position","absolute","top","0px","left","0px","right","0px"],["matInput","",3,"placeholder","disabled","value"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[2,"height","40px"],["style","width: 100%; margin: auto; border: solid silver 1px","class","img-fluid","alt","image",3,"src","click",4,"ngIf"],["style","width: 20%; border: solid silver 1px","class","img-fluid","src","./assets/img/resources/no-image.png","alt","no-image",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["alt","image",1,"img-fluid",2,"width","100%","margin","auto","border","solid silver 1px",3,"src","click"],["src","./assets/img/resources/no-image.png","alt","no-image",1,"img-fluid",2,"width","20%","border","solid silver 1px",3,"click"],[3,"messages","control"],[1,"form-group","img-registry","mat-typography",2,"display","flex","flex-direction","row","justify-content","space-between"],[3,"floatLabel"],["matInput","",3,"value","disabled"],["matSuffix","",3,"click"],[2,"display","flex"],["mat-icon-button","",3,"click"],["mat-dialog-title","","mat-dialog-title","",4,"ngIf"],[2,"position","relative"],["class","form-group img-registry mat-typography",4,"ngIf"],[2,"margin","0px -25px 0px -25px"],[2,"flex","1"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"disabled","click"],["mat-dialog-title","","mat-dialog-title",""],[1,"form-group","img-registry","mat-typography"],[1,"upload-img"],["mat-button","",3,"click"],["type","file",2,"display","none",3,"id","change"],["class","img-fluid","alt","uploaded",3,"src","click",4,"ngIf"],["src","./assets/img/resources/upload-file.png","class","img-fluid","alt","no-upload",3,"click",4,"ngIf"],["alt","uploaded",1,"img-fluid",3,"src","click"],["src","./assets/img/resources/upload-file.png","alt","no-upload",1,"img-fluid",3,"click"],["mat-stroked-button","",3,"click"],[3,"value"],["mat-dialog-title",""],[1,"mat-typography"]],template:function(t,i){1&t&&(e.YNc(0,ai,8,10,"div",0),e.YNc(1,ri,9,6,"div",1),e.YNc(2,_i,19,12,"ng-template",null,2,e.W1O),e.YNc(4,gi,11,9,"ng-template",null,3,e.W1O)),2&t&&(e.Q6J("ngIf",i.control&&"image"===i.contentType),e.xp6(1),e.Q6J("ngIf",i.control&&"image"!==i.contentType))},dependencies:[_.mk,_.O5,oe.qJ,ae.yH,Ee.oO,h.TO,h.KE,h.hX,h.R9,w.Nt,Y.lW,E.uh,E.xY,E.H8,P.d,$.Hw,W.pW,y.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.img-registry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0;padding:0}.img-registry-editable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.5}#input-img-registry[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),o})();function vi(o,a){if(1&o&&(e._UZ(0,"editable-check",25),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.guardado.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.guardado.placeholder")),e.Q6J("control",t.fields.guardado.control)}}function Ci(o,a){if(1&o&&(e._UZ(0,"editable-check",26),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.validado.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.validado.placeholder")),e.Q6J("control",t.fields.validado.control)}}function yi(o,a){if(1&o&&(e._UZ(0,"editable-datetime",27),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.fecha-subida.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.fecha-subida.placeholder")),e.Q6J("hasTimeInput",!0)("control",t.fields.fechaSubida.control)}}function wi(o,a){if(1&o&&(e._UZ(0,"editable-datetime",28),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.fecha-validacion.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.fecha-validacion.placeholder")),e.Q6J("hasTimeInput",!0)("control",t.fields.fechaValidacion.control)}}function Zi(o,a){if(1&o&&(e.TgZ(0,"editable-datetime",29),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",30),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,6,"proyecto.documento-view.form.fecha.label")),e.s9C("placeholder",e.lcZ(2,8,"proyecto.documento-view.form.fecha.placeholder")),e.Q6J("hasTimeInput",!0)("control",t.fields.fecha.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,10,"proyecto.documento-view.form.fecha.rule.required"))}}function Ti(o,a){if(1&o&&(e.TgZ(0,"editable-text",31),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",32),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.guid.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.guid.placeholder")),e.Q6J("control",t.fields.guid.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.documento-view.form.guid.rule.maxlength"))}}function Ai(o,a){if(1&o&&(e.TgZ(0,"editable-textarea",33),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",30),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.documento-view.form.contenido.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.documento-view.form.contenido.placeholder")),e.Q6J("control",t.fields.contenido.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.documento-view.form.contenido.rule.required"))}}function Mi(o,a){if(1&o&&(e._UZ(0,"editable-textarea",34),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.contenido-traducido.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.contenido-traducido.placeholder")),e.Q6J("control",t.fields.contenidoTraducido.control)}}function Di(o,a){if(1&o&&(e.TgZ(0,"editable-text",35),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",32),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.autor.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.autor.placeholder")),e.Q6J("control",t.fields.autor.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.documento-view.form.autor.rule.maxlength"))}}function Ii(o,a){if(1&o&&(e._UZ(0,"editable-textarea",36),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.meta-datos.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.meta-datos.placeholder")),e.Q6J("control",t.fields.metaDatos.control)}}function Fi(o,a){if(1&o&&(e._UZ(0,"editable-upload",37),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.adjunto.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.adjunto.placeholder")),e.Q6J("control",t.fields.adjunto.control)("upload",t.uploadDocumentoAdjunto)}}function Li(o,a){if(1&o&&(e._UZ(0,"editable-upload",38),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.multimedia.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.multimedia.placeholder")),e.Q6J("control",t.fields.multimedia.control)("upload",t.uploadDocumentoMultimedia)}}function Ei(o,a){if(1&o&&(e.TgZ(0,"editable-text",39),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",32),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.tipo.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.tipo.placeholder")),e.Q6J("control",t.fields.tipo.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.documento-view.form.tipo.rule.maxlength"))}}function Si(o,a){if(1&o&&(e.TgZ(0,"editable-text",40),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",32),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.origen.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.origen.placeholder")),e.Q6J("control",t.fields.origen.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.documento-view.form.origen.rule.maxlength"))}}function Ji(o,a){if(1&o&&(e.TgZ(0,"editable-text",41),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",32),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.documento-view.form.idioma.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.documento-view.form.idioma.placeholder")),e.Q6J("control",t.fields.idioma.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.documento-view.form.idioma.rule.maxlength"))}}function Yi(o,a){if(1&o&&(e.TgZ(0,"editable-choose",42),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",30),e.ALo(4,"translate"),e._UZ(5,"editable-option",43),e.ALo(6,"translate"),e._UZ(7,"editable-option",43),e.ALo(8,"translate"),e._UZ(9,"editable-option",43),e.ALo(10,"translate"),e._UZ(11,"editable-option",43),e.ALo(12,"translate"),e._UZ(13,"editable-option",43),e.ALo(14,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,15,"proyecto.documento-view.form.valoracion-fuente.label")),e.s9C("placeholder",e.lcZ(2,17,"proyecto.documento-view.form.valoracion-fuente.placeholder")),e.Q6J("control",t.fields.valoracionFuente.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,19,"proyecto.documento-view.form.valoracionFuente.rule.required")),e.xp6(2),e.s9C("label",e.lcZ(6,21,"proyecto.documento-view.form.valoracionFuente.options.f-a")),e.Q6J("value","F_A"),e.xp6(2),e.s9C("label",e.lcZ(8,23,"proyecto.documento-view.form.valoracionFuente.options.f-b")),e.Q6J("value","F_B"),e.xp6(2),e.s9C("label",e.lcZ(10,25,"proyecto.documento-view.form.valoracionFuente.options.f-c")),e.Q6J("value","F_C"),e.xp6(2),e.s9C("label",e.lcZ(12,27,"proyecto.documento-view.form.valoracionFuente.options.f-d")),e.Q6J("value","F_D"),e.xp6(2),e.s9C("label",e.lcZ(14,29,"proyecto.documento-view.form.valoracionFuente.options.f-e")),e.Q6J("value","F_E")}}function ki(o,a){if(1&o&&(e.TgZ(0,"editable-choose",44),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",30),e.ALo(4,"translate"),e._UZ(5,"editable-option",43),e.ALo(6,"translate"),e._UZ(7,"editable-option",43),e.ALo(8,"translate"),e._UZ(9,"editable-option",43),e.ALo(10,"translate"),e._UZ(11,"editable-option",43),e.ALo(12,"translate"),e._UZ(13,"editable-option",43),e.ALo(14,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,15,"proyecto.documento-view.form.valoracion-informacion.label")),e.s9C("placeholder",e.lcZ(2,17,"proyecto.documento-view.form.valoracion-informacion.placeholder")),e.Q6J("control",t.fields.valoracionInformacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,19,"proyecto.documento-view.form.valoracionInformacion.rule.required")),e.xp6(2),e.s9C("label",e.lcZ(6,21,"proyecto.documento-view.form.valoracionInformacion.options.i-1")),e.Q6J("value","I_1"),e.xp6(2),e.s9C("label",e.lcZ(8,23,"proyecto.documento-view.form.valoracionInformacion.options.i-2")),e.Q6J("value","I_2"),e.xp6(2),e.s9C("label",e.lcZ(10,25,"proyecto.documento-view.form.valoracionInformacion.options.i-3")),e.Q6J("value","I_3"),e.xp6(2),e.s9C("label",e.lcZ(12,27,"proyecto.documento-view.form.valoracionInformacion.options.i-4")),e.Q6J("value","I_4"),e.xp6(2),e.s9C("label",e.lcZ(14,29,"proyecto.documento-view.form.valoracionInformacion.options.i-5")),e.Q6J("value","I_5")}}function Oi(o,a){if(1&o&&(e._UZ(0,"editable-check",45),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.ubicacion-explicita.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.ubicacion-explicita.placeholder")),e.Q6J("control",t.fields.ubicacionExplicita.control)}}function Ni(o,a){if(1&o&&(e._UZ(0,"editable-decimal",46),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.longitud-minima.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.longitud-minima.placeholder")),e.Q6J("control",t.fields.longitudMinima.control)}}function Ui(o,a){if(1&o&&(e._UZ(0,"editable-decimal",47),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.longitud-maxima.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.longitud-maxima.placeholder")),e.Q6J("control",t.fields.longitudMaxima.control)}}function Vi(o,a){if(1&o&&(e._UZ(0,"editable-decimal",48),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.latitud-minima.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.latitud-minima.placeholder")),e.Q6J("control",t.fields.latitudMinima.control)}}function Qi(o,a){if(1&o&&(e._UZ(0,"editable-decimal",49),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.documento-view.form.latitud-maxima.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.documento-view.form.latitud-maxima.placeholder")),e.Q6J("control",t.fields.latitudMaxima.control)}}function Ri(o,a){if(1&o&&(e._UZ(0,"editable-chips",50),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.documento-view.form.etiquetas.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.documento-view.form.etiquetas.placeholder")),e.Q6J("control",t.fields.etiquetas.control)("search",t.relatedDocumentoEtiquetas)("retrieve",t.retrieveDocumentoEtiquetas)}}function Hi(o,a){if(1&o&&(e._UZ(0,"editable-chips",51),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.documento-view.form.eventos.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.documento-view.form.eventos.placeholder")),e.Q6J("control",t.fields.eventos.control)("search",t.relatedDocumentoEventos)("retrieve",t.retrieveDocumentoEventos)}}function qi(o,a){if(1&o&&(e.YNc(0,vi,3,7,"editable-check",1),e.YNc(1,Ci,3,7,"editable-check",2),e.YNc(2,yi,3,8,"editable-datetime",3),e.YNc(3,wi,3,8,"editable-datetime",4),e.YNc(4,Zi,5,12,"editable-datetime",5),e.YNc(5,Ti,5,10,"editable-text",6),e.YNc(6,Ai,5,11,"editable-textarea",7),e.YNc(7,Mi,3,7,"editable-textarea",8),e.YNc(8,Di,5,10,"editable-text",9),e.YNc(9,Ii,3,7,"editable-textarea",10),e.YNc(10,Fi,3,8,"editable-upload",11),e.YNc(11,Li,3,8,"editable-upload",12),e.YNc(12,Ei,5,10,"editable-text",13),e.YNc(13,Si,5,10,"editable-text",14),e.YNc(14,Ji,5,10,"editable-text",15),e.YNc(15,Yi,15,31,"editable-choose",16),e.YNc(16,ki,15,31,"editable-choose",17),e.YNc(17,Oi,3,7,"editable-check",18),e.YNc(18,Ni,3,7,"editable-decimal",19),e.YNc(19,Ui,3,7,"editable-decimal",20),e.YNc(20,Vi,3,7,"editable-decimal",21),e.YNc(21,Qi,3,7,"editable-decimal",22),e.YNc(22,Ri,3,9,"editable-chips",23),e.YNc(23,Hi,3,9,"editable-chips",24)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.guardado?null:t.fields.guardado.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.validado?null:t.fields.validado.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.fechaSubida?null:t.fields.fechaSubida.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.fechaValidacion?null:t.fields.fechaValidacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.fecha?null:t.fields.fecha.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.guid?null:t.fields.guid.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.contenido?null:t.fields.contenido.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.contenidoTraducido?null:t.fields.contenidoTraducido.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.autor?null:t.fields.autor.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.metaDatos?null:t.fields.metaDatos.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.adjunto?null:t.fields.adjunto.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.multimedia?null:t.fields.multimedia.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.tipo?null:t.fields.tipo.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.origen?null:t.fields.origen.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.idioma?null:t.fields.idioma.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.valoracionFuente?null:t.fields.valoracionFuente.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.valoracionInformacion?null:t.fields.valoracionInformacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.ubicacionExplicita?null:t.fields.ubicacionExplicita.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.longitudMinima?null:t.fields.longitudMinima.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.longitudMaxima?null:t.fields.longitudMaxima.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.latitudMinima?null:t.fields.latitudMinima.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.latitudMaxima?null:t.fields.latitudMaxima.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.etiquetas?null:t.fields.etiquetas.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.eventos?null:t.fields.eventos.visible)}}let Se=(()=>{class o{constructor(t,i,n,l,v,F){this.documentoRepository=t,this.etiquetaRepository=i,this.eventoRepository=n,this.cdRef=l,this.appState=v,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={guardado:{visible:!0,editable:!0,disabled:!1},validado:{visible:!0,editable:!0,disabled:!1},fechaSubida:{visible:!0,editable:!0,disabled:!1},fechaValidacion:{visible:!0,editable:!0,disabled:!1},fecha:{visible:!0,editable:!0,disabled:!1},guid:{visible:!0,editable:!0,disabled:!1},contenido:{visible:!0,editable:!0,disabled:!1},contenidoTraducido:{visible:!0,editable:!0,disabled:!1},autor:{visible:!0,editable:!0,disabled:!1},metaDatos:{visible:!0,editable:!0,disabled:!1},adjunto:{visible:!0,editable:!0,disabled:!1},multimedia:{visible:!0,editable:!0,disabled:!1},tipo:{visible:!0,editable:!0,disabled:!1},origen:{visible:!0,editable:!0,disabled:!1},idioma:{visible:!0,editable:!0,disabled:!1},valoracionFuente:{visible:!0,editable:!0,disabled:!1},valoracionInformacion:{visible:!0,editable:!0,disabled:!1},ubicacionExplicita:{visible:!0,editable:!0,disabled:!1},longitudMinima:{visible:!0,editable:!0,disabled:!1},longitudMaxima:{visible:!0,editable:!0,disabled:!1},latitudMinima:{visible:!0,editable:!0,disabled:!1},latitudMaxima:{visible:!0,editable:!0,disabled:!1},etiquetas:{visible:!0,editable:!0,disabled:!1},eventos:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new me.w0,this.uploadDocumentoAdjunto=S=>this.documentoRepository.storeFile(S),this.uploadDocumentoMultimedia=S=>this.documentoRepository.storeFile(S),this.relatedDocumentoEtiquetas=S=>this.etiquetaRepository.list(this.filter(new it.Gw,S,this.documentoEtiquetasFilter)),this.retrieveDocumentoEtiquetas=S=>this.etiquetaRepository.retrieve(S.uid),this.relatedDocumentoEventos=S=>this.eventoRepository.list(this.filter(new ot.er,S,this.documentoEventosFilter)),this.retrieveDocumentoEventos=S=>this.eventoRepository.retrieve(S.uid),this.initialsAndDefaults={guardado:!1,validado:!1,fecha:0,contenido:"",valoracionFuente:"F_E",valoracionInformacion:"I_4"},this.form=F.group({guardado:this.fields.guardado.control=new c.NI("",[]),validado:this.fields.validado.control=new c.NI("",[]),fechaSubida:this.fields.fechaSubida.control=new c.NI("",[]),fechaValidacion:this.fields.fechaValidacion.control=new c.NI("",[]),fecha:this.fields.fecha.control=new c.NI("",[c.kI.required]),guid:this.fields.guid.control=new c.NI("",[c.kI.maxLength(250)]),contenido:this.fields.contenido.control=new c.NI("",[c.kI.required]),contenidoTraducido:this.fields.contenidoTraducido.control=new c.NI("",[]),autor:this.fields.autor.control=new c.NI("",[c.kI.maxLength(250)]),metaDatos:this.fields.metaDatos.control=new c.NI("",[]),adjunto:this.fields.adjunto.control=new c.NI("",[]),multimedia:this.fields.multimedia.control=new c.NI("",[]),tipo:this.fields.tipo.control=new c.NI("",[c.kI.maxLength(250)]),origen:this.fields.origen.control=new c.NI("",[c.kI.maxLength(250)]),idioma:this.fields.idioma.control=new c.NI("",[c.kI.maxLength(250)]),valoracionFuente:this.fields.valoracionFuente.control=new c.NI("",[c.kI.required]),valoracionInformacion:this.fields.valoracionInformacion.control=new c.NI("",[c.kI.required]),ubicacionExplicita:this.fields.ubicacionExplicita.control=new c.NI("",[]),longitudMinima:this.fields.longitudMinima.control=new c.NI("",[]),longitudMaxima:this.fields.longitudMaxima.control=new c.NI("",[]),latitudMinima:this.fields.latitudMinima.control=new c.NI("",[]),latitudMaxima:this.fields.latitudMaxima.control=new c.NI("",[]),etiquetas:this.fields.etiquetas.control=new c.NI("",[]),eventos:this.fields.eventos.control=new c.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.documentoRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.documentoRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=["guardado","validado","fechaSubida","fechaValidacion"],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.documentoRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.documentoRepository.update(t,i):this.documentoRepository.add(i)).pipe((0,lt.I)(),(0,nt.K)(l=>{var v;return t&&this.documentoRepository.retrieve(t).subscribe(F=>{this.formView&&this.formView.markOriginal(F)}),null===(v=this.formView)||void 0===v||v.showError(l),(0,at._)(()=>l)}),(0,Ie.b)(l=>{var v;Object.keys(l).forEach(F=>{this.data[F]=l[F],this.formView&&(this.formView.data[F]=l[F])}),null===(v=this.formView)||void 0===v||v.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const l of Object.keys(n))t[l]=n[l];if(this.contextFilter)for(const l of Object.keys(this.contextFilter))t[l]=this.contextFilter[l];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ue.YP),e.Y36(st.J),e.Y36(rt.h),e.Y36(e.sBO),e.Y36(G.aB),e.Y36(c.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["documento-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(De.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",documentoEtiquetasFilter:"documentoEtiquetasFilter",documentoEventosFilter:"documentoEventosFilter"},features:[e.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-guardado",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-validado",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fechaSubida",3,"hasTimeInput","control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fechaValidacion",3,"hasTimeInput","control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fecha",3,"hasTimeInput","control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-guid",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-contenido",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-contenidoTraducido",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-autor",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-metaDatos",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-documento-adjunto",3,"control","upload","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-documento-multimedia",3,"control","upload","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-tipo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-origen",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-idioma",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-valoracionFuente",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-valoracionInformacion",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-ubicacionExplicita",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-longitudMinima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-longitudMaxima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-latitudMinima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-latitudMaxima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-etiquetas","display","nombre","join","etiqueta",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-eventos","display","nombre","join","evento",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-guardado",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-validado",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fechaSubida",3,"hasTimeInput","control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fechaValidacion",3,"hasTimeInput","control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-fecha",3,"hasTimeInput","control","required","label","placeholder"],["for","required",3,"message"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-guid",3,"control","label","placeholder"],["for","maxlength",3,"message"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-contenido",3,"control","required","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-contenidoTraducido",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-autor",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-metaDatos",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-documento-adjunto",3,"control","upload","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-documento-multimedia",3,"control","upload","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-tipo",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-origen",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-idioma",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-valoracionFuente",3,"control","required","label","placeholder"],[3,"value","label"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-valoracionInformacion",3,"control","required","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-ubicacionExplicita",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-longitudMinima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-longitudMaxima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-latitudMinima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-latitudMaxima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-etiquetas","display","nombre","join","etiqueta",3,"control","label","placeholder","search","retrieve"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-documento-eventos","display","nombre","join","evento",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,qi,24,24,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.documento")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[_.O5,ct.Z,Ut,Vt.b,oe.tx,jt,Gt.S,oe.IK,Kt.x,zt.w,xi,ae.xw,ae.SQ,ae.yH,De.k,y.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),o})(),$i=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["documento-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"documento-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[Se],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const Bi=["actions"];function ji(o,a){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"documento-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",15),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const l=e.MAs(1);return e.KtG(l.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const l=e.MAs(1);return e.KtG(l.execAndJumpToAction(n.saveValue(),l.isAllowed("detail")?"detail":"edit",l.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.documento-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.documento-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.documento-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.documento-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.documento-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.documento-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.documento-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function Gi(o,a){if(1&o&&e._UZ(0,"documento-view-detail",17),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function Ki(o,a){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"documento-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const l=e.MAs(1);return e.KtG(l.execAndJumpToAction(n.saveValue(),l.isAllowed("detail")?"detail":"edit",l.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.documento-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.documento-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.documento-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let zi=(()=>{class o{constructor(t){this.documentoRepository=t,this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.documentoRepository.delete(this.documentoRepository.key(i)),this.deleteSelection=i=>{const n=new pe.Xh;return i&&(n.uids=i.map(l=>l.uid).join(",")),this.documentoRepository.deleteAllForQuery(n)},this.validar=i=>this.documentoRepository.validar(i),this.validarSelection=i=>{const n=new pe.Xh;return i&&(n.uids=i.map(l=>l.uid).join(",")),this.documentoRepository.validarAllForQuery(n)},this.validarDisabled=i=>!i||!0===i.validado,this.guardar=i=>this.documentoRepository.guardar(i),this.guardarSelection=i=>{const n=new pe.Xh;return i&&(n.uids=i.map(l=>l.uid).join(",")),this.documentoRepository.guardarAllForQuery(n)},this.guardarDisabled=i=>!i||!1===i.guardado}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ue.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["documento-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(Bi,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:50,vars:135,consts:[[3,"repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","validar","acl","validar","icon","fact_check",3,"label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","validarSelection","acl","validar","icon","fact_check",3,"multiple","label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","guardar","acl","guardar","icon","turned_in_not",3,"label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","guardarSelection","acl","guardar","icon","turned_in_not",3,"multiple","label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(l){return i.onAction.emit(l)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,ji,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,Gi,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,Ki,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e._UZ(26,"action-command",7),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.ALo(30,"translate"),e.ALo(31,"translate"),e._UZ(32,"action-command",8),e.ALo(33,"translate"),e.ALo(34,"translate"),e.ALo(35,"translate"),e.ALo(36,"translate"),e.ALo(37,"translate"),e._UZ(38,"action-command",9),e.ALo(39,"translate"),e.ALo(40,"translate"),e.ALo(41,"translate"),e.ALo(42,"translate"),e.ALo(43,"translate"),e._UZ(44,"action-command",10),e.ALo(45,"translate"),e.ALo(46,"translate"),e.ALo(47,"translate"),e.ALo(48,"translate"),e.ALo(49,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("repository",i.documentoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,63,"proyecto.documento-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,65,"proyecto.documento-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,67,"proyecto.documento-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,69,"proyecto.documento-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,71,"proyecto.documento-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,73,"proyecto.documento-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,75,"proyecto.documento-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,77,"proyecto.documento-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,79,"proyecto.documento-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,81,"proyecto.documento-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,83,"proyecto.documento-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,85,"proyecto.documento-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,87,"proyecto.documento-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,89,"proyecto.documento-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,91,"proyecto.documento-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,93,"proyecto.documento-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection),e.xp6(6),e.s9C("label",e.lcZ(27,95,"proyecto.documento-view.list.action.validar.label")),e.s9C("confirmTitle",e.lcZ(28,97,"proyecto.documento-view.list.action.validar.title")),e.s9C("confirmSubtitle",e.lcZ(29,99,"proyecto.documento-view.list.action.validar.subtitle")),e.s9C("confirmOk",e.lcZ(30,101,"proyecto.documento-view.list.action.validar.confirm")),e.s9C("confirmCancel",e.lcZ(31,103,"proyecto.documento-view.list.action.validar.cancel")),e.Q6J("hidden",i.validarDisabled)("close",!1)("exec",i.validar),e.xp6(6),e.s9C("label",e.lcZ(33,105,"proyecto.documento-view.list.action.validar-selection.label")),e.s9C("confirmTitle",e.lcZ(34,107,"proyecto.documento-view.list.action.validar-selection.title")),e.s9C("confirmSubtitle",e.lcZ(35,109,"proyecto.documento-view.list.action.validar-selection.subtitle")),e.s9C("confirmOk",e.lcZ(36,111,"proyecto.documento-view.list.action.validar-selection.confirm")),e.s9C("confirmCancel",e.lcZ(37,113,"proyecto.documento-view.list.action.validar-selection.cancel")),e.Q6J("multiple",!0)("hidden",i.validarDisabled)("close",!1)("exec",i.validarSelection),e.xp6(6),e.s9C("label",e.lcZ(39,115,"proyecto.documento-view.list.action.guardar.label")),e.s9C("confirmTitle",e.lcZ(40,117,"proyecto.documento-view.list.action.guardar.title")),e.s9C("confirmSubtitle",e.lcZ(41,119,"proyecto.documento-view.list.action.guardar.subtitle")),e.s9C("confirmOk",e.lcZ(42,121,"proyecto.documento-view.list.action.guardar.confirm")),e.s9C("confirmCancel",e.lcZ(43,123,"proyecto.documento-view.list.action.guardar.cancel")),e.Q6J("hidden",i.guardarDisabled)("close",!1)("exec",i.guardar),e.xp6(6),e.s9C("label",e.lcZ(45,125,"proyecto.documento-view.list.action.guardar-selection.label")),e.s9C("confirmTitle",e.lcZ(46,127,"proyecto.documento-view.list.action.guardar-selection.title")),e.s9C("confirmSubtitle",e.lcZ(47,129,"proyecto.documento-view.list.action.guardar-selection.subtitle")),e.s9C("confirmOk",e.lcZ(48,131,"proyecto.documento-view.list.action.guardar-selection.confirm")),e.s9C("confirmCancel",e.lcZ(49,133,"proyecto.documento-view.list.action.guardar-selection.cancel")),e.Q6J("multiple",!0)("hidden",i.guardarDisabled)("close",!1)("exec",i.guardarSelection)}},dependencies:[ce.V4,ce.fd,ce.Lo,ce.Fs,$i,Se,y.X$],changeDetection:0}),o})();const Pi=["list"],Wi=["searchForm"],Xi=["container"];function eo(o,a){1&o&&e._uU(0),2&o&&e.Oqu(a.$implicit.uid)}function to(o,a){1&o&&e._uU(0),2&o&&e.Oqu(a.$implicit.valoracionFuente)}function io(o,a){1&o&&e._uU(0),2&o&&e.Oqu(a.$implicit.valoracionInformacion)}function oo(o,a){1&o&&e._uU(0),2&o&&e.Oqu(a.$implicit.origen)}function no(o,a){1&o&&e._uU(0),2&o&&e.Oqu(a.$implicit.guid)}function ao(o,a){1&o&&(e._uU(0),e.ALo(1,"slice")),2&o&&e.Oqu(e.Dn7(1,1,a.$implicit.contenido,0,100))}function lo(o,a){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,eo,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,to,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,io,1,1,"ng-template"),e.qZA(),e.TgZ(10,"list-view-column",7),e.ALo(11,"translate"),e.YNc(12,oo,1,1,"ng-template"),e.qZA(),e.TgZ(13,"list-view-column",7),e.ALo(14,"translate"),e.YNc(15,no,1,1,"ng-template"),e.qZA(),e.TgZ(16,"list-view-column",8),e.ALo(17,"translate"),e.YNc(18,ao,2,5,"ng-template"),e.qZA(),e.TgZ(19,"list-view-no-content"),e._UZ(20,"img",9),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-no-results"),e._UZ(29,"img",10),e.TgZ(30,"div")(31,"h1"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.documentoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,13,"proyecto.documento-view.list.column.valoracion-fuente")),e.xp6(3),e.s9C("title",e.lcZ(8,15,"proyecto.documento-view.list.column.valoracion-informacion")),e.xp6(3),e.s9C("title",e.lcZ(11,17,"proyecto.documento-view.list.column.type")),e.xp6(3),e.s9C("title",e.lcZ(14,19,"proyecto.documento-view.list.column.url")),e.xp6(3),e.s9C("title",e.lcZ(17,21,"proyecto.documento-view.list.column.texto")),e.xp6(7),e.Oqu(e.lcZ(24,23,"proyecto.documento-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(27,25,"proyecto.documento-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(33,27,"proyecto.documento-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(36,29,"proyecto.documento-view.list.no-results.message"))}}const so=[{path:"",component:(()=>{class o{constructor(t,i,n,l,v){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=l,this.documentoRepository=v,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.documento-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){if(this.searchForm&&this.list){const t={},i=this.searchForm.first.form.value;i.search&&(t.search=i.search),this.list.first.advancedFilter=t,this.list.first.makeSearch()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(et.P),e.Y36(y.sK),e.Y36(tt.ux),e.Y36(e.sBO),e.Y36(ue.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["documento-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Pi,5),e.Gf(Wi,5),e.Gf(Xi,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:4,consts:[["id","documento-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"parents","fixed","defaults","onAction"],["container",""],["id","documento-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],["width","25px",3,"title"],["width","120px",3,"title"],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"]],template:function(t,i){1&t&&(e.YNc(0,lo,37,31,"list-view",0),e.TgZ(1,"documento-view-actions-container",1,2),e.NdJ("onAction",function(l){return i.onAction.emit(l)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[_.O5,re.Rt,re.Yi,re.if,re.To,zi,_.OU,y.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})()}];let ro=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Me.Bz.forChild(so),Me.Bz]}),o})(),co=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Xe,ro]}),o})()},354:function(ne){ne.exports=function(){"use strict";var B=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,_=/\d\d?/,y=/[+-]\d\d:?\d\d/,D={},Z={},Y={},Q=[31,0,31,30,31,30,31,31,30,31,30,31];function b(h,w){D[h]=w}function L(h,w,J){var R;"string"==typeof h&&(h=[h]),R="string"==typeof w?J?function(O){var e=+O;if(!J(e))throw new Error("Invalid "+w+': "'+O+'".');this[w]=e}:function(O){this[w]=+O}:w;for(var U=0,j=h.length;U<j;U+=1)Z[h[U]]=R}b("A",/[AP]M/),L(["A"],function(h){this.afternoon="PM"===h}),b("a",/[ap]m/),L(["a"],function(h){this.afternoon="pm"===h}),b("S",/\d/),b("SS",s),b("SSS",/\d{3}/);for(var H=function(h,w){L(h,function(J){this.milliseconds=+J*w})},c="S",k=100;1<=k;c+="S",k/=10)H(c,k);return b("s",_),b("ss",s),L(["s","ss"],"seconds",function(h){return h<=59}),b("m",_),b("mm",s),L(["m","mm"],"minutes",function(h){return h<=59}),b("H",_),b("h",_),b("HH",s),b("hh",s),L(["H","HH"],"hours",function(h){return h<=23}),L(["h","hh"],"hours",function(h){return 1<=h&&h<=12}),b("D",_),b("DD",s),L(["D","DD"],"day"),b("M",_),b("MM",s),L(["M","MM"],"month",function(h){return 1<=h&&h<=12}),b("Y",/[+-]?\d+/),b("YY",s),b("YYYY",/\d{4}/),L(["Y","YYYY"],"year"),L("YY",function(h){this.year=(h=+h)+(68<h?1900:2e3)}),b("z",/[A-Z]{3,4}/),L("z",function(h){(this.zone||(this.zone={})).abbreviation=h}),b("Z",y),b("ZZ",y),L(["Z","ZZ"],function(h){(this.zone||(this.zone={})).offset=function(w){var J=w.match(/([+-]|\d\d)/g),R=60*J[1]+ +J[2],U=0===R?0:"+"===J[0]?-R:R;if(!(U%15==0&&Math.abs(U)<=765))throw new Error('Invalid time zone offset: "'+w+'".');return U}(h)}),function(h,w){var J=w.prototype,R=J.parse;J.parse=function(U){var j,O,e,G=U.date,T=U.format;if(T){try{var x,I=(j=G,(e=Y[O=T])||(e=function N(h){var w=h.match(B);if(!w)throw new Error('Invalid format: "'+h+'".');for(var J=w.length,R=0;R<J;R+=1){var U=w[R],O=Z[U];w[R]=O?{regex:D[U],parser:O}:U.replace(/^\[|\]$/g,"")}return function(e){for(var G={},T=0,x=0;T<J;T+=1){var I=w[T];if("string"==typeof I){if(e.indexOf(I,x)!==x){var ee=e.substr(x,I.length);throw new Error('Expected "'+I+'" at character '+x+', found "'+ee+'".')}x+=I.length}else{var g=I.regex,u=I.parser,r=e.substr(x),f=g.exec(r);if(!f||0!==f.index)throw new Error('Matching "'+g+'" at character '+x+' failed with "'+r+'".');var d=f[0];u.call(G,d),x+=d.length}}return function(m){var p,C,A=m.day,M=m.month;if(p=2===M?(C=m.year)%4==0&&C%100!=0||C%400==0?29:28:Q[M-1],!(1<=A&&A<=p))throw new Error('Invalid day: "'+A+'".')}(G),function(m){var p=m.afternoon;if(void 0!==p){var C=m.hours;p?C<12&&(m.hours+=12):12===C&&(m.hours=0),delete m.afternoon}}(G),G}}(O),Y[O]=e),e(j)),ee=I.year,g=I.month,u=I.day,r=I.hours,f=I.minutes,d=I.seconds,m=I.milliseconds,p=I.zone;if(p){var C=Date.UTC(ee,g-1,u,r||0,f||0,d||0,m||0)+60*p.offset*1e3;x=new Date(C)}else x=new Date(ee,g-1,u,r||0,f||0,d||0,m||0);this.$d=x}catch(A){this.$d=new Date(Number.NaN)}this.init(U)}else R.call(this,U)}}}()},2598:function(ne){ne.exports=function(){"use strict";var B=function(_,y,D){var Z=String(_);return!Z||Z.length>=y?_:""+Array(y+1-Z.length).join(D)+_},s={padStart:B,padZoneStr:function(_){var y=Math.abs(_),D=Math.floor(y/60),Z=y%60;return(_<=0?"+":"-")+B(D,2,"0")+":"+B(Z,2,"0")},monthDiff:function(_,y){var D=12*(y.year()-_.year())+(y.month()-_.month()),Z=_.clone().add(D,"months"),Y=y-Z<0,Q=_.clone().add(D+(Y?-1:1),"months"),N=Number(-(D+(y-Z)/(Y?Z-Q:Q-Z)));return 0===Math.abs(N)?0:N},absFloor:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},prettyUnit:function(_){return{M:"month",y:"year",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"millisecond"}[_]||String(_||"").toLowerCase().replace(/s$/,"")},isUndefined:function(_){return void 0===_}};return function(_,y,D){var Z=y.prototype,Y=Z.parse,Q=Z.format,N={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};D.en.formats=N,Z.parse=function(b){var L=b&&b.format;if(L){var H=s.getLocale(b.locale).formats||{};b.format=L.replace(/LTS|LT|L/g,function(c){return H[c]||N[c]})}Y.call(this,b)},Z.format=function(b){var L=this.$locale().formats||{},H=(b||"YYYY-MM-DDTHH:mm:ssZ").replace(/LTS|LT|L{1,4}/g,function(c){return L[c]||N[c]});return Q.call(this,H)}}}()},1764:function(ne){ne.exports=function(){"use strict";var s=6e4,_=36e5,y="millisecond",D="second",Z="minute",Y="hour",Q="day",N="week",b="month",L="quarter",H="year",c="date",k="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var u=["th","st","nd","rd"],r=g%100;return"["+g+(u[(r-20)%10]||u[r]||u[0])+"]"}},R=function(g,u,r){var f=String(g);return!f||f.length>=u?g:""+Array(u+1-f.length).join(r)+g},U={s:R,z:function(g){var u=-g.utcOffset(),r=Math.abs(u),f=Math.floor(r/60),d=r%60;return(u<=0?"+":"-")+R(f,2,"0")+":"+R(d,2,"0")},m:function g(u,r){if(u.date()<r.date())return-g(r,u);var f=12*(r.year()-u.year())+(r.month()-u.month()),d=u.clone().add(f,b),m=r-d<0,p=u.clone().add(f+(m?-1:1),b);return+(-(f+(r-d)/(m?d-p:p-d))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:b,y:H,w:N,d:Q,D:c,h:Y,m:Z,s:D,ms:y,Q:L}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return void 0===g}},j="en",O={};O[j]=J;var e=function(g){return g instanceof I},G=function g(u,r,f){var d;if(!u)return j;if("string"==typeof u){var m=u.toLowerCase();O[m]&&(d=m),r&&(O[m]=r,d=m);var p=u.split("-");if(!d&&p.length>1)return g(p[0])}else{var C=u.name;O[C]=u,d=C}return!f&&d&&(j=d),d||!f&&j},T=function(g,u){if(e(g))return g.clone();var r="object"==typeof u?u:{};return r.date=g,r.args=arguments,new I(r)},x=U;x.l=G,x.i=e,x.w=function(g,u){return T(g,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var I=function(){function g(r){this.$L=G(r.locale,null,!0),this.parse(r)}var u=g.prototype;return u.parse=function(r){this.$d=function(f){var d=f.date,m=f.utc;if(null===d)return new Date(NaN);if(x.u(d))return new Date;if(d instanceof Date)return new Date(d);if("string"==typeof d&&!/Z$/i.test(d)){var p=d.match(h);if(p){var C=p[2]-1||0,A=(p[7]||"0").substring(0,3);return m?new Date(Date.UTC(p[1],C,p[3]||1,p[4]||0,p[5]||0,p[6]||0,A)):new Date(p[1],C,p[3]||1,p[4]||0,p[5]||0,p[6]||0,A)}}return new Date(d)}(r),this.$x=r.x||{},this.init()},u.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},u.$utils=function(){return x},u.isValid=function(){return this.$d.toString()!==k},u.isSame=function(r,f){var d=T(r);return this.startOf(f)<=d&&d<=this.endOf(f)},u.isAfter=function(r,f){return T(r)<this.startOf(f)},u.isBefore=function(r,f){return this.endOf(f)<T(r)},u.$g=function(r,f,d){return x.u(r)?this[f]:this.set(d,r)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(r,f){var d=this,m=!!x.u(f)||f,p=x.p(r),C=function(te,q){var V=x.w(d.$u?Date.UTC(d.$y,q,te):new Date(d.$y,q,te),d);return m?V:V.endOf(Q)},A=function(te,q){return x.w(d.toDate()[te].apply(d.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(q)),d)},M=this.$W,E=this.$M,P=this.$D,$="set"+(this.$u?"UTC":"");switch(p){case H:return m?C(1,0):C(31,11);case b:return m?C(1,E):C(0,E+1);case N:var W=this.$locale().weekStart||0,ie=(M<W?M+7:M)-W;return C(m?P-ie:P+(6-ie),E);case Q:case c:return A($+"Hours",0);case Y:return A($+"Minutes",1);case Z:return A($+"Seconds",2);case D:return A($+"Milliseconds",3);default:return this.clone()}},u.endOf=function(r){return this.startOf(r,!1)},u.$set=function(r,f){var d,m=x.p(r),p="set"+(this.$u?"UTC":""),C=(d={},d[Q]=p+"Date",d[c]=p+"Date",d[b]=p+"Month",d[H]=p+"FullYear",d[Y]=p+"Hours",d[Z]=p+"Minutes",d[D]=p+"Seconds",d[y]=p+"Milliseconds",d)[m],A=m===Q?this.$D+(f-this.$W):f;if(m===b||m===H){var M=this.clone().set(c,1);M.$d[C](A),M.init(),this.$d=M.set(c,Math.min(this.$D,M.daysInMonth())).$d}else C&&this.$d[C](A);return this.init(),this},u.set=function(r,f){return this.clone().$set(r,f)},u.get=function(r){return this[x.p(r)]()},u.add=function(r,f){var d,m=this;r=Number(r);var p=x.p(f),C=function(E){var P=T(m);return x.w(P.date(P.date()+Math.round(E*r)),m)};if(p===b)return this.set(b,this.$M+r);if(p===H)return this.set(H,this.$y+r);if(p===Q)return C(1);if(p===N)return C(7);var A=(d={},d[Z]=s,d[Y]=_,d[D]=1e3,d)[p]||1,M=this.$d.getTime()+r*A;return x.w(M,this)},u.subtract=function(r,f){return this.add(-1*r,f)},u.format=function(r){var f=this,d=this.$locale();if(!this.isValid())return d.invalidDate||k;var m=r||"YYYY-MM-DDTHH:mm:ssZ",p=x.z(this),C=this.$H,A=this.$m,M=this.$M,E=d.weekdays,P=d.months,$=function(q,V,K,X){return q&&(q[V]||q(f,m))||K[V].slice(0,X)},W=function(q){return x.s(C%12||12,q,"0")},ie=d.meridiem||function(q,V,K){var X=q<12?"AM":"PM";return K?X.toLowerCase():X},te={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:x.s(M+1,2,"0"),MMM:$(d.monthsShort,M,P,3),MMMM:$(P,M),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:$(d.weekdaysMin,this.$W,E,2),ddd:$(d.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(C),HH:x.s(C,2,"0"),h:W(1),hh:W(2),a:ie(C,A,!0),A:ie(C,A,!1),m:String(A),mm:x.s(A,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:p};return m.replace(w,function(q,V){return V||te[q]||p.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(r,f,d){var m,p=x.p(f),C=T(r),A=(C.utcOffset()-this.utcOffset())*s,M=this-C,E=x.m(this,C);return E=(m={},m[H]=E/12,m[b]=E,m[L]=E/3,m[N]=(M-A)/6048e5,m[Q]=(M-A)/864e5,m[Y]=M/_,m[Z]=M/s,m[D]=M/1e3,m)[p]||M,d?E:x.a(E)},u.daysInMonth=function(){return this.endOf(b).$D},u.$locale=function(){return O[this.$L]},u.locale=function(r,f){if(!r)return this.$L;var d=this.clone(),m=G(r,f,!0);return m&&(d.$L=m),d},u.clone=function(){return x.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},g}(),ee=I.prototype;return T.prototype=ee,[["$ms",y],["$s",D],["$m",Z],["$H",Y],["$W",Q],["$M",b],["$y",H],["$D",c]].forEach(function(g){ee[g[1]]=function(u){return this.$g(u,g[0],g[1])}}),T.extend=function(g,u){return g.$i||(g(u,I,T),g.$i=!0),T},T.locale=G,T.isDayjs=e,T.unix=function(g){return T(1e3*g)},T.en=O[j],T.Ls=O,T.p={},T}()}}]);