"use strict";(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[570],{5570:(He,y,n)=>{n.r(y),n.d(y,{LugarViewLazyModule:()=>Ge});var d=n(9808),u=n(1062),p=n(2155),L=n(5113),b=n(7423),Z=n(6510),h=n(1614),F=n(2375),V=n(2782),T=n(7893),Y=n(2499),J=n(6051),R=n(553),r=n(3075),g=n(7322),M=n(5245),v=n(7531),e=n(5e3);let I=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,r.u5,h.r,r.UX,p.o9,v.c,M.Ps,g.lN]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.V,d.ez,Y.r,R.L,I,h.r,T.o,J.a,p.o9,V.n,r.u5,L.xu,F.W,b.ot,v.c,r.UX,u.aw]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.V,d.ez,h.r,p.o9,V.n,L.xu,F.W,Q,b.ot,u.aw]}),t})();var D=n(8473);let G=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.V,d.ez,D.x,I,h.r,T.o,J.a,p.o9,V.n,r.u5,L.xu,F.W,P,Q,b.ot,M.Ps,v.c,r.UX,u.aw]}),t})();var N=n(8390),H=n(8862),q=n(7261),_=n(6305),x=n(7738),X=n(6043),w=n(8034),C=n(6537),z=n(727),j=n(262),K=n(2843),B=n(8505),k=n(5097),$=n(244),W=n(3076),A=n(791),ee=n(6050),f=n(7093);function le(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.showHelp())}),e.TgZ(1,"mat-icon"),e._uU(2,"help_outline"),e.qZA()()}}function te(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",6),e.qZA()),2&t){const l=e.oxw(2);e.xp6(1),e.Q6J("messages",l.errorMessages)("control",l.control)}}function ie(t,o){if(1&t&&(e.TgZ(0,"mat-form-field",1)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",2),e.YNc(4,le,3,0,"button",3),e.YNc(5,te,2,2,"mat-error",4),e.qZA()),2&t){const l=e.oxw();e.Q6J("floatLabel",l.floatLabel)("appearance",l.appearance),e.xp6(2),e.Oqu(l.label),e.xp6(1),e.Q6J("required",l.required)("placeholder",l.placeholder)("formControl",l.control),e.uIk("min",l.minValue)("max",l.maxValue),e.xp6(1),e.Q6J("ngIf",l.help),e.xp6(1),e.Q6J("ngIf",l.control.invalid)}}let E=(()=>{class t extends A.G7{constructor(l){super(l)}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(ee.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["editable-integer"]],features:[e.qOj],decls:1,vars:1,consts:[["fxFlex","100%",3,"floatLabel","appearance",4,"ngIf"],["fxFlex","100%",3,"floatLabel","appearance"],["type","number","matInput","","type","number","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)",3,"required","placeholder","formControl"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],[3,"messages","control"]],template:function(l,i){1&l&&e.YNc(0,ie,6,10,"mat-form-field",0),2&l&&e.Q6J("ngIf",i.control)},dependencies:[d.O5,r.Fj,r.wV,r.JJ,r.Q7,r.qQ,r.Fd,A.qJ,r.oH,f.yH,g.TO,g.KE,g.hX,g.R9,v.Nt,M.Hw],encapsulation:2,changeDetection:0}),t})();var S=n(502),U=n(7500);function oe(t,o){if(1&t&&(e.TgZ(0,"editable-text",16),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",17),e.ALo(4,"translate"),e._UZ(5,"editable-error",18),e.ALo(6,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,6,"geo.lugar-view.form.nombre.label")),e.s9C("placeholder",e.lcZ(2,8,"geo.lugar-view.form.nombre.placeholder")),e.Q6J("control",l.fields.nombre.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,10,"geo.lugar-view.form.nombre.rule.required")),e.xp6(2),e.s9C("message",e.lcZ(6,12,"geo.lugar-view.form.nombre.rule.maxlength"))}}function ae(t,o){if(1&t&&(e.TgZ(0,"editable-text",19),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",18),e.ALo(4,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,4,"geo.lugar-view.form.region.label")),e.s9C("placeholder",e.lcZ(2,6,"geo.lugar-view.form.region.placeholder")),e.Q6J("control",l.fields.region.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"geo.lugar-view.form.region.rule.maxlength"))}}function ne(t,o){if(1&t&&(e._UZ(0,"editable-check",20),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.activo.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.activo.placeholder")),e.Q6J("control",l.fields.activo.control)}}function re(t,o){if(1&t&&(e.TgZ(0,"editable-text",21),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",18),e.ALo(4,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,4,"geo.lugar-view.form.tipo.label")),e.s9C("placeholder",e.lcZ(2,6,"geo.lugar-view.form.tipo.placeholder")),e.Q6J("control",l.fields.tipo.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"geo.lugar-view.form.tipo.rule.maxlength"))}}function se(t,o){if(1&t&&(e.TgZ(0,"editable-text",22),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",18),e.ALo(4,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,4,"geo.lugar-view.form.color.label")),e.s9C("placeholder",e.lcZ(2,6,"geo.lugar-view.form.color.placeholder")),e.Q6J("control",l.fields.color.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"geo.lugar-view.form.color.rule.maxlength"))}}function ce(t,o){if(1&t&&(e.TgZ(0,"editable-textarea",23),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",17),e.ALo(4,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,5,"geo.lugar-view.form.geo-shape.label")),e.s9C("placeholder",e.lcZ(2,7,"geo.lugar-view.form.geo-shape.placeholder")),e.Q6J("control",l.fields.geoShape.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"geo.lugar-view.form.geoShape.rule.required"))}}function de(t,o){if(1&t&&(e._UZ(0,"editable-decimal",24),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.latitud-central.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.latitud-central.placeholder")),e.Q6J("control",l.fields.latitudCentral.control)}}function ue(t,o){if(1&t&&(e._UZ(0,"editable-decimal",25),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.longitud-central.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.longitud-central.placeholder")),e.Q6J("control",l.fields.longitudCentral.control)}}function fe(t,o){if(1&t&&(e._UZ(0,"editable-decimal",26),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.latitud-minima.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.latitud-minima.placeholder")),e.Q6J("control",l.fields.latitudMinima.control)}}function me(t,o){if(1&t&&(e._UZ(0,"editable-decimal",27),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.latitud-maxima.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.latitud-maxima.placeholder")),e.Q6J("control",l.fields.latitudMaxima.control)}}function ge(t,o){if(1&t&&(e._UZ(0,"editable-decimal",28),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.longitud-minima.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.longitud-minima.placeholder")),e.Q6J("control",l.fields.longitudMinima.control)}}function xe(t,o){if(1&t&&(e._UZ(0,"editable-decimal",29),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.longitud-maxima.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.longitud-maxima.placeholder")),e.Q6J("control",l.fields.longitudMaxima.control)}}function pe(t,o){if(1&t&&(e._UZ(0,"editable-integer",30),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.zoom-minimo.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.zoom-minimo.placeholder")),e.Q6J("control",l.fields.zoomMinimo.control)}}function be(t,o){if(1&t&&(e._UZ(0,"editable-integer",31),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.zoom-maximo.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.zoom-maximo.placeholder")),e.Q6J("control",l.fields.zoomMaximo.control)}}function he(t,o){if(1&t&&(e._UZ(0,"editable-integer",32),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.zoom-preferido.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.zoom-preferido.placeholder")),e.Q6J("control",l.fields.zoomPreferido.control)}}function ve(t,o){if(1&t&&(e.YNc(0,oe,7,14,"editable-text",1),e.YNc(1,ae,5,10,"editable-text",2),e.YNc(2,ne,3,7,"editable-check",3),e.YNc(3,re,5,10,"editable-text",4),e.YNc(4,se,5,10,"editable-text",5),e.YNc(5,ce,5,11,"editable-textarea",6),e.YNc(6,de,3,7,"editable-decimal",7),e.YNc(7,ue,3,7,"editable-decimal",8),e.YNc(8,fe,3,7,"editable-decimal",9),e.YNc(9,me,3,7,"editable-decimal",10),e.YNc(10,ge,3,7,"editable-decimal",11),e.YNc(11,xe,3,7,"editable-decimal",12),e.YNc(12,pe,3,7,"editable-integer",13),e.YNc(13,be,3,7,"editable-integer",14),e.YNc(14,he,3,7,"editable-integer",15)),2&t){const l=e.oxw();e.Q6J("ngIf",null==l.fields.nombre?null:l.fields.nombre.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.region?null:l.fields.region.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.activo?null:l.fields.activo.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.tipo?null:l.fields.tipo.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.color?null:l.fields.color.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.geoShape?null:l.fields.geoShape.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.latitudCentral?null:l.fields.latitudCentral.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.longitudCentral?null:l.fields.longitudCentral.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.latitudMinima?null:l.fields.latitudMinima.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.latitudMaxima?null:l.fields.latitudMaxima.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.longitudMinima?null:l.fields.longitudMinima.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.longitudMaxima?null:l.fields.longitudMaxima.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.zoomMinimo?null:l.fields.zoomMinimo.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.zoomMaximo?null:l.fields.zoomMaximo.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.zoomPreferido?null:l.fields.zoomPreferido.visible)}}let O=(()=>{class t{constructor(l,i,a){this.lugarRepository=l,this.cdRef=i,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={nombre:{visible:!0,editable:!0,disabled:!1},region:{visible:!0,editable:!0,disabled:!1},activo:{visible:!0,editable:!0,disabled:!1},tipo:{visible:!0,editable:!0,disabled:!1},color:{visible:!0,editable:!0,disabled:!1},geoShape:{visible:!0,editable:!0,disabled:!1},latitudCentral:{visible:!0,editable:!0,disabled:!1},longitudCentral:{visible:!0,editable:!0,disabled:!1},latitudMinima:{visible:!0,editable:!0,disabled:!1},latitudMaxima:{visible:!0,editable:!0,disabled:!1},longitudMinima:{visible:!0,editable:!0,disabled:!1},longitudMaxima:{visible:!0,editable:!0,disabled:!1},zoomMinimo:{visible:!0,editable:!0,disabled:!1},zoomMaximo:{visible:!0,editable:!0,disabled:!1},zoomPreferido:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.subscriptions=new z.w0,this.initialsAndDefaults={nombre:"",geoShape:""},this.form=a.group({nombre:this.fields.nombre.control=new r.NI("",[r.kI.required,r.kI.maxLength(250)]),region:this.fields.region.control=new r.NI("",[r.kI.maxLength(250)]),activo:this.fields.activo.control=new r.NI("",[]),tipo:this.fields.tipo.control=new r.NI("",[r.kI.maxLength(250)]),color:this.fields.color.control=new r.NI("",[r.kI.maxLength(250)]),geoShape:this.fields.geoShape.control=new r.NI("",[r.kI.required]),latitudCentral:this.fields.latitudCentral.control=new r.NI("",[]),longitudCentral:this.fields.longitudCentral.control=new r.NI("",[]),latitudMinima:this.fields.latitudMinima.control=new r.NI("",[]),latitudMaxima:this.fields.latitudMaxima.control=new r.NI("",[]),longitudMinima:this.fields.longitudMinima.control=new r.NI("",[]),longitudMaxima:this.fields.longitudMaxima.control=new r.NI("",[]),zoomMinimo:this.fields.zoomMinimo.control=new r.NI("",[]),zoomMaximo:this.fields.zoomMaximo.control=new r.NI("",[]),zoomPreferido:this.fields.zoomPreferido.control=new r.NI("",[])})}ngOnInit(){}ngAfterViewInit(){var l;this.acl?this.updateAcl():null!==(l=this.data)&&void 0!==l&&l.uid?this.lugarRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.lugarRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(l){l.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),l.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),l.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const l=this.lugarRepository.key(this.data),i=this.formView.retrieveValue();return(l?this.lugarRepository.update(l,i):this.lugarRepository.add(i)).pipe((0,k.I)(),(0,j.K)(s=>{var c;return l&&this.lugarRepository.retrieve(l).subscribe(m=>{this.formView&&this.formView.markOriginal(m)}),null===(c=this.formView)||void 0===c||c.showError(s),(0,K._)(()=>s)}),(0,B.b)(s=>{var c;Object.keys(s).forEach(m=>{this.data[m]=s[m],this.formView&&(this.formView.data[m]=s[m])}),null===(c=this.formView)||void 0===c||c.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var l,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(l=this.form)||void 0===l||!l.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var l,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(l=this.form)||void 0===l||!l.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(_._),e.Y36(e.sBO),e.Y36(r.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lugar-view-edit"]],viewQuery:function(l,i){if(1&l&&e.Gf(C.k,7),2&l){let a;e.iGM(a=e.CRH())&&(i.formView=a.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data"},features:[e.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-nombre",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-region",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-activo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-tipo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-color",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-geoShape",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudCentral",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudCentral",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudMinima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudMaxima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudMinima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudMaxima",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomMinimo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomMaximo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomPreferido",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-nombre",3,"control","required","label","placeholder"],["for","required",3,"message"],["for","maxlength",3,"message"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-region",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-activo",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-tipo",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-color",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-geoShape",3,"control","required","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudCentral",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudCentral",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudMinima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-latitudMaxima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudMinima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-longitudMaxima",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomMinimo",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomMaximo",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-lugar-zoomPreferido",3,"control","label","placeholder"]],template:function(l,i){1&l&&(e.TgZ(0,"form-view",0),e.YNc(1,ve,15,15,"ng-template"),e.qZA()),2&l&&e.Q6J("messagePreffix","geo.lugar")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[d.O5,$.Z,W.S,E,A.IK,S.x,U.w,f.xw,f.SQ,f.yH,C.k,u.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),t})(),_e=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["lugar-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(l,i){1&l&&e._UZ(0,"lugar-view-edit",0),2&l&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[O],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),t})();const we=["actions"];function Ce(t,o){if(1&t){const l=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"lugar-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(l);const a=e.MAs(6);return e.KtG(a.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",11),e.NdJ("run",function(){e.CHM(l);const a=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execClearAndJumpToAction(a.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(l);const a=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(a.saveValue(),s.isAllowed("detail")?"detail":"edit",s.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&t){const l=e.MAs(6),i=e.oxw(),a=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"geo.lugar-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"geo.lugar-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"geo.lugar-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"geo.lugar-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",l.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==a?null:a.empty)("acl",null==a?null:a.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"geo.lugar-view.list.action.create.back")),e.Q6J("visible",null==l.formView?null:l.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"geo.lugar-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=l.formView&&l.formView.error))("disabled",!l.dirty||l.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"geo.lugar-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=l.formView&&l.formView.error))("disabled",!l.dirty||l.invalid)}}function Ae(t,o){if(1&t&&e._UZ(0,"lugar-view-detail",13),2&t){e.oxw();const l=e.MAs(1);e.Q6J("data",null==l?null:l.selection)}}function Le(t,o){if(1&t){const l=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"lugar-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(l),e.oxw();const a=e.MAs(1);return e.KtG(a.jumpToAction(a.isAllowed("detail")?"detail":"",a.isAllowed("detail")?a.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",10),e.NdJ("run",function(){e.CHM(l);const a=e.MAs(6);return e.KtG(a.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(l);const a=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(a.saveValue(),s.isAllowed("detail")?"detail":"edit",s.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&t){const l=e.MAs(6),i=e.oxw(),a=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"geo.lugar-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"geo.lugar-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"geo.lugar-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"geo.lugar-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",l.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==a?null:a.selection)("acl",null==a?null:a.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"geo.lugar-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=l.formView&&l.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"geo.lugar-view.list.action.edit.back")),e.Q6J("visible",null==l.formView?null:l.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"geo.lugar-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=l.formView&&l.formView.error))("disabled",!l.dirty||l.invalid)}}let Ze=(()=>{class t{constructor(l){this.lugarRepository=l,this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.lugarRepository.delete(this.lugarRepository.key(i)),this.deleteSelection=i=>{const a=new X.a;return i&&(a.uids=i.map(s=>s.uid).join(",")),this.lugarRepository.deleteAllForQuery(a)}}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(_._))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lugar-view-actions-container"]],viewQuery:function(l,i){if(1&l&&e.Gf(we,5),2&l){let a;e.iGM(a=e.CRH())&&(i.actions=a.first)}},inputs:{fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:26,vars:61,consts:[[3,"repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(l,i){if(1&l&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,Ce,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,Ae,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,Le,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA()),2&l){const a=e.MAs(1);e.Q6J("repository",i.lugarRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,29,"geo.lugar-view.list.action.create.label")),e.s9C("title",null==a||null==a.selection?null:a.selection.nombre),e.s9C("subtitle",e.lcZ(4,31,"geo.lugar-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,33,"geo.lugar-view.list.action.detail.label")),e.s9C("title",null==a||null==a.selection?null:a.selection.nombre),e.s9C("subtitle",e.lcZ(8,35,"geo.lugar-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,37,"geo.lugar-view.list.action.edit.label")),e.s9C("title",null==a||null==a.selection?null:a.selection.nombre),e.s9C("subtitle",e.lcZ(12,39,"geo.lugar-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,41,"geo.lugar-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,43,"geo.lugar-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,45,"geo.lugar-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,47,"geo.lugar-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,49,"geo.lugar-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,51,"geo.lugar-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,53,"geo.lugar-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,55,"geo.lugar-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,57,"geo.lugar-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,59,"geo.lugar-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection)}},dependencies:[w.V4,w.fd,w.Lo,w.Fs,_e,O,u.X$],changeDetection:0}),t})();var Fe=n(5753);function Ve(t,o){if(1&t&&(e._UZ(0,"editable-text",5),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.search.placeholder")),e.Q6J("control",l.fields.search.control)}}function Me(t,o){if(1&t&&(e._UZ(0,"editable-textarea",6),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.bbox.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.bbox.placeholder")),e.Q6J("control",l.fields.bbox.control)}}function ye(t,o){if(1&t&&(e._UZ(0,"editable-integer",7),e.ALo(1,"translate"),e.ALo(2,"translate")),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,3,"geo.lugar-view.form.zoom.label")),e.s9C("placeholder",e.lcZ(2,5,"geo.lugar-view.form.zoom.placeholder")),e.Q6J("control",l.fields.zoom.control)}}function Te(t,o){if(1&t&&(e.TgZ(0,"editable-choose",8),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-option",9),e.ALo(4,"translate"),e._UZ(5,"editable-option",9),e.ALo(6,"translate"),e._UZ(7,"editable-option",9),e.ALo(8,"translate"),e.qZA()),2&t){const l=e.oxw(2);e.s9C("label",e.lcZ(1,9,"geo.lugar-view.form.activo.label")),e.s9C("placeholder",e.lcZ(2,11,"geo.lugar-view.form.activo.placeholder")),e.Q6J("control",l.fields.activo.control),e.xp6(3),e.s9C("label",e.lcZ(4,13,"geo.lugar-view.form.activo.options.")),e.Q6J("value",""),e.xp6(2),e.s9C("label",e.lcZ(6,15,"geo.lugar-view.form.activo.options.true")),e.Q6J("value","TRUE"),e.xp6(2),e.s9C("label",e.lcZ(8,17,"geo.lugar-view.form.activo.options.false")),e.Q6J("value","FALSE")}}function Je(t,o){if(1&t&&(e.YNc(0,Ve,3,7,"editable-text",1),e.YNc(1,Me,3,7,"editable-textarea",2),e.YNc(2,ye,3,7,"editable-integer",3),e.YNc(3,Te,9,19,"editable-choose",4)),2&t){const l=e.oxw();e.Q6J("ngIf",null==l.fields.search?null:l.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.bbox?null:l.fields.bbox.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.zoom?null:l.fields.zoom.visible),e.xp6(1),e.Q6J("ngIf",null==l.fields.activo?null:l.fields.activo.visible)}}let Ie=(()=>{class t{constructor(l,i,a){this.lugarRepository=l,this.cdRef=i,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={search:{visible:!0,editable:!0,disabled:!1},bbox:{visible:!0,editable:!0,disabled:!1},zoom:{visible:!0,editable:!0,disabled:!1},activo:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.subscriptions=new z.w0,this.initialsAndDefaults={nombre:"",geoShape:""},this.form=a.group({search:this.fields.search.control=new r.NI("",[]),bbox:this.fields.bbox.control=new r.NI("",[]),zoom:this.fields.zoom.control=new r.NI("",[]),activo:this.fields.activo.control=new r.NI("",[])})}ngOnInit(){}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var l,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(l=this.form)||void 0===l||!l.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var l,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(l=this.form)||void 0===l||!l.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(_._),e.Y36(e.sBO),e.Y36(r.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lugar-view-search"]],viewQuery:function(l,i){if(1&l&&e.Gf(C.k,7),2&l){let a;e.iGM(a=e.CRH())&&(i.formView=a.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl"},decls:2,vars:9,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-search",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-bbox",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-zoom",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-activo",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-search",3,"control","label","placeholder"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-bbox",3,"control","label","placeholder"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-zoom",3,"control","label","placeholder"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-lugar-activo",3,"control","label","placeholder"],[3,"value","label"]],template:function(l,i){1&l&&(e.TgZ(0,"form-view",0),e.YNc(1,Je,4,4,"ng-template"),e.qZA()),2&l&&e.Q6J("messagePreffix","geo.lugar")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[d.O5,Fe.b,A.tx,E,S.x,U.w,f.xw,f.SQ,f.yH,C.k,u.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),t})();const Qe=["list"],Ne=["searchForm"],ze=["container"];function Ee(t,o){1&t&&e._uU(0),2&t&&e.Oqu(o.$implicit.nombre)}function Se(t,o){1&t&&e._uU(0),2&t&&e.Oqu(o.$implicit.nombre)}const Ue=function(){return["sort"]},Oe=function(){return[]};function Ye(t,o){if(1&t){const l=e.EpF();e._UZ(0,"lugar-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&t){e.oxw();const l=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",l.showTable?e.DdM(6,Ue):e.DdM(7,Oe)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function Re(t,o){if(1&t&&(e.TgZ(0,"list-view",3,4),e.YNc(2,Ee,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,Se,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-no-content"),e._UZ(8,"img",7),e.TgZ(9,"div")(10,"h1"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"list-view-no-results"),e._UZ(17,"img",8),e.TgZ(18,"div")(19,"h1"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"list-view-search-form",9),e.ALo(26,"translate"),e.ALo(27,"translate"),e.YNc(28,Ye,7,8,"ng-template"),e.qZA()()),2&t){const l=e.oxw();e.Q6J("filter",l.filter)("repository",l.lugarRepository)("actionContainer",l.actions)("fullScreen",!l.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,11,"geo.lugar-view.list.column.nombre")),e.xp6(7),e.Oqu(e.lcZ(12,13,"geo.lugar-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(15,15,"geo.lugar-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(21,17,"geo.lugar-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(24,19,"geo.lugar-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(26,21,"geo.lugar-view.list.search.title")),e.s9C("subtitle",e.lcZ(27,23,"geo.lugar-view.list.search.subtitle"))}}const Pe=[{path:"",component:(()=>{class t{constructor(l,i,a,s,c){this.layoutService=l,this.translateService=i,this.snackService=a,this.cdRef=s,this.lugarRepository=c,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("geo.lugar-view.list.app-title").subscribe(l=>{this.layoutService.title.set(l)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){if(this.searchForm&&this.list){const l={},i=this.searchForm.first.form.value;i.search&&(l.search=i.search),i.bbox&&(l.bbox=i.bbox),i.zoom&&(l.zoom=i.zoom),i.activo&&(l.activo=i.activo),this.list.first.advancedFilter=l,this.list.first.makeSearch()}}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(H.P),e.Y36(u.sK),e.Y36(q.ux),e.Y36(e.sBO),e.Y36(_._))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lugar-view-list"]],viewQuery:function(l,i){if(1&l&&(e.Gf(Qe,5),e.Gf(Ne,5),e.Gf(ze,5)),2&l){let a;e.iGM(a=e.CRH())&&(i.list=a),e.iGM(a=e.CRH())&&(i.searchForm=a),e.iGM(a=e.CRH())&&(i.container=a)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:4,consts:[["id","lugar-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"parents","fixed","defaults","onAction"],["container",""],["id","lugar-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(l,i){1&l&&(e.YNc(0,Re,29,25,"list-view",0),e.TgZ(1,"lugar-view-actions-container",1,2),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.qZA()),2&l&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[d.O5,x.Rt,x.Yi,x.if,x.JR,x.To,b.lW,Ze,Ie,u.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),t})()}];let De=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[N.Bz.forChild(Pe),N.Bz]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[G,De]}),t})()}}]);