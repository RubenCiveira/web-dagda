"use strict";(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[184],{4942:(W,y,a)=>{a.r(y),a.d(y,{EventoViewDetailComponent:()=>A});var h=a(5e3),v=a(519);let A=(()=>{class b{}return b.\u0275fac=function(x){return new(x||b)},b.\u0275cmp=h.Xpm({type:b,selectors:[["evento-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(x,C){1&x&&h._UZ(0,"evento-view-edit",0),2&x&&(h.Akn("detail"),h.Q6J("disabled",!0)("data",C.data))},dependencies:[v.EventoViewEditComponent],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),b})()},3955:(W,y,a)=>{a.r(y),a.d(y,{EventoViewDetailModule:()=>F});var h=a(9808),v=a(1062),A=a(2155),b=a(5113),_=a(7423),x=a(6510),C=a(1614),r=a(2375),R=a(2782),Y=a(5029),P=a(5e3);let F=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=P.oAB({type:E}),E.\u0275inj=P.cJS({imports:[x.V,h.ez,C.r,Y.EventoViewEditModule,A.o9,R.n,b.xu,r.W,_.ot,v.aw]}),E})()},519:(W,y,a)=>{a.r(y),a.d(y,{EventoViewEditComponent:()=>z});var h=a(6537),v=a(3075),A=a(727),b=a(262),_=a(2843),x=a(8505),C=a(5097),r=a(5e3),R=a(5503),Y=a(9808),P=a(791),F=a(502),E=a(7093),d=a(1062);function g(e,J){if(1&e&&(r.TgZ(0,"editable-text",2),r.ALo(1,"translate"),r.ALo(2,"translate"),r._UZ(3,"editable-error",3),r.ALo(4,"translate"),r._UZ(5,"editable-error",4),r.ALo(6,"translate"),r.qZA()),2&e){const u=r.oxw(2);r.s9C("label",r.lcZ(1,6,"proyecto.evento-view.form.nombre.label")),r.s9C("placeholder",r.lcZ(2,8,"proyecto.evento-view.form.nombre.placeholder")),r.Q6J("control",u.fields.nombre.control)("required",!0),r.xp6(3),r.s9C("message",r.lcZ(4,10,"proyecto.evento-view.form.nombre.rule.required")),r.xp6(2),r.s9C("message",r.lcZ(6,12,"proyecto.evento-view.form.nombre.rule.maxlength"))}}function N(e,J){if(1&e&&r.YNc(0,g,7,14,"editable-text",1),2&e){const u=r.oxw();r.Q6J("ngIf",null==u.fields.nombre?null:u.fields.nombre.visible)}}let z=(()=>{class e{constructor(u,m,U){this.eventoRepository=u,this.cdRef=m,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={nombre:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.subscriptions=new A.w0,this.initialsAndDefaults={nombre:""},this.form=U.group({nombre:this.fields.nombre.control=new v.NI("",[v.kI.required,v.kI.maxLength(250)])})}ngOnInit(){}ngAfterViewInit(){var u;this.acl?this.updateAcl():null!==(u=this.data)&&void 0!==u&&u.uid?this.eventoRepository.specificAcl(this.data.uid).subscribe(m=>{this.acl=m,this.updateAcl()}):this.eventoRepository.genericAcl().subscribe(m=>{this.acl=m,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(u){u.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),u.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(m=>{this.fixedFields.push(m)})),u.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const u=this.eventoRepository.key(this.data),m=this.formView.retrieveValue();return(u?this.eventoRepository.update(u,m):this.eventoRepository.add(m)).pipe((0,C.I)(),(0,b.K)(I=>{var T;return u&&this.eventoRepository.retrieve(u).subscribe(Q=>{this.formView&&this.formView.markOriginal(Q)}),null===(T=this.formView)||void 0===T||T.showError(I),(0,_._)(()=>I)}),(0,x.b)(I=>{var T;Object.keys(I).forEach(Q=>{this.data[Q]=I[Q],this.formView&&(this.formView.data[Q]=I[Q])}),null===(T=this.formView)||void 0===T||T.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var u,m;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(u=this.form)||void 0===u||!u.dirty),this.invalid=!(null===(m=this.form)||void 0===m||!m.invalid),this.cdRef.detectChanges()}updateAcl(){var u,m;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(u=this.form)||void 0===u||!u.dirty),this.invalid=!(null===(m=this.form)||void 0===m||!m.invalid),this.cdRef.detectChanges()}}return e.\u0275fac=function(u){return new(u||e)(r.Y36(R.h),r.Y36(r.sBO),r.Y36(v.qu))},e.\u0275cmp=r.Xpm({type:e,selectors:[["evento-view-edit"]],viewQuery:function(u,m){if(1&u&&r.Gf(h.k,7),2&u){let U;r.iGM(U=r.CRH())&&(m.formView=U.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data"},features:[r.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-evento-nombre",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-evento-nombre",3,"control","required","label","placeholder"],["for","required",3,"message"],["for","maxlength",3,"message"]],template:function(u,m){1&u&&(r.TgZ(0,"form-view",0),r.YNc(1,N,1,1,"ng-template"),r.qZA()),2&u&&r.Q6J("messagePreffix","proyecto.evento")("form",m.form)("disabled",m.disabled)("fixed",m.fixedFields)("hidden",m.hidden)("editables",m.editables)("visibles",m.visibles)("defaults",m.initialsAndDefaults)("acl",m.acl)("data",m.data)},dependencies:[Y.O5,P.IK,F.x,E.xw,E.SQ,E.yH,h.k,d.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),e})()},5029:(W,y,a)=>{a.r(y),a.d(y,{EventoViewEditModule:()=>d});var h=a(9808),v=a(1062),A=a(2155),b=a(5113),_=a(7423),x=a(6510),C=a(1614),r=a(2375),R=a(2782),Y=a(7893),P=a(7531),F=a(3075),E=a(5e3);let d=(()=>{class g{}return g.\u0275fac=function(z){return new(z||g)},g.\u0275mod=E.oAB({type:g}),g.\u0275inj=E.cJS({imports:[x.V,h.ez,C.r,Y.o,A.o9,R.n,F.u5,b.xu,r.W,_.ot,P.c,F.UX,v.aw]}),g})()},4184:(W,y,a)=>{a.r(y),a.d(y,{EventoViewLazyModule:()=>Bt});var h=a(9808),v=a(1062),A=a(2155),b=a(5113),_=a(7423),x=a(6510),C=a(1614),r=a(2375),R=a(2782),Y=a(5029),P=a(3955),F=a(7893),E=a(7531),d=a(3075),g=a(5245),N=a(960),z=a(2499),e=a(5e3);let J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,z.r,C.r,N.M,A.o9,R.n,d.u5,b.xu,r.W,_.ot,E.c,d.UX,v.aw]}),o})(),u=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,A.o9,R.n,b.xu,r.W,_.ot,J,v.aw]}),o})(),m=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,N.M,F.o,A.o9,R.n,d.u5,b.xu,r.W,_.ot,g.Ps,E.c,u,J,d.UX,v.aw]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,N.M,A.o9,R.n,d.u5,b.xu,r.W,_.ot,E.c,d.UX,v.aw]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,A.o9,R.n,b.xu,r.W,_.ot,U,v.aw]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,N.M,F.o,A.o9,R.n,d.u5,b.xu,r.W,_.ot,g.Ps,E.c,d.UX,I,U,v.aw]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.V,h.ez,C.r,F.o,P.EventoViewDetailModule,Y.EventoViewEditModule,A.o9,R.n,d.u5,b.xu,r.W,_.ot,g.Ps,E.c,m,d.UX,T,v.aw]}),o})();var re=a(8390),oe=a(8862),ne=a(7261),O=a(5503),V=a(7738),K=a(3596),X=a(727),le=a(1654),G=a(2433),de=a(5276);let $=(()=>{class o extends G._j{constructor(t){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"notificacionEvento",path:"proyecto-notificaciones-eventos",acl:"proyecto-notificaciones-eventos"},t)}mapperForRelation(t){if("evento"===t){const i=new O.h(this._handlerProvider);return new G.cr(i._meta,i)}if("usuario"===t){const i=new le.m(this._handlerProvider);return new G.cr(i._meta,i)}return null}references(){return{evento:{type:"Evento"},usuario:{type:"Users"}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(de.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),q=(()=>{class o extends G._j{constructor(t){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"relacionEvento",path:"proyecto-relaciones-eventos",acl:"proyecto-relaciones-eventos"},t)}mapperForRelation(t){if("padre"===t){const i=new O.h(this._handlerProvider);return new G.cr(i._meta,i)}if("hijo"===t){const i=new O.h(this._handlerProvider);return new G.cr(i._meta,i)}return null}references(){return{padre:{type:"Evento"},hijo:{type:"Evento"}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(de.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var M=a(8034),Ce=a(4942),Ee=a(519);class ae{static clone(l){const t=new ae;return t.pageSize=l.pageSize,t.pageNumber=l.pageNumber,t.lastRow=l.lastRow,t.search=l.search,t.evento="string"==typeof l.evento||l.evento instanceof String?l.evento:l.evento?l.evento.uid:void 0,t.usuario="string"==typeof l.usuario||l.usuario instanceof String?l.usuario:l.usuario?l.usuario.uid:void 0,t}}var j=a(6537),Z=a(2076),B=a(5577),H=a(4004),S=a(9646),fe=a(262),ue=a(2843),ve=a(1850),pe=a(8505),me=a(5097),k=a(970),Ae=a(244),he=a(791),ee=a(9087),te=a(9952),L=a(7093);function ye(o,l){if(1&o&&e._UZ(0,"editable-create-related",10),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedNotificacionEventoEvento)}}function ge(o,l){if(1&o&&(e.TgZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,ye,1,1,"editable-create-related",7),e._UZ(4,"editable-view-related",8),e.ALo(5,"translate"),e._UZ(6,"editable-error",9),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.notificacion-evento-view.form.evento.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.notificacion-evento-view.form.evento.placeholder")),e.Q6J("control",t.fields.evento.control)("required",!0)("search",t.relatedNotificacionEventoEvento)("retrieve",t.retrieveNotificacionEventoEvento),e.xp6(3),e.Q6J("ngIf",t.allowCreateEventoViewEvento),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.evento-view.evento.showRelated")),e.Q6J("build",t.loadViewRelatedNotificacionEventoEvento),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.notificacion-evento-view.form.evento.rule.required"))}}function Ve(o,l){if(1&o&&(e.TgZ(0,"editable-selectone",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-view-related",8),e.ALo(4,"translate"),e._UZ(5,"editable-error",9),e.ALo(6,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,9,"proyecto.notificacion-evento-view.form.usuario.label")),e.s9C("placeholder",e.lcZ(2,11,"proyecto.notificacion-evento-view.form.usuario.placeholder")),e.Q6J("control",t.fields.usuario.control)("required",!0)("search",t.relatedNotificacionEventoUsuario)("retrieve",t.retrieveNotificacionEventoUsuario),e.xp6(3),e.s9C("title",e.lcZ(4,13,".users-view.usuario.showRelated")),e.Q6J("build",t.loadViewRelatedNotificacionEventoUsuario),e.xp6(2),e.s9C("message",e.lcZ(6,15,"proyecto.notificacion-evento-view.form.usuario.rule.required"))}}function Ze(o,l){if(1&o&&(e.TgZ(0,"editable-check",12),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-evento-view.form.creacion.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-evento-view.form.creacion.placeholder")),e.Q6J("control",t.fields.creacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-evento-view.form.creacion.rule.required"))}}function Re(o,l){if(1&o&&(e.TgZ(0,"editable-check",13),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-evento-view.form.actualizacion.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-evento-view.form.actualizacion.placeholder")),e.Q6J("control",t.fields.actualizacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-evento-view.form.actualizacion.rule.required"))}}function Me(o,l){if(1&o&&(e.TgZ(0,"editable-check",14),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-evento-view.form.borrado.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-evento-view.form.borrado.placeholder")),e.Q6J("control",t.fields.borrado.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-evento-view.form.borrado.rule.required"))}}function Le(o,l){if(1&o&&(e.YNc(0,ge,8,18,"editable-selectone",1),e.YNc(1,Ve,7,17,"editable-selectone",2),e.YNc(2,Ze,5,11,"editable-check",3),e.YNc(3,Re,5,11,"editable-check",4),e.YNc(4,Me,5,11,"editable-check",5)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.evento?null:t.fields.evento.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.usuario?null:t.fields.usuario.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.creacion?null:t.fields.creacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.actualizacion?null:t.fields.actualizacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.borrado?null:t.fields.borrado.visible)}}let _e=(()=>{class o{constructor(t,i,n,s,p,c){this.notificacionEventoRepository=t,this.eventoRepository=i,this.usersRepository=n,this.cdRef=s,this.appState=p,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={evento:{visible:!0,editable:!0,disabled:!1},usuario:{visible:!0,editable:!0,disabled:!1},creacion:{visible:!0,editable:!0,disabled:!1},actualizacion:{visible:!0,editable:!0,disabled:!1},borrado:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new X.w0,this.allowCreateEventoViewEvento=!1,this.loadCreateRelatedNotificacionEventoEvento=f=>(0,Z.D)(Promise.resolve().then(a.bind(a,5029))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,519))).pipe((0,H.U)(({EventoViewEditComponent:w})=>{const D=f.createComponent(w);return D.instance.data=D.instance.initialsAndDefaults,D.instance})))),this.loadViewRelatedNotificacionEventoEvento=f=>(0,Z.D)(Promise.resolve().then(a.bind(a,3955))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,4942))).pipe((0,H.U)(({EventoViewDetailComponent:w})=>{const D=f.createComponent(w);return D.instance.data=this.fields.evento.value,D.instance})))),this.relatedNotificacionEventoEvento=f=>this.eventoRepository.list(this.filter(new K.er,f,this.notificacionEventoEventoFilter)),this.retrieveNotificacionEventoEvento=f=>this.eventoRepository.retrieve(f.uid),this.loadViewRelatedNotificacionEventoUsuario=f=>(0,Z.D)(a.e(887).then(a.bind(a,8887))).pipe((0,B.z)(()=>(0,Z.D)(a.e(94).then(a.bind(a,4094))).pipe((0,H.U)(({UsersViewDetailComponent:w})=>{const D=f.createComponent(w);return D.instance.data=this.fields.usuario.value,D.instance})))),this.relatedNotificacionEventoUsuario=f=>this.usersRepository.list(this.filter(new ve.np,f,this.notificacionEventoUsuarioFilter)),this.retrieveNotificacionEventoUsuario=f=>this.usersRepository.retrieve(f.uid),this.initialsAndDefaults={evento:(0,S.of)({$ref:0}),usuario:(0,S.of)({$ref:0}),creacion:!1,actualizacion:!1,borrado:!1},this.form=c.group({evento:this.fields.evento.control=new d.NI("",[d.kI.required]),usuario:this.fields.usuario.control=new d.NI("",[d.kI.required]),creacion:this.fields.creacion.control=new d.NI("",[d.kI.required]),actualizacion:this.fields.actualizacion.control=new d.NI("",[d.kI.required]),borrado:this.fields.borrado.control=new d.NI("",[d.kI.required])}),this.subscriptions.add(this.eventoRepository.genericAcl().subscribe(f=>{if(this.allowCreateEventoViewEvento=!1,f.allows)for(const w of f.allows)"create"===w.name&&(this.allowCreateEventoViewEvento=w.allowed||!1)}))}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.notificacionEventoRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.notificacionEventoRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.notificacionEventoRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.notificacionEventoRepository.update(t,i):this.notificacionEventoRepository.add(i)).pipe((0,me.I)(),(0,fe.K)(s=>{var p;return t&&this.notificacionEventoRepository.retrieve(t).subscribe(c=>{this.formView&&this.formView.markOriginal(c)}),null===(p=this.formView)||void 0===p||p.showError(s),(0,ue._)(()=>s)}),(0,pe.b)(s=>{var p;Object.keys(s).forEach(c=>{this.data[c]=s[c],this.formView&&(this.formView.data[c]=s[c])}),null===(p=this.formView)||void 0===p||p.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const s of Object.keys(n))t[s]=n[s];if(this.contextFilter)for(const s of Object.keys(this.contextFilter))t[s]=this.contextFilter[s];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36($),e.Y36(O.h),e.Y36(le.m),e.Y36(e.sBO),e.Y36(k.aB),e.Y36(d.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-evento-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(j.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",notificacionEventoEventoFilter:"notificacionEventoEventoFilter",notificacionEventoUsuarioFilter:"notificacionEventoUsuarioFilter"},features:[e.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-evento","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-usuario","display","login",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-creacion",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-actualizacion",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-borrado",3,"control","required","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-evento","display","nombre",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.eventoView.evento.createNew",3,"build",4,"ngIf"],[3,"title","build"],["for","required",3,"message"],["title","proyecto.eventoView.evento.createNew",3,"build"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-usuario","display","login",3,"control","required","label","placeholder","search","retrieve"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-creacion",3,"control","required","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-actualizacion",3,"control","required","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-notificacion-evento-borrado",3,"control","required","label","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,Le,5,5,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.notificacionEvento")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[h.O5,Ae.Z,he.IK,ee.XX,ee.MI,te.s,L.xw,L.SQ,L.yH,j.k,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),o})(),Fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-evento-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"notificacion-evento-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[_e],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const Te=["actions"];function Oe(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"notificacion-evento-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",11),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.notificacion-evento-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.notificacion-evento-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.notificacion-evento-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.notificacion-evento-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.notificacion-evento-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.notificacion-evento-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.notificacion-evento-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function De(o,l){if(1&o&&e._UZ(0,"notificacion-evento-view-detail",13),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function Pe(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"notificacion-evento-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.notificacion-evento-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.notificacion-evento-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.notificacion-evento-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.notificacion-evento-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.notificacion-evento-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.notificacion-evento-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.notificacion-evento-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let Ne=(()=>{class o{constructor(t){this.notificacionEventoRepository=t,this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.notificacionEventoRepository.delete(this.notificacionEventoRepository.key(i)),this.deleteSelection=i=>{const n=new ae;return i&&(n.uids=i.map(s=>s.uid).join(",")),this.notificacionEventoRepository.deleteAllForQuery(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36($))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-evento-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(Te,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:26,vars:61,consts:[[3,"repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,Oe,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,De,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,Pe,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("repository",i.notificacionEventoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,29,"proyecto.notificacion-evento-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,31,"proyecto.notificacion-evento-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,33,"proyecto.notificacion-evento-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,35,"proyecto.notificacion-evento-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,37,"proyecto.notificacion-evento-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,39,"proyecto.notificacion-evento-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,41,"proyecto.notificacion-evento-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,43,"proyecto.notificacion-evento-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,45,"proyecto.notificacion-evento-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,47,"proyecto.notificacion-evento-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,49,"proyecto.notificacion-evento-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,51,"proyecto.notificacion-evento-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,53,"proyecto.notificacion-evento-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,55,"proyecto.notificacion-evento-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,57,"proyecto.notificacion-evento-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,59,"proyecto.notificacion-evento-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection)}},dependencies:[M.V4,M.fd,M.Lo,M.Fs,Fe,_e,v.X$],changeDetection:0}),o})();var we=a(502);function Je(o,l){if(1&o&&(e._UZ(0,"editable-text",4),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.notificacion-evento-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.notificacion-evento-view.form.search.placeholder")),e.Q6J("control",t.fields.search.control)}}function Ue(o,l){if(1&o&&(e._UZ(0,"editable-selectone",5),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-evento-view.form.evento.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-evento-view.form.evento.placeholder")),e.Q6J("control",t.fields.evento.control)("search",t.relatedNotificacionEventoEvento)("retrieve",t.retrieveNotificacionEventoEvento)}}function Ie(o,l){if(1&o&&(e._UZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-evento-view.form.usuario.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-evento-view.form.usuario.placeholder")),e.Q6J("control",t.fields.usuario.control)("search",t.relatedNotificacionEventoUsuario)("retrieve",t.retrieveNotificacionEventoUsuario)}}function Qe(o,l){if(1&o&&(e.YNc(0,Je,3,7,"editable-text",1),e.YNc(1,Ue,3,9,"editable-selectone",2),e.YNc(2,Ie,3,9,"editable-selectone",3)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.search?null:t.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.evento?null:t.fields.evento.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.usuario?null:t.fields.usuario.visible)}}let je=(()=>{class o{constructor(t,i,n,s,p,c){this.notificacionEventoRepository=t,this.eventoRepository=i,this.usersRepository=n,this.cdRef=s,this.appState=p,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={search:{visible:!0,editable:!0,disabled:!1},evento:{visible:!0,editable:!0,disabled:!1},usuario:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new X.w0,this.relatedNotificacionEventoEvento=f=>this.eventoRepository.list(this.filter(new K.er,f,this.notificacionEventoEventoFilter)),this.retrieveNotificacionEventoEvento=f=>this.eventoRepository.retrieve(f.uid),this.relatedNotificacionEventoUsuario=f=>this.usersRepository.list(this.filter(new ve.np,f,this.notificacionEventoUsuarioFilter)),this.retrieveNotificacionEventoUsuario=f=>this.usersRepository.retrieve(f.uid),this.initialsAndDefaults={evento:(0,S.of)({$ref:0}),usuario:(0,S.of)({$ref:0}),creacion:!1,actualizacion:!1,borrado:!1},this.form=c.group({search:this.fields.search.control=new d.NI("",[]),evento:this.fields.evento.control=new d.NI("",[]),usuario:this.fields.usuario.control=new d.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const s of Object.keys(n))t[s]=n[s];if(this.contextFilter)for(const s of Object.keys(this.contextFilter))t[s]=this.contextFilter[s];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36($),e.Y36(O.h),e.Y36(le.m),e.Y36(e.sBO),e.Y36(k.aB),e.Y36(d.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-evento-view-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(j.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",notificacionEventoEventoFilter:"notificacionEventoEventoFilter",notificacionEventoUsuarioFilter:"notificacionEventoUsuarioFilter"},decls:2,vars:9,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-search",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-evento","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-usuario","display","login",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-search",3,"control","label","placeholder"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-evento","display","nombre",3,"control","label","placeholder","search","retrieve"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-notificacion-evento-usuario","display","login",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,Qe,3,3,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.notificacionEvento")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[h.O5,te.s,we.x,L.xw,L.SQ,L.yH,j.k,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),o})();const Se=["list"],Ye=["searchForm"],Ke=["container"];function Be(o,l){1&o&&e._uU(0),2&o&&e.Oqu(l.$implicit.uid)}function He(o,l){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=l.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.evento?null:t.evento.value))?null:i.nombre)}}function Ge(o,l){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=l.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.usuario?null:t.usuario.value))?null:i.login)}}const We=function(){return["sort"]},ze=function(){return[]};function Xe(o,l){if(1&o){const t=e.EpF();e._UZ(0,"notificacion-evento-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",t.showTable?e.DdM(6,We):e.DdM(7,ze)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function $e(o,l){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,Be,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,He,2,3,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,Ge,2,3,"ng-template"),e.qZA(),e.TgZ(10,"list-view-no-content"),e._UZ(11,"img",7),e.TgZ(12,"div")(13,"h1"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"list-view-no-results"),e._UZ(20,"img",8),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-search-form",9),e.ALo(29,"translate"),e.ALo(30,"translate"),e.YNc(31,Xe,7,8,"ng-template"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.notificacionEventoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,12,"proyecto.notificacion-evento-view.list.column.evento-nombre")),e.xp6(3),e.s9C("title",e.lcZ(8,14,"proyecto.notificacion-evento-view.list.column.usuario-login")),e.xp6(7),e.Oqu(e.lcZ(15,16,"proyecto.notificacion-evento-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(18,18,"proyecto.notificacion-evento-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(24,20,"proyecto.notificacion-evento-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(27,22,"proyecto.notificacion-evento-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(29,24,"proyecto.notificacion-evento-view.list.search.title")),e.s9C("subtitle",e.lcZ(30,26,"proyecto.notificacion-evento-view.list.search.subtitle"))}}let qe=(()=>{class o{constructor(t,i,n,s,p){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=s,this.notificacionEventoRepository=p,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.notificacion-evento-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10),this.filter.include||(this.filter.include={}),this.filter.include.evento=!0,this.filter.include.usuario=!0}advancedSearch(){var t,i;if(this.searchForm&&this.list){const n={},s=this.searchForm.first.form.value;s.search&&(n.search=s.search),!(null===(t=s.evento)||void 0===t)&&t.uid&&(n.evento=s.evento.uid),!(null===(i=s.usuario)||void 0===i)&&i.uid&&(n.usuario=s.usuario.uid),this.list.first.advancedFilter=n,this.list.first.makeSearch()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(oe.P),e.Y36(v.sK),e.Y36(ne.ux),e.Y36(e.sBO),e.Y36($))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-evento-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Se,5),e.Gf(Ye,5),e.Gf(Ke,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:4,consts:[["id","notificacionEvento-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"parents","fixed","defaults","onAction"],["container",""],["id","notificacionEvento-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,$e,32,28,"list-view",0),e.TgZ(1,"notificacion-evento-view-actions-container",1,2),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[h.O5,V.Rt,V.Yi,V.if,V.JR,V.To,_.lW,Ne,je,h.Ov,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})();class se{static clone(l){const t=new se;return t.pageSize=l.pageSize,t.pageNumber=l.pageNumber,t.lastRow=l.lastRow,t.search=l.search,t.padre="string"==typeof l.padre||l.padre instanceof String?l.padre:l.padre?l.padre.uid:void 0,t.hijo="string"==typeof l.hijo||l.hijo instanceof String?l.hijo:l.hijo?l.hijo.uid:void 0,t.include=l.include?ce.clone(l.include):void 0,t}}class ce{includeAll(l){this.padre=!0,this.hijo=!0}toArgs(l){const t=this.joinArgs("include.");return t.length>0&&-1===l.indexOf("?")&&(l+="?"),l+t}joinArgs(l){let t="";return this.padre&&(t+="&"+l+"padre=true"),this.hijo&&(t+="&"+l+"hijo=true"),t}static clone(l){return new ce}}function ke(o,l){if(1&o&&e._UZ(0,"editable-create-related",7),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedRelacionEventoPadre)}}function et(o,l){if(1&o&&(e.TgZ(0,"editable-selectone",3),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,ke,1,1,"editable-create-related",4),e._UZ(4,"editable-view-related",5),e.ALo(5,"translate"),e._UZ(6,"editable-error",6),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.relacion-evento-view.form.padre.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.relacion-evento-view.form.padre.placeholder")),e.Q6J("control",t.fields.padre.control)("required",!0)("search",t.relatedRelacionEventoPadre)("retrieve",t.retrieveRelacionEventoPadre),e.xp6(3),e.Q6J("ngIf",t.allowCreateEventoViewPadre),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.evento-view.padre.showRelated")),e.Q6J("build",t.loadViewRelatedRelacionEventoPadre),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.relacion-evento-view.form.padre.rule.required"))}}function tt(o,l){if(1&o&&e._UZ(0,"editable-create-related",10),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedRelacionEventoHijo)}}function it(o,l){if(1&o&&(e.TgZ(0,"editable-selectone",8),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,tt,1,1,"editable-create-related",9),e._UZ(4,"editable-view-related",5),e.ALo(5,"translate"),e._UZ(6,"editable-error",6),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.relacion-evento-view.form.hijo.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.relacion-evento-view.form.hijo.placeholder")),e.Q6J("control",t.fields.hijo.control)("required",!0)("search",t.relatedRelacionEventoHijo)("retrieve",t.retrieveRelacionEventoHijo),e.xp6(3),e.Q6J("ngIf",t.allowCreateEventoViewHijo),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.evento-view.hijo.showRelated")),e.Q6J("build",t.loadViewRelatedRelacionEventoHijo),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.relacion-evento-view.form.hijo.rule.required"))}}function ot(o,l){if(1&o&&(e.YNc(0,et,8,18,"editable-selectone",1),e.YNc(1,it,8,18,"editable-selectone",2)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.padre?null:t.fields.padre.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.hijo?null:t.fields.hijo.visible)}}let be=(()=>{class o{constructor(t,i,n,s,p){this.relacionEventoRepository=t,this.eventoRepository=i,this.cdRef=n,this.appState=s,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={padre:{visible:!0,editable:!0,disabled:!1},hijo:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new X.w0,this.allowCreateEventoViewPadre=!1,this.allowCreateEventoViewHijo=!1,this.loadCreateRelatedRelacionEventoPadre=c=>(0,Z.D)(Promise.resolve().then(a.bind(a,5029))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,519))).pipe((0,H.U)(({EventoViewEditComponent:f})=>{const w=c.createComponent(f);return w.instance.data=w.instance.initialsAndDefaults,w.instance})))),this.loadViewRelatedRelacionEventoPadre=c=>(0,Z.D)(Promise.resolve().then(a.bind(a,3955))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,4942))).pipe((0,H.U)(({EventoViewDetailComponent:f})=>{const w=c.createComponent(f);return w.instance.data=this.fields.padre.value,w.instance})))),this.relatedRelacionEventoPadre=c=>this.eventoRepository.list(this.filter(new K.er,c,this.relacionEventoPadreFilter)),this.retrieveRelacionEventoPadre=c=>this.eventoRepository.retrieve(c.uid),this.loadCreateRelatedRelacionEventoHijo=c=>(0,Z.D)(Promise.resolve().then(a.bind(a,5029))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,519))).pipe((0,H.U)(({EventoViewEditComponent:f})=>{const w=c.createComponent(f);return w.instance.data=w.instance.initialsAndDefaults,w.instance})))),this.loadViewRelatedRelacionEventoHijo=c=>(0,Z.D)(Promise.resolve().then(a.bind(a,3955))).pipe((0,B.z)(()=>(0,Z.D)(Promise.resolve().then(a.bind(a,4942))).pipe((0,H.U)(({EventoViewDetailComponent:f})=>{const w=c.createComponent(f);return w.instance.data=this.fields.hijo.value,w.instance})))),this.relatedRelacionEventoHijo=c=>this.eventoRepository.list(this.filter(new K.er,c,this.relacionEventoHijoFilter)),this.retrieveRelacionEventoHijo=c=>this.eventoRepository.retrieve(c.uid),this.initialsAndDefaults={padre:(0,S.of)({$ref:0}),hijo:(0,S.of)({$ref:0})},this.form=p.group({padre:this.fields.padre.control=new d.NI("",[d.kI.required]),hijo:this.fields.hijo.control=new d.NI("",[d.kI.required])}),this.subscriptions.add(this.eventoRepository.genericAcl().subscribe(c=>{if(this.allowCreateEventoViewPadre=!1,c.allows)for(const f of c.allows)"create"===f.name&&(this.allowCreateEventoViewPadre=f.allowed||!1)})),this.subscriptions.add(this.eventoRepository.genericAcl().subscribe(c=>{if(this.allowCreateEventoViewHijo=!1,c.allows)for(const f of c.allows)"create"===f.name&&(this.allowCreateEventoViewHijo=f.allowed||!1)}))}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.relacionEventoRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.relacionEventoRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.relacionEventoRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.relacionEventoRepository.update(t,i):this.relacionEventoRepository.add(i)).pipe((0,me.I)(),(0,fe.K)(s=>{var p;return t&&this.relacionEventoRepository.retrieve(t).subscribe(c=>{this.formView&&this.formView.markOriginal(c)}),null===(p=this.formView)||void 0===p||p.showError(s),(0,ue._)(()=>s)}),(0,pe.b)(s=>{var p;Object.keys(s).forEach(c=>{this.data[c]=s[c],this.formView&&(this.formView.data[c]=s[c])}),null===(p=this.formView)||void 0===p||p.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const s of Object.keys(n))t[s]=n[s];if(this.contextFilter)for(const s of Object.keys(this.contextFilter))t[s]=this.contextFilter[s];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q),e.Y36(O.h),e.Y36(e.sBO),e.Y36(k.aB),e.Y36(d.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["relacion-evento-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(j.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",relacionEventoPadreFilter:"relacionEventoPadreFilter",relacionEventoHijoFilter:"relacionEventoHijoFilter"},features:[e.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-relacion-evento-padre","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-relacion-evento-hijo","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-relacion-evento-padre","display","nombre",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.eventoView.padre.createNew",3,"build",4,"ngIf"],[3,"title","build"],["for","required",3,"message"],["title","proyecto.eventoView.padre.createNew",3,"build"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-relacion-evento-hijo","display","nombre",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.eventoView.hijo.createNew",3,"build",4,"ngIf"],["title","proyecto.eventoView.hijo.createNew",3,"build"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,ot,2,2,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.relacionEvento")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[h.O5,he.IK,ee.XX,ee.MI,te.s,L.xw,L.SQ,L.yH,j.k,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),o})(),nt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["relacion-evento-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"relacion-evento-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[be],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const lt=["actions"];function at(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"relacion-evento-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",11),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.relacion-evento-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.relacion-evento-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.relacion-evento-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.relacion-evento-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.relacion-evento-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.relacion-evento-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.relacion-evento-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function st(o,l){if(1&o&&e._UZ(0,"relacion-evento-view-detail",13),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function ct(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"relacion-evento-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.relacion-evento-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.relacion-evento-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.relacion-evento-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.relacion-evento-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.relacion-evento-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.relacion-evento-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.relacion-evento-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let rt=(()=>{class o{constructor(t){this.relacionEventoRepository=t,this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.relacionEventoRepository.delete(this.relacionEventoRepository.key(i)),this.deleteSelection=i=>{const n=new se;return i&&(n.uids=i.map(s=>s.uid).join(",")),this.relacionEventoRepository.deleteAllForQuery(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["relacion-evento-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(lt,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:26,vars:61,consts:[[3,"repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,at,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,st,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,ct,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("repository",i.relacionEventoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,29,"proyecto.relacion-evento-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,31,"proyecto.relacion-evento-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,33,"proyecto.relacion-evento-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,35,"proyecto.relacion-evento-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,37,"proyecto.relacion-evento-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,39,"proyecto.relacion-evento-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,41,"proyecto.relacion-evento-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,43,"proyecto.relacion-evento-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,45,"proyecto.relacion-evento-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,47,"proyecto.relacion-evento-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,49,"proyecto.relacion-evento-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,51,"proyecto.relacion-evento-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,53,"proyecto.relacion-evento-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,55,"proyecto.relacion-evento-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,57,"proyecto.relacion-evento-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,59,"proyecto.relacion-evento-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection)}},dependencies:[M.V4,M.fd,M.Lo,M.Fs,nt,be,v.X$],changeDetection:0}),o})();function dt(o,l){if(1&o&&(e._UZ(0,"editable-selectone",4),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.relacion-evento-view.form.padre.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.relacion-evento-view.form.padre.placeholder")),e.Q6J("control",t.fields.padre.control)("search",t.relatedRelacionEventoPadre)("retrieve",t.retrieveRelacionEventoPadre)}}function ft(o,l){if(1&o&&(e._UZ(0,"editable-text",5),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.relacion-evento-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.relacion-evento-view.form.search.placeholder")),e.Q6J("control",t.fields.search.control)}}function ut(o,l){if(1&o&&(e._UZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.relacion-evento-view.form.hijo.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.relacion-evento-view.form.hijo.placeholder")),e.Q6J("control",t.fields.hijo.control)("search",t.relatedRelacionEventoHijo)("retrieve",t.retrieveRelacionEventoHijo)}}function vt(o,l){if(1&o&&(e.YNc(0,dt,3,9,"editable-selectone",1),e.YNc(1,ft,3,7,"editable-text",2),e.YNc(2,ut,3,9,"editable-selectone",3)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.padre?null:t.fields.padre.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.search?null:t.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.hijo?null:t.fields.hijo.visible)}}let pt=(()=>{class o{constructor(t,i,n,s,p){this.relacionEventoRepository=t,this.eventoRepository=i,this.cdRef=n,this.appState=s,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={padre:{visible:!0,editable:!0,disabled:!1},search:{visible:!0,editable:!0,disabled:!1},hijo:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new X.w0,this.relatedRelacionEventoPadre=c=>this.eventoRepository.list(this.filter(new K.er,c,this.relacionEventoPadreFilter)),this.retrieveRelacionEventoPadre=c=>this.eventoRepository.retrieve(c.uid),this.relatedRelacionEventoHijo=c=>this.eventoRepository.list(this.filter(new K.er,c,this.relacionEventoHijoFilter)),this.retrieveRelacionEventoHijo=c=>this.eventoRepository.retrieve(c.uid),this.initialsAndDefaults={padre:(0,S.of)({$ref:0}),hijo:(0,S.of)({$ref:0})},this.form=p.group({padre:this.fields.padre.control=new d.NI("",[]),search:this.fields.search.control=new d.NI("",[]),hijo:this.fields.hijo.control=new d.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const s of Object.keys(n))t[s]=n[s];if(this.contextFilter)for(const s of Object.keys(this.contextFilter))t[s]=this.contextFilter[s];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q),e.Y36(O.h),e.Y36(e.sBO),e.Y36(k.aB),e.Y36(d.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["relacion-evento-view-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(j.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",relacionEventoPadreFilter:"relacionEventoPadreFilter",relacionEventoHijoFilter:"relacionEventoHijoFilter"},decls:2,vars:9,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-padre","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-search",3,"control","label","placeholder",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-hijo","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-padre","display","nombre",3,"control","label","placeholder","search","retrieve"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-search",3,"control","label","placeholder"],["fxFlex","20%","fxFlex.sm","45%","fxFlex.xs","45%","id","editable-relacion-evento-hijo","display","nombre",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,vt,3,3,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.relacionEvento")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[h.O5,te.s,we.x,L.xw,L.SQ,L.yH,j.k,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),o})();const mt=["list"],ht=["searchForm"],_t=["container"];function wt(o,l){1&o&&e._uU(0),2&o&&e.Oqu(l.$implicit.uid)}function bt(o,l){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=l.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.padre?null:t.padre.value))?null:i.nombre)}}function xt(o,l){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=l.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.hijo?null:t.hijo.value))?null:i.nombre)}}const Ct=function(){return["sort"]},Et=function(){return[]};function At(o,l){if(1&o){const t=e.EpF();e._UZ(0,"relacion-evento-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",t.showTable?e.DdM(6,Ct):e.DdM(7,Et)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function yt(o,l){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,wt,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,bt,2,3,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,xt,2,3,"ng-template"),e.qZA(),e.TgZ(10,"list-view-no-content"),e._UZ(11,"img",7),e.TgZ(12,"div")(13,"h1"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"list-view-no-results"),e._UZ(20,"img",8),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-search-form",9),e.ALo(29,"translate"),e.ALo(30,"translate"),e.YNc(31,At,7,8,"ng-template"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.relacionEventoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,12,"proyecto.relacion-evento-view.list.column.padre-nombre")),e.xp6(3),e.s9C("title",e.lcZ(8,14,"proyecto.relacion-evento-view.list.column.hijo-nombre")),e.xp6(7),e.Oqu(e.lcZ(15,16,"proyecto.relacion-evento-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(18,18,"proyecto.relacion-evento-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(24,20,"proyecto.relacion-evento-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(27,22,"proyecto.relacion-evento-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(29,24,"proyecto.relacion-evento-view.list.search.title")),e.s9C("subtitle",e.lcZ(30,26,"proyecto.relacion-evento-view.list.search.subtitle"))}}let gt=(()=>{class o{constructor(t,i,n,s,p){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=s,this.relacionEventoRepository=p,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.relacion-evento-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10),this.filter.include||(this.filter.include={}),this.filter.include.padre=!0,this.filter.include.hijo=!0}advancedSearch(){var t,i;if(this.searchForm&&this.list){const n={},s=this.searchForm.first.form.value;!(null===(t=s.padre)||void 0===t)&&t.uid&&(n.padre=s.padre.uid),s.search&&(n.search=s.search),!(null===(i=s.hijo)||void 0===i)&&i.uid&&(n.hijo=s.hijo.uid),this.list.first.advancedFilter=n,this.list.first.makeSearch()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(oe.P),e.Y36(v.sK),e.Y36(ne.ux),e.Y36(e.sBO),e.Y36(q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["relacion-evento-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(mt,5),e.Gf(ht,5),e.Gf(_t,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:4,consts:[["id","relacionEvento-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"parents","fixed","defaults","onAction"],["container",""],["id","relacionEvento-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,yt,32,28,"list-view",0),e.TgZ(1,"relacion-evento-view-actions-container",1,2),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[h.O5,V.Rt,V.Yi,V.if,V.JR,V.To,_.lW,rt,pt,h.Ov,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})();const Vt=["actions"];function Zt(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",9),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"evento-view-edit",10,11),e.TgZ(7,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",13),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.evento-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.evento-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.evento-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.evento-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.evento-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.evento-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.evento-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function Rt(o,l){if(1&o&&e._UZ(0,"evento-view-detail",15),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function Mt(o,l){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",9),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"evento-view-edit",10,11),e.TgZ(7,"action-command-button",12),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const s=e.MAs(1);return e.KtG(s.execAndJumpToAction(n.saveValue(),s.isAllowed("detail")?"detail":"edit",s.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.evento-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.evento-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.evento-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.evento-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.evento-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.evento-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.evento-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}const ie=function(o){return{evento:o}},xe=function(){return["evento"]};function Lt(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"notificacion-evento-view-list",18),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const s=e.MAs(1);return e.KtG(s.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid","notificaciones")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,ie,null==i?null:i.selection),"notificaciones"))("fixed",t.fixedForChild(e.DdM(8,xe),"notificaciones"))("filter",t.filtersForChild(e.VKq(9,ie,null==i||null==i.selection?null:i.selection.uid),"notificaciones"))}}function Ft(o,l){if(1&o&&e.YNc(0,Lt,1,11,"notificacion-evento-view-list",17),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Tt(o,l){if(1&o&&(e.TgZ(0,"action-command",16),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Ft,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.evento-view.list.action.notificaciones.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.evento-view.list.action.notificaciones.subtitle"))}}function Ot(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"relacion-evento-view-list",18),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const s=e.MAs(1);return e.KtG(s.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid","hijos")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,ie,null==i?null:i.selection),"hijos"))("fixed",t.fixedForChild(e.DdM(8,xe),"hijos"))("filter",t.filtersForChild(e.VKq(9,ie,null==i||null==i.selection?null:i.selection.uid),"hijos"))}}function Dt(o,l){if(1&o&&e.YNc(0,Ot,1,11,"relacion-evento-view-list",17),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Pt(o,l){if(1&o&&(e.TgZ(0,"action-command",19),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Dt,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.evento-view.list.action.hijos.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.evento-view.list.action.hijos.subtitle"))}}let Nt=(()=>{class o{constructor(t,i,n,s){this.notificacionEventoRepository=t,this.relacionEventoRepository=i,this.cdRef=n,this.eventoRepository=s,this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.hijosAllow=!1,this.notificacionesAllow=!1,this.delete=p=>this.eventoRepository.delete(this.eventoRepository.key(p)),this.deleteSelection=p=>{const c=new K.er;return p&&(c.uids=p.map(f=>f.uid).join(",")),this.eventoRepository.deleteAllForQuery(c)},this.subscriptions=new X.w0}ngOnInit(){this.subscriptions.add(this.notificacionEventoRepository.genericAcl().subscribe(t=>{var i;this.notificacionesAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.notificacionesAllow=!!n.allowed)}),this.cdRef.detectChanges()})),this.subscriptions.add(this.relacionEventoRepository.genericAcl().subscribe(t=>{var i;this.hijosAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.hijosAllow=!!n.allowed)}),this.cdRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}fixedForChild(t,i){return this.childFixeds[i]?t.concat(this.childFixeds[i]):t}defaultsForChild(t,i){return this.childDefaults[i]?Object.assign(t,this.childDefaults[i]):t}filtersForChild(t,i){return this.childFilters[i]?Object.assign(t,this.childFilters[i]):t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36($),e.Y36(q),e.Y36(e.sBO),e.Y36(O.h))},o.\u0275cmp=e.Xpm({type:o,selectors:[["evento-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(Vt,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:28,vars:63,consts:[[3,"repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","notificaciones","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],["name","hijos","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"],["name","notificaciones","acl","retrieve","icon","home",3,"label","title","subtitle"],["style","display: flex; min-height: 400px",3,"uid","parents","embbed","defaults","fixed","filter","onAction",4,"ngIf"],[2,"display","flex","min-height","400px",3,"uid","parents","embbed","defaults","fixed","filter","onAction"],["name","hijos","acl","retrieve","icon","home",3,"label","title","subtitle"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,Zt,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,Rt,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,Mt,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.YNc(26,Tt,4,7,"action-command",7),e.YNc(27,Pt,4,7,"action-command",8),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("repository",i.eventoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,31,"proyecto.evento-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(4,33,"proyecto.evento-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,35,"proyecto.evento-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(8,37,"proyecto.evento-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,39,"proyecto.evento-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(12,41,"proyecto.evento-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,43,"proyecto.evento-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,45,"proyecto.evento-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,47,"proyecto.evento-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,49,"proyecto.evento-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,51,"proyecto.evento-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,53,"proyecto.evento-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,55,"proyecto.evento-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,57,"proyecto.evento-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,59,"proyecto.evento-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,61,"proyecto.evento-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection),e.xp6(6),e.Q6J("ngIf",i.notificacionesAllow),e.xp6(1),e.Q6J("ngIf",i.hijosAllow)}},dependencies:[M.V4,M.fd,M.Lo,M.Fs,h.O5,Ce.EventoViewDetailComponent,Ee.EventoViewEditComponent,qe,gt,v.X$],changeDetection:0}),o})();const Jt=["list"],Ut=["searchForm"],It=["container"];function Qt(o,l){1&o&&e._uU(0),2&o&&e.Oqu(l.$implicit.nombre)}function jt(o,l){1&o&&e._uU(0),2&o&&e.Oqu(l.$implicit.nombre)}function St(o,l){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,Qt,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,jt,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-no-content"),e._UZ(8,"img",7),e.TgZ(9,"div")(10,"h1"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"list-view-no-results"),e._UZ(17,"img",8),e.TgZ(18,"div")(19,"h1"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.eventoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,9,"proyecto.evento-view.list.column.nombre")),e.xp6(7),e.Oqu(e.lcZ(12,11,"proyecto.evento-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(15,13,"proyecto.evento-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(21,15,"proyecto.evento-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(24,17,"proyecto.evento-view.list.no-results.message"))}}const Yt=[{path:"",component:(()=>{class o{constructor(t,i,n,s,p){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=s,this.eventoRepository=p,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.evento-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){if(this.searchForm&&this.list){const t={},i=this.searchForm.first.form.value;i.search&&(t.search=i.search),this.list.first.advancedFilter=t,this.list.first.makeSearch()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(oe.P),e.Y36(v.sK),e.Y36(ne.ux),e.Y36(e.sBO),e.Y36(O.h))},o.\u0275cmp=e.Xpm({type:o,selectors:[["evento-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Jt,5),e.Gf(Ut,5),e.Gf(It,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults"},outputs:{onAction:"onAction"},decls:3,vars:7,consts:[["id","evento-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"parents","childFixeds","childFilters","childDefaults","fixed","defaults","onAction"],["container",""],["id","evento-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"]],template:function(t,i){1&t&&(e.YNc(0,St,25,19,"list-view",0),e.TgZ(1,"evento-view-actions-container",1,2),e.NdJ("onAction",function(s){return i.onAction.emit(s)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("parents",i.parents)("childFixeds",i.childFixeds)("childFilters",i.childFilters)("childDefaults",i.childDefaults)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[h.O5,V.Rt,V.Yi,V.if,V.To,Nt,v.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})()}];let Kt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[re.Bz.forChild(Yt),re.Bz]}),o})(),Bt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Q,Kt]}),o})()},5503:(W,y,a)=>{a.d(y,{h:()=>b});var h=a(2433),v=a(5e3),A=a(5276);let b=(()=>{class _ extends h._j{constructor(C){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"evento",path:"proyecto-eventos",acl:"proyecto-eventos"},C)}}return _.\u0275fac=function(C){return new(C||_)(v.LFG(A.D))},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);