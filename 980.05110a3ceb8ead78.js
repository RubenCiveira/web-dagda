(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[980],{135:(H,K,i)=>{"use strict";i.d(K,{R:()=>g});var _=i(1764),A=i(2598),e=i.n(A),r=i(354),t=i.n(r),Z=i(5e3),v=i(970);_.extend(e()),_.extend(t());let g=(()=>{class a{constructor(P){this.appState=P,this.weekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),this.weekdaysShort="sun._mon._tue._wed._thu._fri._sat.".split("_"),this.weekdaysMin="su_mo_tu_we_th_fr_st".split("_"),this.months="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),this.monthsShort="jan_feb_mar_apr_may_jun_jul_aug_sep_oct_nov_dec".split("_"),this.currentLang="",this.loadTimezones(),P.lang.get().subscribe(u=>{this.currentLang=u.code,this.loadLocale(u.code)}),this.monthList=[];for(let u=0;u<12;u++)this.monthList.push(""+(u+1))}format(P,u){try{return _(P).locale(this.currentLang).format(u)}catch(x){return _(P).format(u)}}parse(P,u){return _(P,{format:this.locale.formats[u]?this.locale.formats[u]:u,locale:this.currentLang}).toDate()}localToTimeZone(P,u){if(this.getZonedTime){let x="";x=this.findTimeZone(u||"Europe/Madrid");const M=this.getZonedTime(P,x),C=new Date;return C.setFullYear(M.year),C.setMonth(M.month-1),C.setDate(M.day),C.setHours(M.hours),C.setMinutes(M.minutes),C.setSeconds(M.seconds),C.setMilliseconds(M.milliseconds),C}return P}isValidTimezone(P){return!!this.findTimeZone(P)}timezonedToLocal(P,u){return this.convertTimeToDate?this.convertTimeToDate(this.setTimeZone(P,this.findTimeZone(u),{useUTC:!1})):P}getFirstDayOfWeek(){return this.locale&&this.locale.weekStart?this.locale.weekStart:0}getDayOfWeekNames(P){let u;return u="narrow"===P?this.locale&&this.locale.weekdaysMin?this.locale.weekdaysMin:this.weekdaysMin:"short"===P?this.locale&&this.locale.weekdays?this.locale.weekdays:this.weekdays:this.locale&&this.locale.weekdaysShort?this.locale.weekdaysShort:this.weekdaysShort,u}getMonthNames(P){let u;return"narrow"===P?this.monthList:(u="short"===P?this.locale&&this.locale.monthsShort?this.locale.monthsShort:this.monthsShort:this.locale&&this.locale.months?this.locale.months:this.months,u)}loadTimezones(){const P=window,u=()=>{if(P.timezoneSupport&&P.timezoneData){const{populateTimeZones:C,listTimeZones:y,getZonedTime:U,setTimeZone:m,findTimeZone:E,convertTimeToDate:d}=P.timezoneSupport;this.getZonedTime=U,this.setTimeZone=m,this.findTimeZone=E,this.convertTimeToDate=d,C(P.timezoneData);const l=[];y().forEach(c=>{l.push({code:c,label:c})}),this.appState.availablesTimezones.set(l)}},x=document.createElement("script");x.src="assets/tz/lookup-convert.umd.js",x.type="text/javascript",x.onload=u,document.getElementsByTagName("head")[0].appendChild(x);const M=document.createElement("script");M.src="assets/tz/data.umd.js",M.type="text/javascript",M.onload=u,document.getElementsByTagName("head")[0].appendChild(M)}loadLocale(P){const u=P.split("-")[0].toLowerCase(),x=document.createElement("script");x.src="assets/i18n/"+u+"-date.js",x.type="text/javascript",x.onload=()=>{const M=window;this.locale=M.locale,_.locale(M.locale)},document.getElementsByTagName("head")[0].appendChild(x)}}return a.\u0275fac=function(P){return new(P||a)(Z.LFG(v.aB))},a.\u0275prov=Z.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},967:(H,K,i)=>{"use strict";i.d(K,{n:()=>A});var _=i(5e3),n=i(8574);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["dossier-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,Z){1&t&&_._UZ(0,"dossier-view-edit",0),2&t&&(_.Akn("detail"),_.Q6J("disabled",!0)("data",Z.data))},directives:[n.P],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),e})()},9596:(H,K,i)=>{"use strict";i.d(K,{B:()=>P});var _=i(9808),n=i(1062),A=i(2155),e=i(5113),r=i(7423),t=i(6510),Z=i(1614),v=i(2375),g=i(2782),a=i(5848),W=i(5e3);let P=(()=>{class u{}return u.\u0275fac=function(M){return new(M||u)},u.\u0275mod=W.oAB({type:u}),u.\u0275inj=W.cJS({providers:[],imports:[[t.V,_.ez,a.r,Z.r,A.o9,g.n,e.xu,v.W,r.ot,n.aw]]}),u})()},8574:(H,K,i)=>{"use strict";i.d(K,{P:()=>U});var _=i(6537),n=i(3075),A=i(727),e=i(262),r=i(2843),t=i(4004),Z=i(8505),v=i(5097),g=i(5e3),a=i(7130),W=i(7093),P=i(9808),u=i(502),x=i(791),M=i(1062);function C(m,E){if(1&m&&(g.TgZ(0,"editable-text",2),g.ALo(1,"translate"),g.ALo(2,"translate"),g._UZ(3,"editable-error",3),g.ALo(4,"translate"),g.qZA()),2&m){const d=g.oxw(2);g.s9C("label",g.lcZ(1,4,"proyecto.dossier-view.form.alias.label")),g.s9C("placeholder",g.lcZ(2,6,"proyecto.dossier-view.form.alias.placeholder")),g.Q6J("control",d.fields.alias.control),g.xp6(3),g.s9C("message",g.lcZ(4,8,"proyecto.dossier-view.form.alias.rule.maxlength"))}}function y(m,E){if(1&m&&g.YNc(0,C,5,10,"editable-text",1),2&m){const d=g.oxw();g.Q6J("ngIf",null==d.fields.alias?null:d.fields.alias.visible)}}let U=(()=>{class m{constructor(d,f,l){this.dossierRepository=d,this.cdRef=f,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={alias:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.subscriptions=new A.w0,this.initialsAndDefaults={},this.form=l.group({alias:this.fields.alias.control=new n.NI("",[n.kI.maxLength(250)])})}ngOnInit(){}ngAfterViewInit(){var d;this.acl?this.updateAcl():(null===(d=this.data)||void 0===d?void 0:d.nombre)?this.dossierRepository.specificAcl(this.data.nombre).subscribe(f=>{this.acl=f,this.updateAcl()}):this.dossierRepository.genericAcl().subscribe(f=>{this.acl=f,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(d){d.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),d.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(f=>{this.fixedFields.push(f)})),d.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const d=this.dossierRepository.key(this.data),f=this.formView.retrieveValue();return(d?this.dossierRepository.update(d,f):this.dossierRepository.add(f)).pipe((0,v.I)(),(0,e.K)(c=>{var I;return d&&this.dossierRepository.retrieve(d).subscribe(h=>{this.formView&&this.formView.markOriginal(h)}),null===(I=this.formView)||void 0===I||I.showError(c),(0,r._)(()=>c)}),(0,Z.b)(c=>{var I;Object.keys(c).forEach(h=>{this.data[h]=c[h],this.formView&&(this.formView.data[h]=c[h])}),null===(I=this.formView)||void 0===I||I.refresh()}),(0,t.U)(c=>"Dossier guardado"))}throw new Error("Intentando guardar sin formView")}updateValues(){var d,f;this.formView&&this.formView.bindValues(this.fields),this.dirty=!!(null===(d=this.form)||void 0===d?void 0:d.dirty),this.invalid=!!(null===(f=this.form)||void 0===f?void 0:f.invalid),this.cdRef.detectChanges()}updateAcl(){var d,f;this.formView&&this.formView.bindFields(this.fields),this.dirty=!!(null===(d=this.form)||void 0===d?void 0:d.dirty),this.invalid=!!(null===(f=this.form)||void 0===f?void 0:f.invalid),this.cdRef.detectChanges()}}return m.\u0275fac=function(d){return new(d||m)(g.Y36(a.h),g.Y36(g.sBO),g.Y36(n.qu))},m.\u0275cmp=g.Xpm({type:m,selectors:[["dossier-view-edit"]],viewQuery:function(d,f){if(1&d&&g.Gf(_.k,7),2&d){let l;g.iGM(l=g.CRH())&&(f.formView=l.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data"},features:[g.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-dossier-alias",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-dossier-alias",3,"control","label","placeholder"],["for","maxlength",3,"message"]],template:function(d,f){1&d&&(g.TgZ(0,"form-view",0),g.YNc(1,y,1,1,"ng-template"),g.qZA()),2&d&&g.Q6J("messagePreffix","proyecto.dossier")("form",f.form)("disabled",f.disabled)("fixed",f.fixedFields)("hidden",f.hidden)("editables",f.editables)("visibles",f.visibles)("defaults",f.initialsAndDefaults)("acl",f.acl)("data",f.data)},directives:[_.k,W.xw,W.SQ,P.O5,u.x,W.yH,x.IK],pipes:[M.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),m})()},5848:(H,K,i)=>{"use strict";i.d(K,{r:()=>x});var _=i(9808),n=i(1062),A=i(2155),e=i(5113),r=i(7423),t=i(6510),Z=i(1614),v=i(2375),g=i(2782),a=i(7893),W=i(7531),P=i(3075),u=i(5e3);let x=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[],imports:[[t.V,_.ez,Z.r,a.o,A.o9,g.n,P.u5,e.xu,v.W,r.ot,W.c,P.UX,n.aw]]}),M})()},745:(H,K,i)=>{"use strict";i.d(K,{$:()=>A});var _=i(5e3),n=i(4558);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["escritor-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,Z){1&t&&_._UZ(0,"escritor-view-edit",0),2&t&&(_.Akn("detail"),_.Q6J("disabled",!0)("data",Z.data))},directives:[n.E],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),e})()},3519:(H,K,i)=>{"use strict";i.d(K,{g:()=>P});var _=i(9808),n=i(1062),A=i(2155),e=i(5113),r=i(7423),t=i(6510),Z=i(1614),v=i(2375),g=i(2782),a=i(2362),W=i(5e3);let P=(()=>{class u{}return u.\u0275fac=function(M){return new(M||u)},u.\u0275mod=W.oAB({type:u}),u.\u0275inj=W.cJS({providers:[],imports:[[t.V,_.ez,Z.r,a.I,A.o9,g.n,e.xu,v.W,r.ot,n.aw]]}),u})()},4558:(H,K,i)=>{"use strict";i.d(K,{E:()=>Q});var _=i(6537),n=i(3075),A=i(9873),e=i(727),r=i(262),t=i(2843),Z=i(4004),v=i(8505),g=i(5097),a=i(5e3),W=i(48),P=i(7130),u=i(970),x=i(7093),M=i(9808),C=i(502),y=i(791),U=i(9952),m=i(9087),E=i(967),d=i(6266),f=i(5031),l=i(1600),c=i(1062);function I(s,L){if(1&s&&(a.TgZ(0,"editable-text",13),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.guid.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.guid.placeholder")),a.Q6J("control",o.fields.guid.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.guid.rule.maxlength"))}}function h(s,L){if(1&s&&a._UZ(0,"dossier-view-detail",18),2&s){const o=a.oxw(4);a.Q6J("data",o.fields.dossier.value)}}function b(s,L){if(1&s&&a.YNc(0,h,1,1,"dossier-view-detail",17),2&s){const o=a.oxw(3);a.Q6J("ngIf",o.fields.dossier.value)}}function D(s,L){if(1&s&&(a.TgZ(0,"editable-selectone",15),a.ALo(1,"translate"),a.ALo(2,"translate"),a.TgZ(3,"editable-view-related",16),a.ALo(4,"translate"),a.YNc(5,b,1,1,"ng-template"),a.qZA()()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,6,"proyecto.escritor-view.form.dossier.label")),a.s9C("placeholder",a.lcZ(2,8,"proyecto.escritor-view.form.dossier.placeholder")),a.Q6J("control",o.fields.dossier.control)("search",o.relatedEscritorDossier)("retrieve",o.retrieveEscritorDossier),a.xp6(3),a.s9C("title",a.lcZ(4,10,"proyecto.dossier-view.dossier.showRelated"))}}function F(s,L){if(1&s&&(a.TgZ(0,"editable-text",19),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.nombre.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.nombre.placeholder")),a.Q6J("control",o.fields.nombre.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.nombre.rule.maxlength"))}}function O(s,L){if(1&s&&(a.TgZ(0,"editable-text",20),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.email.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.email.placeholder")),a.Q6J("control",o.fields.email.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.email.rule.maxlength"))}}function B(s,L){if(1&s&&(a.TgZ(0,"editable-text",21),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.alias.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.alias.placeholder")),a.Q6J("control",o.fields.alias.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.alias.rule.maxlength"))}}function S(s,L){if(1&s&&(a.TgZ(0,"editable-text",22),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.idioma.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.idioma.placeholder")),a.Q6J("control",o.fields.idioma.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.idioma.rule.maxlength"))}}function J(s,L){if(1&s&&(a.TgZ(0,"editable-text",23),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.localizacion.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.localizacion.placeholder")),a.Q6J("control",o.fields.localizacion.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.localizacion.rule.maxlength"))}}function N(s,L){if(1&s&&(a.TgZ(0,"editable-text",24),a.ALo(1,"translate"),a.ALo(2,"translate"),a._UZ(3,"editable-error",14),a.ALo(4,"translate"),a.qZA()),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.descripcion.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.descripcion.placeholder")),a.Q6J("control",o.fields.descripcion.control),a.xp6(3),a.s9C("message",a.lcZ(4,8,"proyecto.escritor-view.form.descripcion.rule.maxlength"))}}function V(s,L){if(1&s&&(a._UZ(0,"editable-datetime",25),a.ALo(1,"translate"),a.ALo(2,"translate")),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.fecha-registro-media.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.fecha-registro-media.placeholder")),a.Q6J("hasTimeInput",!0)("control",o.fields.fechaRegistroMedia.control)}}function j(s,L){if(1&s&&(a._UZ(0,"editable-upload",26),a.ALo(1,"translate"),a.ALo(2,"translate")),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,4,"proyecto.escritor-view.form.imagen.label")),a.s9C("placeholder",a.lcZ(2,6,"proyecto.escritor-view.form.imagen.placeholder")),a.Q6J("control",o.fields.imagen.control)("upload",o.uploadEscritorImagen)}}function G(s,L){if(1&s&&(a._UZ(0,"editable-integer",27),a.ALo(1,"translate"),a.ALo(2,"translate")),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,3,"proyecto.escritor-view.form.numero-publicaciones.label")),a.s9C("placeholder",a.lcZ(2,5,"proyecto.escritor-view.form.numero-publicaciones.placeholder")),a.Q6J("control",o.fields.numeroPublicaciones.control)}}function X(s,L){if(1&s&&(a._UZ(0,"editable-integer",28),a.ALo(1,"translate"),a.ALo(2,"translate")),2&s){const o=a.oxw(2);a.s9C("label",a.lcZ(1,3,"proyecto.escritor-view.form.numero-lectores.label")),a.s9C("placeholder",a.lcZ(2,5,"proyecto.escritor-view.form.numero-lectores.placeholder")),a.Q6J("control",o.fields.numeroLectores.control)}}function w(s,L){if(1&s&&(a.YNc(0,I,5,10,"editable-text",1),a.YNc(1,D,6,12,"editable-selectone",2),a.YNc(2,F,5,10,"editable-text",3),a.YNc(3,O,5,10,"editable-text",4),a.YNc(4,B,5,10,"editable-text",5),a.YNc(5,S,5,10,"editable-text",6),a.YNc(6,J,5,10,"editable-text",7),a.YNc(7,N,5,10,"editable-text",8),a.YNc(8,V,3,8,"editable-datetime",9),a.YNc(9,j,3,8,"editable-upload",10),a.YNc(10,G,3,7,"editable-integer",11),a.YNc(11,X,3,7,"editable-integer",12)),2&s){const o=a.oxw();a.Q6J("ngIf",null==o.fields.guid?null:o.fields.guid.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.dossier?null:o.fields.dossier.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.nombre?null:o.fields.nombre.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.email?null:o.fields.email.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.alias?null:o.fields.alias.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.idioma?null:o.fields.idioma.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.localizacion?null:o.fields.localizacion.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.descripcion?null:o.fields.descripcion.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.fechaRegistroMedia?null:o.fields.fechaRegistroMedia.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.imagen?null:o.fields.imagen.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.numeroPublicaciones?null:o.fields.numeroPublicaciones.visible),a.xp6(1),a.Q6J("ngIf",null==o.fields.numeroLectores?null:o.fields.numeroLectores.visible)}}let Q=(()=>{class s{constructor(o,R,p,T,Y){this.escritorRepository=o,this.dossierRepository=R,this.cdRef=p,this.appState=T,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={guid:{visible:!0,editable:!0,disabled:!1},dossier:{visible:!0,editable:!0,disabled:!1},nombre:{visible:!0,editable:!0,disabled:!1},email:{visible:!0,editable:!0,disabled:!1},alias:{visible:!0,editable:!0,disabled:!1},idioma:{visible:!0,editable:!0,disabled:!1},localizacion:{visible:!0,editable:!0,disabled:!1},descripcion:{visible:!0,editable:!0,disabled:!1},fechaRegistroMedia:{visible:!0,editable:!0,disabled:!1},imagen:{visible:!0,editable:!0,disabled:!1},numeroPublicaciones:{visible:!0,editable:!0,disabled:!1},numeroLectores:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new e.w0,this.relatedEscritorDossier=$=>this.dossierRepository.list(this.filter(new A.w4,$,this.escritorDossierFilter)),this.retrieveEscritorDossier=$=>this.dossierRepository.retrieve($.nombre),this.uploadEscritorImagen=$=>this.escritorRepository.storeFile($),this.initialsAndDefaults={},this.form=Y.group({guid:this.fields.guid.control=new n.NI("",[n.kI.maxLength(250)]),dossier:this.fields.dossier.control=new n.NI("",[]),nombre:this.fields.nombre.control=new n.NI("",[n.kI.maxLength(250)]),email:this.fields.email.control=new n.NI("",[n.kI.maxLength(250)]),alias:this.fields.alias.control=new n.NI("",[n.kI.maxLength(250)]),idioma:this.fields.idioma.control=new n.NI("",[n.kI.maxLength(250)]),localizacion:this.fields.localizacion.control=new n.NI("",[n.kI.maxLength(250)]),descripcion:this.fields.descripcion.control=new n.NI("",[n.kI.maxLength(250)]),fechaRegistroMedia:this.fields.fechaRegistroMedia.control=new n.NI("",[]),imagen:this.fields.imagen.control=new n.NI("",[]),numeroPublicaciones:this.fields.numeroPublicaciones.control=new n.NI("",[]),numeroLectores:this.fields.numeroLectores.control=new n.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:o=>{this.updateValues()}}))}ngAfterViewInit(){var o;this.acl?this.updateAcl():(null===(o=this.data)||void 0===o?void 0:o.uid)?this.escritorRepository.specificAcl(this.data.uid).subscribe(R=>{this.acl=R,this.updateAcl()}):this.escritorRepository.genericAcl().subscribe(R=>{this.acl=R,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(o){o.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),o.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(R=>{this.fixedFields.push(R)})),o.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const o=this.escritorRepository.key(this.data),R=this.formView.retrieveValue();return(o?this.escritorRepository.update(o,R):this.escritorRepository.add(R)).pipe((0,g.I)(),(0,r.K)(T=>{var Y;return o&&this.escritorRepository.retrieve(o).subscribe($=>{this.formView&&this.formView.markOriginal($)}),null===(Y=this.formView)||void 0===Y||Y.showError(T),(0,t._)(()=>T)}),(0,v.b)(T=>{var Y;Object.keys(T).forEach($=>{this.data[$]=T[$],this.formView&&(this.formView.data[$]=T[$])}),null===(Y=this.formView)||void 0===Y||Y.refresh()}),(0,Z.U)(T=>"Escritor guardado"))}throw new Error("Intentando guardar sin formView")}updateValues(){var o,R;this.formView&&this.formView.bindValues(this.fields),this.dirty=!!(null===(o=this.form)||void 0===o?void 0:o.dirty),this.invalid=!!(null===(R=this.form)||void 0===R?void 0:R.invalid),this.cdRef.detectChanges()}updateAcl(){var o,R;this.formView&&this.formView.bindFields(this.fields),this.dirty=!!(null===(o=this.form)||void 0===o?void 0:o.dirty),this.invalid=!!(null===(R=this.form)||void 0===R?void 0:R.invalid),this.cdRef.detectChanges()}filter(o,R,p){if(o.search=R,p)for(const T of Object.keys(p))o[T]=p[T];if(this.contextFilter)for(const T of Object.keys(this.contextFilter))o[T]=this.contextFilter[T];return o}}return s.\u0275fac=function(o){return new(o||s)(a.Y36(W.X),a.Y36(P.h),a.Y36(a.sBO),a.Y36(u.aB),a.Y36(n.qu))},s.\u0275cmp=a.Xpm({type:s,selectors:[["escritor-view-edit"]],viewQuery:function(o,R){if(1&o&&a.Gf(_.k,7),2&o){let p;a.iGM(p=a.CRH())&&(R.formView=p.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",escritorDossierFilter:"escritorDossierFilter"},features:[a.TTD],decls:2,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","10px",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-guid",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-dossier","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-nombre",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-email",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-alias",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-idioma",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-localizacion",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-descripcion",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-fechaRegistroMedia",3,"hasTimeInput","control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-escritor-imagen",3,"control","upload","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-numeroPublicaciones",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-numeroLectores",3,"control","label","placeholder",4,"ngIf"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-guid",3,"control","label","placeholder"],["for","maxlength",3,"message"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-dossier","display","nombre",3,"control","label","placeholder","search","retrieve"],[3,"title"],[3,"data",4,"ngIf"],[3,"data"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-nombre",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-email",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-alias",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-idioma",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-localizacion",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-descripcion",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-fechaRegistroMedia",3,"hasTimeInput","control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","contentType","file","id","editable-escritor-imagen",3,"control","upload","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-numeroPublicaciones",3,"control","label","placeholder"],["fxFlex","45%","fxFlex.sm","90%","fxFlex.xs","90%","id","editable-escritor-numeroLectores",3,"control","label","placeholder"]],template:function(o,R){1&o&&(a.TgZ(0,"form-view",0),a.YNc(1,w,12,12,"ng-template"),a.qZA()),2&o&&a.Q6J("messagePreffix","proyecto.escritor")("form",R.form)("disabled",R.disabled)("fixed",R.fixedFields)("hidden",R.hidden)("editables",R.editables)("visibles",R.visibles)("defaults",R.initialsAndDefaults)("acl",R.acl)("data",R.data)},directives:[_.k,x.xw,x.SQ,M.O5,C.x,x.yH,y.IK,U.s,m.MI,E.n,d.Q,f.Q,l.Y],pipes:[c.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.inicial[_ngcontent-%COMP%], .modificado[_ngcontent-%COMP%], .remoto[_ngcontent-%COMP%]{display:block;margin:.5em}.diff-field[_ngcontent-%COMP%]{font-weight:700;font-size:20px}"],changeDetection:0}),s})()},2362:(H,K,i)=>{"use strict";i.d(K,{I:()=>m});var _=i(9808),n=i(1062),A=i(2155),e=i(5113),r=i(7423),t=i(6510),Z=i(1614),v=i(2375),g=i(2782),a=i(7893),W=i(9596),P=i(960),u=i(4392),x=i(8195),M=i(2069),C=i(7531),y=i(3075),U=i(5e3);let m=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=U.oAB({type:E}),E.\u0275inj=U.cJS({providers:[],imports:[[t.V,_.ez,W.B,u.f,M.W,Z.r,P.M,a.o,x.M,A.o9,g.n,y.u5,e.xu,v.W,r.ot,C.c,y.UX,n.aw]]}),E})()},9873:(H,K,i)=>{"use strict";i.d(K,{w4:()=>A});class A{static clone(r){const t=new A;return t.pageSize=r.pageSize,t.pageNumber=r.pageNumber,t.lastRow=r.lastRow,t.search=r.search,t}}},1947:(H,K,i)=>{"use strict";i.d(K,{XJ:()=>A});class A{static clone(r){const t=new A;return t.pageSize=r.pageSize,t.pageNumber=r.pageNumber,t.lastRow=r.lastRow,t.search=r.search,t.dossier="string"==typeof r.dossier||r.dossier instanceof String?r.dossier:r.dossier?r.dossier.nombre:void 0,t}}},9087:(H,K,i)=>{"use strict";i.d(K,{Kr:()=>C,MI:()=>M});var _=i(5113),n=i(5e3),A=i(791),e=i(9808),r=i(6050);const t=["formHandler"];function Z(y,U){1&y&&n.GkF(0)}function v(y,U){if(1&y&&(n.ynx(0),n.YNc(1,Z,1,0,"ng-container",1),n.BQk()),2&y){const m=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",m.template)}}function g(y,U){1&y&&n.GkF(0)}function a(y,U){if(1&y&&(n.ynx(0),n.YNc(1,g,1,0,"ng-container",1),n.BQk()),2&y){const m=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",m.template)}}const W=["template"],P=["showViewRelated"],u=["showCreateRelated"];let x=(()=>{class y{constructor(){this.title="",this.draw=!1}isInvalid(){var m;return(null===(m=this.handler)||void 0===m?void 0:m.first)&&this.handler.first.form.invalid}clearValues(){var m;(null===(m=this.handler)||void 0===m?void 0:m.first)&&this.handler.first.form&&this.handler.first.form.setDefault()}saveValue(){if(this.handler)return this.handler.first.saveValue();throw new Error("Imposible guarrdar el valor si no hay manejador")}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=n.Xpm({type:y,selectors:[["editable-create-related"]],contentQueries:function(m,E,d){if(1&m&&(n.Suo(d,n.Rgc,5),n.Suo(d,t,4)),2&m){let f;n.iGM(f=n.CRH())&&(E.template=f.first),n.iGM(f=n.CRH())&&(E.handler=f)}},inputs:{title:"title"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(m,E){1&m&&n.YNc(0,v,2,1,"ng-container",0),2&m&&n.Q6J("ngIf",E.template&&E.draw)},directives:[e.O5,e.tP],encapsulation:2}),y})(),M=(()=>{class y{constructor(){this.title="",this.draw=!1}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=n.Xpm({type:y,selectors:[["editable-view-related"]],contentQueries:function(m,E,d){if(1&m&&n.Suo(d,n.Rgc,5),2&m){let f;n.iGM(f=n.CRH())&&(E.template=f.first)}},inputs:{title:"title"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(m,E){1&m&&n.YNc(0,a,2,1,"ng-container",0),2&m&&n.Q6J("ngIf",E.template&&E.draw)},directives:[e.O5,e.tP],encapsulation:2}),y})(),C=(()=>{class y extends A.G7{constructor(m,E){super(m),this.cdRef=E,this.display="",this.searchId="uid",this.createLabel="Create new",this.noResultLabel="No results",this.errorSearchingLabel="Error searching",this.error=null,this.searching=!1,this.options=[],this.errorSearching=!1,this.contextFilter={},this.subscriptions.add(m.state.bindSelection(this.contextFilter).subscribe(d=>{}))}openShowRelatedData(m){if(m.cancelBubble=!0,console.log("QUIERO INTENTAR ABRIR",this.dialogRef),!this.showRelatedDialog)throw new Error("Intentando abrir un dialogo sin plantilla");this.viewRelated&&(this.viewRelated.draw=!0),this.dialogRef=this.service.dialog.open(this.showRelatedDialog,this.service.breakpoint.isMatched([_.u3.XSmall,_.u3.Small])?{panelClass:["fullscreen","fill-dialog"],autoFocus:!0,width:"100vw",maxWidth:"100vw",height:"100vh",maxHeight:"100vh",data:{list:this}}:{panelClass:["fill-dialog"],autoFocus:!0,width:"70vw",data:{list:this}}),this.dialogRef.afterClosed().subscribe(E=>{this.viewRelated&&(this.viewRelated.draw=!1)})}openCreateRelatedData(m){if(m.cancelBubble=!0,this.createRelated&&(this.createRelated.draw=!0),!this.createRelatedDialog)throw new Error("Intentando abrir un dialogo para crear sin plantilla");this.dialogRef=this.service.dialog.open(this.createRelatedDialog,this.service.breakpoint.isMatched([_.u3.XSmall,_.u3.Small])?{panelClass:["fullscreen","fill-dialog"],autoFocus:!0,width:"100vw",maxWidth:"100vw",height:"100vh",maxHeight:"100vh",data:{list:this}}:{panelClass:["fill-dialog"],autoFocus:!0,width:"70vw",data:{list:this}}),this.dialogRef.afterClosed().subscribe(E=>{this.createRelated&&(this.createRelated.draw=!1)})}createRelatedData(){if(this.error=null,!this.createRelated)throw new Error("Intentando guardar datos relacionados sin tener referencia del related");this.subscriptions.add(this.createRelated.saveValue().subscribe({next:m=>{this.valueCreated(m),this.dialogRef&&this.dialogRef.close()},error:m=>{this.error=m}}))}updateOptions(m){return m}searchOptions(m){var E;!m&&this.control&&(!(m=null===(E=this.control)||void 0===E?void 0:E.value)||"string"!=typeof m)&&(m=""),m||(m=""),(!m||"string"==typeof m)&&(m||(m=""),this.searching=!0,this.errorSearching=!1,this.searchObservable&&(this.searchObservable.unsubscribe(),this.subscriptions.remove(this.searchObservable)),this.search&&this.control&&(this.searchObservable=this.search(m,this.contextFilter,this.control).subscribe({next:d=>{const f=[];for(const l of d.content)f.push(l);this.options=this.updateOptions(f),this.searching=!1,this.searchObservable&&(this.searchObservable.unsubscribe(),this.subscriptions.remove(this.searchObservable),this.searchObservable=void 0),this.cdRef.detectChanges()},error:d=>{this.service.errorHandler.cancelError(d),this.errorSearching=d,this.searchObservable&&(this.searchObservable.unsubscribe(),this.subscriptions.remove(this.searchObservable),this.searchObservable=void 0),this.searching=!1}}),this.subscriptions.add(this.searchObservable)))}}return y.\u0275fac=function(m){return new(m||y)(n.Y36(r.U),n.Y36(n.sBO))},y.\u0275cmp=n.Xpm({type:y,selectors:[["editable-base"]],contentQueries:function(m,E,d){if(1&m&&(n.Suo(d,x,5),n.Suo(d,M,5),n.Suo(d,W,5)),2&m){let f;n.iGM(f=n.CRH())&&(E.createRelated=f.first),n.iGM(f=n.CRH())&&(E.viewRelated=f.first),n.iGM(f=n.CRH())&&(E.template=f.first)}},viewQuery:function(m,E){if(1&m&&(n.Gf(P,5),n.Gf(u,5)),2&m){let d;n.iGM(d=n.CRH())&&(E.showRelatedDialog=d.first),n.iGM(d=n.CRH())&&(E.createRelatedDialog=d.first)}},inputs:{display:"display",searchId:"searchId",createLabel:"createLabel",noResultLabel:"noResultLabel",errorSearchingLabel:"errorSearchingLabel",search:"search",retrieve:"retrieve"},features:[n.qOj],decls:0,vars:0,template:function(m,E){},encapsulation:2}),y})()},6266:(H,K,i)=>{"use strict";i.d(K,{Q:()=>d});var _=i(791),n=i(3075),A=i(8675),e=i(4004),r=i(5e3),t=i(6050),Z=i(135),v=i(9808),g=i(7322),a=i(3322),W=i(7531),P=i(6856),u=i(1079),x=i(508);function M(f,l){if(1&f&&(r.TgZ(0,"mat-error"),r._UZ(1,"editable-error-block",10),r.qZA()),2&f){const c=r.oxw(2);r.xp6(1),r.Q6J("messages",c.errorMessages)("control",c.control)}}const C=function(f){return{"margin-right":f}};function y(f,l){if(1&f){const c=r.EpF();r.TgZ(0,"mat-form-field",4)(1,"mat-label"),r._uU(2),r.qZA(),r.TgZ(3,"input",5),r.NdJ("ngModelChange",function(h){return r.CHM(c),r.oxw().value.day=h})("change",function(){return r.CHM(c),r.oxw().update(!0)})("dateChange",function(){return r.CHM(c),r.oxw().update(!0)}),r.qZA(),r._UZ(4,"mat-datepicker-toggle",6)(5,"mat-datepicker",7,8),r.YNc(7,M,2,2,"mat-error",9),r.qZA()}if(2&f){const c=r.MAs(6),I=r.oxw();r.Q6J("ngStyle",r.VKq(12,C,I.hasTimeInput?"20px":"0px"))("floatLabel",I.floatLabel)("appearance",I.appearance),r.xp6(2),r.Oqu(I.label),r.xp6(1),r.s9C("placeholder",I.placeholder),r.Q6J("ngModel",I.value.day)("matDatepicker",c)("required",I.required)("disabled",I.control.disabled),r.xp6(1),r.Q6J("for",c),r.xp6(1),r.Q6J("touchUi",I.touchUi),r.xp6(2),r.Q6J("ngIf",I.control.invalid)}}function U(f,l){if(1&f){const c=r.EpF();r.TgZ(0,"mat-form-field",11)(1,"input",12),r.NdJ("ngModelChange",function(h){return r.CHM(c),r.oxw().value.hour=h})("change",function(){return r.CHM(c),r.oxw().update(!0)}),r.qZA()()}if(2&f){const c=r.oxw();r.Q6J("floatLabel",c.floatLabel)("appearance",c.appearance),r.xp6(1),r.Q6J("ngModel",c.value.hour)("placeholder",c.hourPlaceholder)("required",c.required)("disabled",c.control.disabled)}}function m(f,l){if(1&f&&(r.TgZ(0,"mat-option",18),r._uU(1),r.qZA()),2&f){const c=l.$implicit;r.Q6J("value",c.name),r.xp6(1),r.hij(" ",c.label," ")}}function E(f,l){if(1&f){const c=r.EpF();r.TgZ(0,"mat-form-field",13),r._UZ(1,"input",14),r.TgZ(2,"mat-autocomplete",15,16),r.NdJ("optionSelected",function(){return r.CHM(c),r.oxw().update(!0)}),r.YNc(4,m,2,2,"mat-option",17),r.ALo(5,"async"),r.qZA()()}if(2&f){const c=r.MAs(3),I=r.oxw();r.xp6(1),r.Q6J("formControl",I.myControl)("matAutocomplete",c),r.xp6(3),r.Q6J("ngForOf",r.lcZ(5,3,I.filteredZones))}}let d=(()=>{class f extends _.G7{constructor(c,I){super(c),this.dateService=I,this.touchUi=!1,this.hasTimeInput=!0,this.showTimeZone=!1,this.bindToTimeZone=!1,this.timeZoneEditable=!0,this.timeZone="",this.hourPlaceholder="",this.value={day:null,hour:""},this.zones=[],this.subscriptions.add(this.service.state.availablesTimezones.get().subscribe(h=>{for(const b of h)this.zones.push(b)})),this.subscriptions.add(this.service.state.timeZone.get().subscribe(h=>{this.timeZone=h})),this.myControl=new n.NI,this.myControl.setValue(this.timeZone),this.filteredZones=this.myControl.valueChanges.pipe((0,A.O)(""),(0,e.U)(h=>h&&"string"!=typeof h?h.name:h),(0,e.U)(h=>h?this._filter(h):this.zones.slice()))}_filter(c){const I=c.toLowerCase();return this.zones.filter(h=>h.code.toLowerCase().includes(I))}ngOnChanges(c){c.timeZone&&this.value.day&&(this.bindToTimeZone&&(this.value.day=this.dateService.localToTimeZone(this.value.day,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")),this.update(!1),this.myControl.setValue(this.timeZone)),c.timeZoneEditable&&this.checkUpdate()}ngAfterContentInit(){this.control&&(this.writeValue(this.control.value),this.subscriptions.add(this.control.valueChanges.subscribe(c=>{this.writeValue(c)})))}update(c){let I=this.value.hour;this.hasTimeInput&&!I&&(I="00:00");const h=this.value.day;if(this.hasTimeInput&&h&&I){const b=this.dateService.parse(this.dateService.format(h,"YYYY-MM-DD")+" "+I,"YYYY-MM-DD HH:mm");this.selected=b,this.selected=this.timeZone?this.dateService.localToTimeZone(b,this.timeZone):b}else this.selected=!this.hasTimeInput&&h?this.dateService.format(h,"YYYY-MM-DD"):null;if(this.control){const D=this.selected===this.control.value;(!this.selected&&this.control.value||!D)&&(this.control.markAsDirty(),this.control.setValue(this.selected,{emitEvent:c}))}}checkUpdate(){this.timeZoneEditable&&this.control&&this.control.enabled?this.myControl.enable():this.myControl.disable()}writeValue(c){c?("string"==typeof c&&(c=new Date(c)),this.value.day=this.dateService.localToTimeZone(c,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")):(this.value.day=null,this.value.hour=""),this.checkUpdate()}}return f.\u0275fac=function(c){return new(c||f)(r.Y36(t.U),r.Y36(Z.R))},f.\u0275cmp=r.Xpm({type:f,selectors:[["editable-datetime"]],inputs:{touchUi:"touchUi",hasTimeInput:"hasTimeInput",showTimeZone:"showTimeZone",bindToTimeZone:"bindToTimeZone",timeZoneEditable:"timeZoneEditable",timeZone:"timeZone",hourPlaceholder:"hourPlaceholder"},features:[r.qOj,r.TTD],decls:4,vars:3,consts:[["class","input-date","style","min-width: 120px; flex: 1; margin-right: 20px",3,"ngStyle","floatLabel","appearance",4,"ngIf"],["class","input-time","style","min-width: 70px",3,"floatLabel","appearance",4,"ngIf"],[1,"form-zone"],["class","input-zone",4,"ngIf"],[1,"input-date",2,"min-width","120px","flex","1","margin-right","20px",3,"ngStyle","floatLabel","appearance"],["matInput","",2,"width","auto",3,"ngModel","matDatepicker","placeholder","required","disabled","ngModelChange","change","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["picker",""],[4,"ngIf"],[3,"messages","control"],[1,"input-time",2,"min-width","70px",3,"floatLabel","appearance"],["type","time","matInput","",3,"ngModel","placeholder","required","disabled","ngModelChange","change"],[1,"input-zone"],["type","text","matInput","","placeholder","Zona horaria",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(c,I){1&c&&(r.YNc(0,y,8,14,"mat-form-field",0),r.YNc(1,U,2,6,"mat-form-field",1),r.TgZ(2,"form",2),r.YNc(3,E,6,5,"mat-form-field",3),r.qZA()),2&c&&(r.Q6J("ngIf",I.control),r.xp6(1),r.Q6J("ngIf",I.control&&I.hasTimeInput),r.xp6(2),r.Q6J("ngIf",I.hasTimeInput&&I.showTimeZone))},directives:[v.O5,g.KE,v.PC,a.Zl,g.hX,W.Nt,n.Fj,P.hl,n.JJ,n.On,n.Q7,P.nW,g.R9,P.Mq,g.TO,_.qJ,n._Y,n.JL,n.F,u.ZL,n.oH,u.XC,v.sg,x.ey],pipes:[v.Ov],styles:["[_nghost-%COMP%]{display:flex;overflow:hidden;box-sizing:border-box;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.changeQuickDay[_ngcontent-%COMP%]{border:0;cursor:pointer;font-size:large;margin-bottom:8px}"],changeDetection:0}),f})()},4392:(H,K,i)=>{"use strict";i.d(K,{f:()=>E});var _=i(9808),n=i(2155),A=i(3075),e=i(508),r=i(7322),t=i(7531),Z=i(135),v=i(1614),g=i(5e3);const a={parse:{dateInput:"L"},display:{dateInput:"L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let W;try{W="undefined"!=typeof Intl}catch(d){W=!1}const u=C(31,d=>String(d+1)),M=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function C(d,f){const l=Array(d);for(let c=0;c<d;c++)l[c]=f(c);return l}let y=(()=>{class d extends e._A{constructor(l){super(),this.i18nDatesService=l,this.dayList=[];for(let c=0;c<31;c++)this.dayList.push(""+(c+1))}getYear(l){return l.getFullYear()}getMonth(l){return l.getMonth()}getDate(l){return l.getDate()}getDayOfWeek(l){return l.getDay()}getDateNames(){if(W){const l=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return C(31,c=>this._stripDirectionalityCharacters(this._format(l,new Date(2017,0,c+1))))}return u}getYearName(l){if(W){const c=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(c,l))}return String(this.getYear(l))}getNumDaysInMonth(l){return this.getDate(this._createDateWithOverflow(this.getYear(l),this.getMonth(l)+1,0))}clone(l){return new Date(l.getTime())}createDate(l,c,I){if(c<0||c>11)throw Error(`Invalid month index "${c}". Month index has to be between 0 and 11.`);if(I<1)throw Error(`Invalid date "${I}". Date has to be greater than 0.`);let h=this._createDateWithOverflow(l,c,I);if(h.getMonth()!=c)throw Error(`Invalid date "${I}" for month with index "${c}".`);return h}today(){return new Date}addCalendarYears(l,c){return this.addCalendarMonths(l,12*c)}addCalendarMonths(l,c){let I=this._createDateWithOverflow(this.getYear(l),this.getMonth(l)+c,this.getDate(l));return this.getMonth(I)!=((this.getMonth(l)+c)%12+12)%12&&(I=this._createDateWithOverflow(this.getYear(I),this.getMonth(I),0)),I}addCalendarDays(l,c){return this._createDateWithOverflow(this.getYear(l),this.getMonth(l),this.getDate(l)+c)}toIso8601(l){return[l.getUTCFullYear(),this._2digit(l.getUTCMonth()+1),this._2digit(l.getUTCDate())].join("-")}deserialize(l){if("string"==typeof l){if(!l)return null;if(M.test(l)){let c=new Date(l);if(this.isValid(c))return c}}return super.deserialize(l)}isDateInstance(l){return l instanceof Date}isValid(l){return!isNaN(l.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(l,c,I){const h=new Date(l,c,I);return l>=0&&l<100&&h.setFullYear(this.getYear(h)-1900),h}_2digit(l){return("00"+l).slice(-2)}_stripDirectionalityCharacters(l){return l.replace(/[\u200e\u200f]/g,"")}_format(l,c){const I=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return l.format(I)}getMonthNames(l){return this.i18nDatesService.getMonthNames(l)}getDayOfWeekNames(l){return this.i18nDatesService.getDayOfWeekNames(l)}getFirstDayOfWeek(){return this.i18nDatesService.getFirstDayOfWeek()}parse(l,c){return this.i18nDatesService.parse(l,"string"==typeof c?c:c[0])}format(l,c){return this.i18nDatesService.format(l,c)}}return d.\u0275fac=function(l){return new(l||d)(g.LFG(Z.R))},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac}),d})();var U=i(6856),m=i(1079);let E=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=g.oAB({type:d}),d.\u0275inj=g.cJS({providers:[{provide:e.sG,useValue:a},{provide:e._A,useClass:y,deps:[Z.R]}],imports:[[_.ez,A.u5,v.r,A.UX,n.o9,U.FA,e.Ng,m.Bb,t.c,r.lN]]}),d})()},1600:(H,K,i)=>{"use strict";i.d(K,{Y:()=>u});var _=i(791),n=i(5e3),A=i(6050),e=i(9808),r=i(7322),t=i(7093),Z=i(3075),v=i(7531),g=i(5245);function a(x,M){if(1&x){const C=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){return n.CHM(C),n.oxw(2).showHelp()}),n.TgZ(1,"mat-icon"),n._uU(2,"help_outline"),n.qZA()()}}function W(x,M){if(1&x&&(n.TgZ(0,"mat-error"),n._UZ(1,"editable-error-block",6),n.qZA()),2&x){const C=n.oxw(2);n.xp6(1),n.Q6J("messages",C.errorMessages)("control",C.control)}}function P(x,M){if(1&x&&(n.TgZ(0,"mat-form-field",1)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",2),n.YNc(4,a,3,0,"button",3),n.YNc(5,W,2,2,"mat-error",4),n.qZA()),2&x){const C=n.oxw();n.Q6J("floatLabel",C.floatLabel)("appearance",C.appearance),n.xp6(2),n.Oqu(C.label),n.xp6(1),n.Q6J("required",C.required)("placeholder",C.placeholder)("formControl",C.control),n.uIk("min",C.minValue)("max",C.maxValue),n.xp6(1),n.Q6J("ngIf",C.help),n.xp6(1),n.Q6J("ngIf",C.control.invalid)}}let u=(()=>{class x extends _.G7{constructor(C){super(C)}}return x.\u0275fac=function(C){return new(C||x)(n.Y36(A.U))},x.\u0275cmp=n.Xpm({type:x,selectors:[["editable-integer"]],features:[n.qOj],decls:1,vars:1,consts:[["fxFlex","100%",3,"floatLabel","appearance",4,"ngIf"],["fxFlex","100%",3,"floatLabel","appearance"],["type","number","matInput","","type","number","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)",3,"required","placeholder","formControl"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],[3,"messages","control"]],template:function(C,y){1&C&&n.YNc(0,P,6,10,"mat-form-field",0),2&C&&n.Q6J("ngIf",y.control)},directives:[e.O5,r.KE,t.yH,r.hX,Z.wV,Z.qQ,Z.Fd,v.Nt,Z.Fj,Z.Q7,Z.JJ,Z.oH,r.R9,g.Hw,r.TO,_.qJ],encapsulation:2,changeDetection:0}),x})()},2069:(H,K,i)=>{"use strict";i.d(K,{W:()=>g});var _=i(9808),n=i(2155),A=i(3075),e=i(7322),r=i(5245),t=i(7531),Z=i(1614),v=i(5e3);let g=(()=>{class a{}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({providers:[],imports:[[_.ez,A.u5,Z.r,A.UX,n.o9,t.c,r.Ps,e.lN]]}),a})()},9952:(H,K,i)=>{"use strict";i.d(K,{s:()=>L});var _=i(1079),n=i(727),A=i(5191),e=i(8372),r=i(9087),t=i(5e3),Z=i(6050),v=i(9808),g=i(7322),a=i(7093),W=i(7531),P=i(3075),u=i(5245),x=i(5899),M=i(791),C=i(508),y=i(8966),U=i(7423),m=i(1062);function E(o,R){if(1&o){const p=t.EpF();t.TgZ(0,"mat-icon",14),t.NdJ("click",function(Y){return t.CHM(p),t.oxw(2).openShowRelatedData(Y)}),t._uU(1,"loupe"),t.qZA()}}function d(o,R){if(1&o){const p=t.EpF();t.TgZ(0,"mat-icon",14),t.NdJ("click",function(){return t.CHM(p),t.oxw(2).searchOptions()}),t._uU(1,"keyboard_arrow_down"),t.qZA()}}function f(o,R){1&o&&t._UZ(0,"mat-progress-bar",15)}function l(o,R){if(1&o&&(t.TgZ(0,"mat-error"),t._UZ(1,"editable-error-block",16),t.qZA()),2&o){const p=t.oxw(2);t.xp6(1),t.Q6J("messages",p.errorMessages)("control",p.control)}}function c(o,R){if(1&o&&(t.TgZ(0,"mat-form-field",9)(1,"mat-label"),t._uU(2),t.qZA(),t._UZ(3,"input",10),t.TgZ(4,"span",11),t.YNc(5,E,2,0,"mat-icon",6),t.YNc(6,d,2,0,"mat-icon",6),t.qZA(),t.TgZ(7,"div",12),t.YNc(8,f,1,0,"mat-progress-bar",13),t.qZA(),t.YNc(9,l,2,2,"mat-error",4),t.qZA()),2&o){const p=t.oxw(),T=t.MAs(3);t.Q6J("floatLabel",p.floatLabel)("appearance",p.appearance),t.xp6(2),t.Oqu(p.label),t.xp6(1),t.Q6J("required",p.required)("placeholder",p.placeholder)("formControl",p.control)("matAutocomplete",T),t.xp6(2),t.Q6J("ngIf",p.viewRelated&&p.control.value),t.xp6(1),t.Q6J("ngIf",!p.control.disabled),t.xp6(2),t.Q6J("ngIf",p.searching),t.xp6(1),t.Q6J("ngIf",p.control.invalid)}}function I(o,R){1&o&&t.GkF(0)}const h=function(o){return{$implicit:o}};function b(o,R){if(1&o&&(t.TgZ(0,"div",17),t.YNc(1,I,1,0,"ng-container",18),t.qZA()),2&o){const p=t.oxw();t.s9C("id",p.displayUid),t.xp6(1),t.Q6J("ngTemplateOutlet",p.template)("ngTemplateOutletContext",t.VKq(3,h,p.control.value))}}function D(o,R){if(1&o&&(t.TgZ(0,"mat-option"),t._uU(1),t.qZA()),2&o){const p=t.oxw();t.xp6(1),t.Oqu(p.errorSearchingLabel)}}function F(o,R){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const p=t.oxw().$implicit,T=t.oxw();t.xp6(1),t.hij(" ",T.displayLabel(p)," ")}}function O(o,R){1&o&&t.GkF(0)}function B(o,R){if(1&o&&(t.ynx(0),t.YNc(1,O,1,0,"ng-container",18),t.BQk()),2&o){const p=t.oxw().$implicit,T=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",T.template)("ngTemplateOutletContext",t.VKq(2,h,p))}}function S(o,R){if(1&o&&(t.TgZ(0,"mat-option",19),t.YNc(1,F,2,1,"ng-container",4),t.YNc(2,B,2,4,"ng-container",4),t.qZA()),2&o){const p=R.$implicit,T=t.oxw();t.Q6J("value",p),t.xp6(1),t.Q6J("ngIf",!T.template),t.xp6(1),t.Q6J("ngIf",T.template)}}function J(o,R){if(1&o&&(t.TgZ(0,"mat-option")(1,"mat-icon"),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&o){const p=t.oxw();t.xp6(3),t.hij("",p.noResultLabel," ")}}function N(o,R){if(1&o){const p=t.EpF();t.TgZ(0,"mat-option",14),t.NdJ("click",function(Y){return t.CHM(p),t.oxw().openCreateRelatedData(Y)}),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3),t.qZA()}if(2&o){const p=t.oxw();t.xp6(3),t.hij(" ",p.createLabel," ")}}function V(o,R){if(1&o){const p=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(p);const Y=t.oxw(2);return null==Y.dialogRef?null:Y.dialogRef.close()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){return t.CHM(p),t.oxw(2).createRelatedData()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()}if(2&o){const p=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,(null==p.createRelated?null:p.createRelated.title)+".cancel")),t.xp6(2),t.Q6J("disabled",!p.createRelated||p.createRelated.isInvalid()),t.xp6(1),t.hij(" ",t.lcZ(6,5,(null==p.createRelated?null:p.createRelated.title)+".save")," ")}}function j(o,R){if(1&o){const p=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(p);const Y=t.oxw(2);return null==Y.dialogRef?null:Y.dialogRef.close()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",28),t.NdJ("click",function(){return t.CHM(p),t.oxw(2).error=null}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()}if(2&o){const p=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,(null==p.createRelated?null:p.createRelated.title)+".cancel")),t.xp6(3),t.hij(" ",t.lcZ(6,4,(null==p.createRelated?null:p.createRelated.title)+".back")," ")}}function G(o,R){if(1&o){const p=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t.NdJ("click",function(){t.CHM(p);const Y=t.oxw();return null==Y.dialogRef?null:Y.dialogRef.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"h2",22),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t._UZ(7,"hr",23),t.Hsn(8),t.TgZ(9,"div",24),t._UZ(10,"span",25),t.YNc(11,V,7,7,"ng-container",4),t.YNc(12,j,7,6,"ng-container",4),t.qZA()}if(2&o){const p=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,(null==p.createRelated?null:p.createRelated.title)+".title")),t.xp6(6),t.Q6J("ngIf",!p.error),t.xp6(1),t.Q6J("ngIf",p.error)}}function X(o,R){if(1&o&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA(),t.TgZ(2,"div",30),t.Hsn(3,1,["mat-dialog-content",""]),t.qZA()),2&o){const p=t.oxw();t.xp6(1),t.Oqu(null==p.viewRelated?null:p.viewRelated.title)}}const w=[[["editable-create-related"]],[["editable-view-related"]]],Q=["editable-create-related","editable-view-related"];let s=0,L=(()=>{class o extends r.Kr{constructor(p,T){super(p,T),this.searchSubscription=new n.w0,this.displayUid="_display_"+s+++(new Date).getTime()}valueCreated(p){this.control&&(this.control.setValue(p),setTimeout(()=>{var T;null===(T=this.trigger)||void 0===T||T.closePanel()},100))}ngOnDestroy(){this.searchSubscription.unsubscribe(),super.ngOnDestroy()}ngAfterContentInit(){if(!this.control)throw new Error("Control no asignado");{this.subscriptions.add(this.control.valueChanges.subscribe(Y=>{const $=this.value();(0,A.b)($)&&this.wait($,T)})),this.subscriptions.add(this.control.valueChanges.pipe((0,e.b)(700)).subscribe({next:Y=>{var $,z;const k=this.value();k&&!(0,A.b)(k)&&(k&&"object"==typeof k?JSON.stringify(k)!==JSON.stringify(null===($=this.control)||void 0===$?void 0:$.value)&&(null===(z=this.control)||void 0===z||z.setValue(k)):this.searchOptions(k))}}));const p=this.value(),T=this.control.disabled;if((0,A.b)(p))this.wait(p,T);else if(p&&"object"!=typeof p){const Y={};Y[this.searchId]=p,this.loadSearch(Y,T)}else!p&&null!==p&&this.control.setValue(null)}}loadSearch(p,T){var Y;if(T||null===(Y=this.control)||void 0===Y||Y.markAsPending(),this.searching=!0,this.cdRef.detectChanges(),this.cdRef.markForCheck(),this.searchSubscription.unsubscribe(),this.searchSubscription=new n.w0,!this.retrieve)throw new Error("No existe la funcion para recuperar relacionados");this.searchSubscription.add(this.retrieve(p).subscribe({next:$=>{var z;this.searching=!1,null===(z=this.control)||void 0===z||z.setValue($)}}))}checkRelatedValue(){this.control&&"string"==typeof this.control.value&&this.control.setValue(null)}displayLabel(p){var T;if(this.template){const z=null===(T=document.getElementById(this.displayUid))||void 0===T?void 0:T.innerText;return this.oldDisplay!==z&&setTimeout(()=>{var k,q;null===(k=this.control)||void 0===k||k.patchValue(null===(q=this.control)||void 0===q?void 0:q.value)},1e3),this.oldDisplay=z,z}if(!p)return"";let Y=p;const $=this.display.split(".");for(const z of $){if(!Y[z])return"";Y=Y[z]}return Y}wait(p,T){var Y;T||null===(Y=this.control)||void 0===Y||Y.markAsPending(),this.searching=!0,this.cdRef.detectChanges(),this.cdRef.markForCheck(),this.searchSubscription.unsubscribe(),this.searchSubscription=new n.w0,this.searchSubscription.add(p.subscribe({next:$=>{var z;this.searching=!1,null===(z=this.control)||void 0===z||z.setValue($)}}))}value(){var p;const T=null===(p=this.control)||void 0===p?void 0:p.value;return"string"==typeof T?T:T&&T.value&&T.$ref?T.value:T&&void 0===T.$ref?T:void 0}}return o.\u0275fac=function(p){return new(p||o)(t.Y36(Z.U),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["editable-selectone"]],viewQuery:function(p,T){if(1&p&&t.Gf(_.ZL,5),2&p){let Y;t.iGM(Y=t.CRH())&&(T.trigger=Y.first)}},features:[t.qOj],ngContentSelectors:Q,decls:12,vars:7,consts:[["fxFlex","100%",3,"floatLabel","appearance",4,"ngIf"],["style","position: absolute; width: 1px; height: 1px; overflow: hidden",3,"id",4,"ngIf"],[3,"displayWith","opened","closed"],["autocomplete","matAutocomplete"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["showCreateRelated",""],["showViewRelated",""],["fxFlex","100%",3,"floatLabel","appearance"],["matInput","",3,"required","placeholder","formControl","matAutocomplete"],["matSuffix","",2,"display","flex"],[2,"position","absolute","width","100%","height","3px"],["mode","query",4,"ngIf"],[3,"click"],["mode","query"],[3,"messages","control"],[2,"position","absolute","width","1px","height","1px","overflow","hidden",3,"id"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value"],["mat-dialog-title","",2,"display","flex","margin-bottom","0px"],["mat-icon-button","",2,"margin-top","-5px",3,"click"],[2,"margin-top","0"],[2,"margin","-5px -25px 15px -25px"],["mat-dialog-actions","",2,"display","flex","margin-bottom","0px","margin-top","5px"],[2,"flex","1 1 auto"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"disabled","click"],["mat-button","","color","primary",3,"click"],["mat-dialog-title",""],[2,"display","flex","flex-direction","column","max-height","600px","overflow","auto"]],template:function(p,T){1&p&&(t.F$t(w),t.YNc(0,c,10,11,"mat-form-field",0),t.YNc(1,b,2,5,"div",1),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("opened",function(){return T.searchOptions()})("closed",function(){return T.checkRelatedValue()}),t.YNc(4,D,2,1,"mat-option",4),t.YNc(5,S,3,3,"mat-option",5),t.YNc(6,J,4,1,"mat-option",4),t.YNc(7,N,4,1,"mat-option",6),t.qZA(),t.YNc(8,G,13,5,"ng-template",null,7,t.W1O),t.YNc(10,X,4,1,"ng-template",null,8,t.W1O)),2&p&&(t.Q6J("ngIf",T.control),t.xp6(1),t.Q6J("ngIf",T.control&&T.template),t.xp6(1),t.Q6J("displayWith",T.displayLabel.bind(T)),t.xp6(2),t.Q6J("ngIf",T.errorSearching),t.xp6(1),t.Q6J("ngForOf",T.options),t.xp6(1),t.Q6J("ngIf",!T.errorSearching&&T.options&&0==T.options.length),t.xp6(1),t.Q6J("ngIf",T.createRelated&&T.options))},directives:[v.O5,g.KE,a.yH,g.hX,W.Nt,P.Fj,_.ZL,P.Q7,P.JJ,P.oH,g.R9,u.Hw,x.pW,g.TO,M.qJ,v.tP,_.XC,C.ey,v.sg,y.uh,U.lW,y.H8],pipes:[m.X$],encapsulation:2,changeDetection:0}),o})()},960:(H,K,i)=>{"use strict";i.d(K,{M:()=>x});var _=i(9808),n=i(2155),A=i(3075),e=i(1079),r=i(7423),t=i(8966),Z=i(7322),v=i(5245),g=i(7531),a=i(5899),W=i(1062),P=i(1614),u=i(5e3);let x=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[],imports:[[_.ez,W.aw,A.u5,P.r,A.UX,n.o9,g.c,Z.lN,e.Bb,a.Cv,t.Is,r.ot,v.Ps]]}),M})()},5031:(H,K,i)=>{"use strict";i.d(K,{Q:()=>X});var _=i(791),n=i(8505),A=i(3103),e=i(5e3),r=i(6050),t=i(9808),Z=i(3322),v=i(7322),g=i(7093),a=i(7531),W=i(7423),P=i(5245),u=i(8966),x=i(4834),M=i(5899),C=i(1062);const y=["fileDialog"],U=["errorDialog"];function m(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).showHelp()}),e.TgZ(1,"mat-icon"),e._uU(2,"help_outline"),e.qZA()()}}function E(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"img",13),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).selectFile()}),e.qZA()}if(2&w){const s=e.oxw(2);e.Q6J("src",s.control.value,e.LSH)}}function d(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"img",14),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).selectFile()}),e.qZA()}}function f(w,Q){if(1&w&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",15),e.qZA()),2&w){const s=e.oxw(2);e.xp6(1),e.Q6J("messages",s.errorMessages)("control",s.control)}}const l=function(w){return{"img-registry-editable":w}};function c(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5),e._UZ(2,"input",6),e.YNc(3,m,3,0,"button",7),e.TgZ(4,"button",8),e.NdJ("click",function(){return e.CHM(s),e.oxw().selectFile()}),e.TgZ(5,"mat-icon"),e._uU(6,"upload"),e.qZA()()(),e._UZ(7,"div",9),e.YNc(8,E,1,1,"img",10),e.YNc(9,d,1,0,"img",11),e.YNc(10,f,2,2,"mat-error",12),e.qZA()}if(2&w){const s=e.oxw();e.Q6J("ngClass",e.VKq(8,l,s.control.enabled)),e.xp6(2),e.s9C("value",s.label),e.Q6J("placeholder",s.placeholder)("disabled",!0),e.xp6(1),e.Q6J("ngIf",s.help),e.xp6(5),e.Q6J("ngIf",s.control.value),e.xp6(1),e.Q6J("ngIf",!s.control.value),e.xp6(1),e.Q6J("ngIf",s.control.invalid)}}function I(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).showHelp()}),e.TgZ(1,"mat-icon"),e._uU(2,"help_outline"),e.qZA()()}}function h(w,Q){if(1&w&&(e.TgZ(0,"mat-error"),e._UZ(1,"editable-error-block",15),e.qZA()),2&w){const s=e.oxw(2);e.xp6(1),e.Q6J("messages",s.errorMessages)("control",s.control)}}function b(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"div",16)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3),e.qZA(),e._UZ(4,"input",18),e.TgZ(5,"mat-icon",19),e.NdJ("click",function(){return e.CHM(s),e.oxw().selectFile()}),e._uU(6,"cloud_upload"),e.qZA(),e.YNc(7,I,3,0,"button",7),e.qZA(),e.YNc(8,h,2,2,"mat-error",12),e.qZA()}if(2&w){const s=e.oxw();e.xp6(1),e.Q6J("floatLabel",s.floatLabel),e.xp6(2),e.Oqu(s.label),e.xp6(1),e.Q6J("value",s.control.value)("disabled",!0),e.xp6(3),e.Q6J("ngIf",s.help),e.xp6(1),e.Q6J("ngIf",s.control.invalid)}}function D(w,Q){1&w&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"component.fileupload.selectImage")," "))}function F(w,Q){1&w&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"component.fileupload.selectFile")," "))}function O(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"img",36),e.NdJ("click",function(o){return e.CHM(s),e.oxw(3).openFileBrowser(o)}),e.qZA()}if(2&w){const s=e.oxw(3);e.Q6J("src",s.srcTemporal,e.LSH)}}function B(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"img",37),e.NdJ("click",function(o){return e.CHM(s),e.oxw(3).openFileBrowser(o)}),e.qZA()}}function S(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"button",32),e.NdJ("click",function(o){return e.CHM(s),e.oxw(2).openFileBrowser(o)}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"mat-divider",25),e.TgZ(6,"input",33),e.NdJ("change",function(o){return e.CHM(s),e.oxw(2).showPreviewImage(o)}),e.qZA()(),e.YNc(7,O,1,1,"img",34),e.YNc(8,B,1,0,"img",35),e.qZA()}if(2&w){const s=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"component.fileupload.clickToChooseImage")," "),e.xp6(3),e.s9C("id",s.buttonId),e.xp6(1),e.Q6J("ngIf",s.srcTemporal),e.xp6(1),e.Q6J("ngIf",!s.srcTemporal)}}function J(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"div",30)(1,"button",38),e.NdJ("click",function(o){return e.CHM(s),e.oxw(2).openFileBrowser(o)}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",33),e.NdJ("change",function(o){return e.CHM(s),e.oxw(2).showPreviewImage(o)}),e.qZA()()}if(2&w){const s=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,2,"component.fileupload.chooseFile")," "),e.xp6(2),e.s9C("id",s.buttonId)}}function N(w,Q){if(1&w&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",39),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&w){const s=e.oxw(2);e.xp6(1),e.Q6J("value",s.progressValue),e.xp6(2),e.hij("",s.progressValue,"%")}}function V(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return null==o.dialogRef?null:o.dialogRef.close()}),e.TgZ(2,"mat-icon"),e._uU(3,"close"),e.qZA()(),e.YNc(4,D,3,3,"p",22),e.YNc(5,F,3,3,"p",22),e.qZA(),e.TgZ(6,"mat-dialog-content",23),e.YNc(7,S,9,6,"div",24),e.YNc(8,J,5,4,"div",24),e.YNc(9,N,4,2,"div",12),e.qZA(),e._UZ(10,"mat-divider",25),e.TgZ(11,"mat-dialog-actions",20),e._UZ(12,"span",26),e.TgZ(13,"button",27),e.NdJ("click",function(){return e.CHM(s),e.oxw().save(null)}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",28),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return o.save(o.response)}),e._uU(17),e.ALo(18,"translate"),e.qZA()()}if(2&w){const s=e.oxw();e.xp6(4),e.Q6J("ngIf","image"===s.contentType),e.xp6(1),e.Q6J("ngIf","image"!==s.contentType),e.xp6(2),e.Q6J("ngIf","image"===s.contentType),e.xp6(1),e.Q6J("ngIf","image"!==s.contentType),e.xp6(1),e.Q6J("ngIf",s.loading),e.xp6(5),e.Oqu(e.lcZ(15,8,"component.fileupload.quit")),e.xp6(2),e.Q6J("disabled",null==s.response||""==s.response),e.xp6(1),e.hij(" ",e.lcZ(18,10,"component.fileupload.accept")," ")}}function j(w,Q){if(1&w){const s=e.EpF();e.TgZ(0,"h5",40),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"mat-dialog-content")(4,"p",41),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"mat-dialog-actions")(8,"button",32),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return null==o.errorDialogRef?null:o.errorDialogRef.close()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&w&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"component.fileupload.error")),e.xp6(4),e.Oqu(e.lcZ(6,5,"component.fileupload.toBig")),e.xp6(4),e.Oqu(e.lcZ(10,7,"component.fileupload.close")))}let G=1,X=(()=>{class w extends _.G7{constructor(s,L){super(s),this.cdRef=L,this.contentType="file",this.localUrl="assets/perfilDefecto.jpg",this.srcTemporal="",this.loading=!1,this.progressValue=0,this.buttonId="_upload_button_id_"+G+++(new Date).getTime()}selectFile(){var s;if(!(null===(s=this.control)||void 0===s?void 0:s.disabled)){if(!this.fileDialog)throw new Error("Intentando levantar el dialogo sin la plantailla");this.dialogRef=this.service.dialog.open(this.fileDialog)}}openFileBrowser(s){s.preventDefault();const L=document.getElementById(this.buttonId);null==L||L.click()}showPreviewImage(s){if(s.target.files&&s.target.files[0]){this.loading=!0;const L=new FileReader;if(L.onload=o=>{this.localUrl=o.target.result},L.readAsDataURL(s.target.files[0]),!this.upload)throw new Error("Intentando subir sin indicar el callback");{const o=this.upload(s.target.files[0]).pipe((0,n.b)(R=>{this.progressValue=R.progressPercent}),(0,A.Z)()).subscribe({next:R=>{this.srcTemporal=this.response=R.data,console.log("TENGO LOS VALORES EN CAMINO",this.srcTemporal),this.subscriptions.remove(o)},error:R=>{if(this.subscriptions.remove(o),413===R.status){if(this.service.errorHandler.cancelError(R),!this.errorDialog)throw new Error("Intentando pintar un error sin la plantilla");this.errorDialogRef=this.service.dialog.open(this.errorDialog)}}});this.subscriptions.add(o)}}}save(s){this.srcTemporal="",this.response="",this.loading=!1,this.progressValue=0,this.dialogRef&&this.dialogRef.close(),this.control&&(this.control.markAsDirty(),this.control.setValue(s)),this.cdRef.markForCheck()}}return w.\u0275fac=function(s){return new(s||w)(e.Y36(r.U),e.Y36(e.sBO))},w.\u0275cmp=e.Xpm({type:w,selectors:[["editable-upload"]],viewQuery:function(s,L){if(1&s&&(e.Gf(y,5),e.Gf(U,5)),2&s){let o;e.iGM(o=e.CRH())&&(L.fileDialog=o.first),e.iGM(o=e.CRH())&&(L.errorDialog=o.first)}},inputs:{contentType:"contentType",upload:"upload"},features:[e.qOj],decls:6,vars:2,consts:[["class","form-group img-registry mat-typography","style","flex: 1; display: flex; flex-direction: column; justify-content: center; position: relative",3,"ngClass",4,"ngIf"],["class","form-group img-registry mat-typography","style","display: flex; flex-direction: row; justify-content: space-between",4,"ngIf"],["fileDialog",""],["errorDialog",""],[1,"form-group","img-registry","mat-typography",2,"flex","1","display","flex","flex-direction","column","justify-content","center","position","relative",3,"ngClass"],["fxFlex","100%",2,"position","absolute","top","0px","left","0px","right","0px"],["matInput","",3,"placeholder","disabled","value"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],[2,"height","40px"],["style","min-width: 20px; min-height: 20px","style","width: 100%; margin: auto; border: solid silver 1px","class","img-fluid","alt","image",3,"src","click",4,"ngIf"],["style","width: 20%; border: solid silver 1px","class","img-fluid","src","./assets/img/resources/no-image.png","alt","no-image",3,"click",4,"ngIf"],[4,"ngIf"],["alt","image",1,"img-fluid",2,"width","100%","margin","auto","border","solid silver 1px",3,"src","click"],["src","./assets/img/resources/no-image.png","alt","no-image",1,"img-fluid",2,"width","20%","border","solid silver 1px",3,"click"],[3,"messages","control"],[1,"form-group","img-registry","mat-typography",2,"display","flex","flex-direction","row","justify-content","space-between"],[3,"floatLabel"],["matInput","",3,"value","disabled"],["matSuffix","",3,"click"],[2,"display","flex"],["mat-icon-button","",3,"click"],["mat-dialog-title","","mat-dialog-title","",4,"ngIf"],[2,"position","relative"],["class","form-group img-registry mat-typography",4,"ngIf"],[2,"margin","0px -25px 0px -25px"],[2,"flex","1"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"disabled","click"],["mat-dialog-title","","mat-dialog-title",""],[1,"form-group","img-registry","mat-typography"],[1,"upload-img"],["mat-button","",3,"click"],["type","file",2,"display","none",3,"id","change"],["class","img-fluid","alt","uploaded",3,"src","click",4,"ngIf"],["src","./assets/img/resources/upload-file.png","class","img-fluid","alt","no-upload",3,"click",4,"ngIf"],["alt","uploaded",1,"img-fluid",3,"src","click"],["src","./assets/img/resources/upload-file.png","alt","no-upload",1,"img-fluid",3,"click"],["mat-stroked-button","",3,"click"],[3,"value"],["mat-dialog-title",""],[1,"mat-typography"]],template:function(s,L){1&s&&(e.YNc(0,c,11,10,"div",0),e.YNc(1,b,9,6,"div",1),e.YNc(2,V,19,12,"ng-template",null,2,e.W1O),e.YNc(4,j,11,9,"ng-template",null,3,e.W1O)),2&s&&(e.Q6J("ngIf",L.control&&"image"===L.contentType),e.xp6(1),e.Q6J("ngIf",L.control&&"image"!==L.contentType))},directives:[t.O5,t.mk,Z.oO,v.KE,g.yH,a.Nt,W.lW,v.R9,P.Hw,v.TO,_.qJ,v.hX,u.uh,u.xY,x.d,M.pW,u.H8],pipes:[C.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.img-registry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0;padding:0}.img-registry-editable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.5}#input-img-registry[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),w})()},8195:(H,K,i)=>{"use strict";i.d(K,{M:()=>x});var _=i(9808),n=i(2155),A=i(3075),e=i(7423),r=i(8966),t=i(4834),Z=i(7322),v=i(5245),g=i(5899),a=i(7531),W=i(1062),P=i(1614),u=i(5e3);let x=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[],imports:[[_.ez,W.aw,A.u5,P.r,A.UX,n.o9,a.c,e.ot,r.Is,t.t,v.Ps,g.Cv,Z.lN]]}),M})()},354:function(H){H.exports=function(){"use strict";var K=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,_=/\d\d?/,n=/[+-]\d\d:?\d\d/,A={},e={},r={},t=[31,0,31,30,31,30,31,31,30,31,30,31];function v(u,x){A[u]=x}function g(u,x,M){var C;"string"==typeof u&&(u=[u]),C="string"==typeof x?M?function(m){var E=+m;if(!M(E))throw new Error("Invalid "+x+': "'+m+'".');this[x]=E}:function(m){this[x]=+m}:x;for(var y=0,U=u.length;y<U;y+=1)e[u[y]]=C}v("A",/[AP]M/),g(["A"],function(u){this.afternoon="PM"===u}),v("a",/[ap]m/),g(["a"],function(u){this.afternoon="pm"===u}),v("S",/\d/),v("SS",i),v("SSS",/\d{3}/);for(var a=function(u,x){g(u,function(M){this.milliseconds=+M*x})},W="S",P=100;1<=P;W+="S",P/=10)a(W,P);return v("s",_),v("ss",i),g(["s","ss"],"seconds",function(u){return u<=59}),v("m",_),v("mm",i),g(["m","mm"],"minutes",function(u){return u<=59}),v("H",_),v("h",_),v("HH",i),v("hh",i),g(["H","HH"],"hours",function(u){return u<=23}),g(["h","hh"],"hours",function(u){return 1<=u&&u<=12}),v("D",_),v("DD",i),g(["D","DD"],"day"),v("M",_),v("MM",i),g(["M","MM"],"month",function(u){return 1<=u&&u<=12}),v("Y",/[+-]?\d+/),v("YY",i),v("YYYY",/\d{4}/),g(["Y","YYYY"],"year"),g("YY",function(u){this.year=(u=+u)+(68<u?1900:2e3)}),v("z",/[A-Z]{3,4}/),g("z",function(u){(this.zone||(this.zone={})).abbreviation=u}),v("Z",n),v("ZZ",n),g(["Z","ZZ"],function(u){(this.zone||(this.zone={})).offset=function(x){var M=x.match(/([+-]|\d\d)/g),C=60*M[1]+ +M[2],y=0===C?0:"+"===M[0]?-C:C;if(!(y%15==0&&Math.abs(y)<=765))throw new Error('Invalid time zone offset: "'+x+'".');return y}(u)}),function(u,x){var M=x.prototype,C=M.parse;M.parse=function(y){var U,m,E,d=y.date,f=y.format;if(f){try{var l,c=(U=d,(E=r[m=f])||(E=function Z(u){var x=u.match(K);if(!x)throw new Error('Invalid format: "'+u+'".');for(var M=x.length,C=0;C<M;C+=1){var y=x[C],m=e[y];x[C]=m?{regex:A[y],parser:m}:y.replace(/^\[|\]$/g,"")}return function(E){for(var d={},f=0,l=0;f<M;f+=1){var c=x[f];if("string"==typeof c){if(E.indexOf(c,l)!==l){var I=E.substr(l,c.length);throw new Error('Expected "'+c+'" at character '+l+', found "'+I+'".')}l+=c.length}else{var h=c.regex,b=c.parser,D=E.substr(l),F=h.exec(D);if(!F||0!==F.index)throw new Error('Matching "'+h+'" at character '+l+' failed with "'+D+'".');var O=F[0];b.call(d,O),l+=O.length}}return function(B){var S,J,N=B.day,V=B.month;if(S=2===V?(J=B.year)%4==0&&J%100!=0||J%400==0?29:28:t[V-1],!(1<=N&&N<=S))throw new Error('Invalid day: "'+N+'".')}(d),function(B){var S=B.afternoon;if(void 0!==S){var J=B.hours;S?J<12&&(B.hours+=12):12===J&&(B.hours=0),delete B.afternoon}}(d),d}}(m),r[m]=E),E(U)),I=c.year,h=c.month,b=c.day,D=c.hours,F=c.minutes,O=c.seconds,B=c.milliseconds,S=c.zone;if(S){var J=Date.UTC(I,h-1,b,D||0,F||0,O||0,B||0)+60*S.offset*1e3;l=new Date(J)}else l=new Date(I,h-1,b,D||0,F||0,O||0,B||0);this.$d=l}catch(N){this.$d=new Date(Number.NaN)}this.init(y)}else C.call(this,y)}}}()},2598:function(H){H.exports=function(){"use strict";var K=function(_,n,A){var e=String(_);return!e||e.length>=n?_:""+Array(n+1-e.length).join(A)+_},i={padStart:K,padZoneStr:function(_){var n=Math.abs(_),A=Math.floor(n/60),e=n%60;return(_<=0?"+":"-")+K(A,2,"0")+":"+K(e,2,"0")},monthDiff:function(_,n){var A=12*(n.year()-_.year())+(n.month()-_.month()),e=_.clone().add(A,"months"),r=n-e<0,t=_.clone().add(A+(r?-1:1),"months"),Z=Number(-(A+(n-e)/(r?e-t:t-e)));return 0===Math.abs(Z)?0:Z},absFloor:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},prettyUnit:function(_){return{M:"month",y:"year",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"millisecond"}[_]||String(_||"").toLowerCase().replace(/s$/,"")},isUndefined:function(_){return void 0===_}};return function(_,n,A){var e=n.prototype,r=e.parse,t=e.format,Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};A.en.formats=Z,e.parse=function(v){var g=v&&v.format;if(g){var a=i.getLocale(v.locale).formats||{};v.format=g.replace(/LTS|LT|L/g,function(W){return a[W]||Z[W]})}r.call(this,v)},e.format=function(v){var g=this.$locale().formats||{},a=(v||"YYYY-MM-DDTHH:mm:ssZ").replace(/LTS|LT|L{1,4}/g,function(W){return g[W]||Z[W]});return t.call(this,a)}}}()},1764:function(H){H.exports=function(){"use strict";var i=6e4,_=36e5,n="millisecond",A="second",e="minute",r="hour",t="day",Z="week",v="month",g="quarter",a="year",W="date",P="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},C=function(h,b,D){var F=String(h);return!F||F.length>=b?h:""+Array(b+1-F.length).join(D)+h},y={s:C,z:function(h){var b=-h.utcOffset(),D=Math.abs(b),F=Math.floor(D/60),O=D%60;return(b<=0?"+":"-")+C(F,2,"0")+":"+C(O,2,"0")},m:function h(b,D){if(b.date()<D.date())return-h(D,b);var F=12*(D.year()-b.year())+(D.month()-b.month()),O=b.clone().add(F,v),B=D-O<0,S=b.clone().add(F+(B?-1:1),v);return+(-(F+(D-O)/(B?O-S:S-O))||0)},a:function(h){return h<0?Math.ceil(h)||0:Math.floor(h)},p:function(h){return{M:v,y:a,w:Z,d:t,D:W,h:r,m:e,s:A,ms:n,Q:g}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(h){return void 0===h}},U="en",m={};m[U]=M;var E=function(h){return h instanceof c},d=function h(b,D,F){var O;if(!b)return U;if("string"==typeof b){var B=b.toLowerCase();m[B]&&(O=B),D&&(m[B]=D,O=B);var S=b.split("-");if(!O&&S.length>1)return h(S[0])}else{var J=b.name;m[J]=b,O=J}return!F&&O&&(U=O),O||!F&&U},f=function(h,b){if(E(h))return h.clone();var D="object"==typeof b?b:{};return D.date=h,D.args=arguments,new c(D)},l=y;l.l=d,l.i=E,l.w=function(h,b){return f(h,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var c=function(){function h(D){this.$L=d(D.locale,null,!0),this.parse(D)}var b=h.prototype;return b.parse=function(D){this.$d=function(F){var O=F.date,B=F.utc;if(null===O)return new Date(NaN);if(l.u(O))return new Date;if(O instanceof Date)return new Date(O);if("string"==typeof O&&!/Z$/i.test(O)){var S=O.match(u);if(S){var J=S[2]-1||0,N=(S[7]||"0").substring(0,3);return B?new Date(Date.UTC(S[1],J,S[3]||1,S[4]||0,S[5]||0,S[6]||0,N)):new Date(S[1],J,S[3]||1,S[4]||0,S[5]||0,S[6]||0,N)}}return new Date(O)}(D),this.$x=D.x||{},this.init()},b.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},b.$utils=function(){return l},b.isValid=function(){return this.$d.toString()!==P},b.isSame=function(D,F){var O=f(D);return this.startOf(F)<=O&&O<=this.endOf(F)},b.isAfter=function(D,F){return f(D)<this.startOf(F)},b.isBefore=function(D,F){return this.endOf(F)<f(D)},b.$g=function(D,F,O){return l.u(D)?this[F]:this.set(O,D)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(D,F){var O=this,B=!!l.u(F)||F,S=l.p(D),J=function(s,L){var o=l.w(O.$u?Date.UTC(O.$y,L,s):new Date(O.$y,L,s),O);return B?o:o.endOf(t)},N=function(s,L){return l.w(O.toDate()[s].apply(O.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(L)),O)},V=this.$W,j=this.$M,G=this.$D,X="set"+(this.$u?"UTC":"");switch(S){case a:return B?J(1,0):J(31,11);case v:return B?J(1,j):J(0,j+1);case Z:var w=this.$locale().weekStart||0,Q=(V<w?V+7:V)-w;return J(B?G-Q:G+(6-Q),j);case t:case W:return N(X+"Hours",0);case r:return N(X+"Minutes",1);case e:return N(X+"Seconds",2);case A:return N(X+"Milliseconds",3);default:return this.clone()}},b.endOf=function(D){return this.startOf(D,!1)},b.$set=function(D,F){var O,B=l.p(D),S="set"+(this.$u?"UTC":""),J=(O={},O[t]=S+"Date",O[W]=S+"Date",O[v]=S+"Month",O[a]=S+"FullYear",O[r]=S+"Hours",O[e]=S+"Minutes",O[A]=S+"Seconds",O[n]=S+"Milliseconds",O)[B],N=B===t?this.$D+(F-this.$W):F;if(B===v||B===a){var V=this.clone().set(W,1);V.$d[J](N),V.init(),this.$d=V.set(W,Math.min(this.$D,V.daysInMonth())).$d}else J&&this.$d[J](N);return this.init(),this},b.set=function(D,F){return this.clone().$set(D,F)},b.get=function(D){return this[l.p(D)]()},b.add=function(D,F){var O,B=this;D=Number(D);var S=l.p(F),J=function(j){var G=f(B);return l.w(G.date(G.date()+Math.round(j*D)),B)};if(S===v)return this.set(v,this.$M+D);if(S===a)return this.set(a,this.$y+D);if(S===t)return J(1);if(S===Z)return J(7);var N=(O={},O[e]=i,O[r]=_,O[A]=1e3,O)[S]||1,V=this.$d.getTime()+D*N;return l.w(V,this)},b.subtract=function(D,F){return this.add(-1*D,F)},b.format=function(D){var F=this,O=this.$locale();if(!this.isValid())return O.invalidDate||P;var B=D||"YYYY-MM-DDTHH:mm:ssZ",S=l.z(this),J=this.$H,N=this.$m,V=this.$M,j=O.weekdays,G=O.months,X=function(L,o,R,p){return L&&(L[o]||L(F,B))||R[o].slice(0,p)},w=function(L){return l.s(J%12||12,L,"0")},Q=O.meridiem||function(L,o,R){var p=L<12?"AM":"PM";return R?p.toLowerCase():p},s={YY:String(this.$y).slice(-2),YYYY:this.$y,M:V+1,MM:l.s(V+1,2,"0"),MMM:X(O.monthsShort,V,G,3),MMMM:X(G,V),D:this.$D,DD:l.s(this.$D,2,"0"),d:String(this.$W),dd:X(O.weekdaysMin,this.$W,j,2),ddd:X(O.weekdaysShort,this.$W,j,3),dddd:j[this.$W],H:String(J),HH:l.s(J,2,"0"),h:w(1),hh:w(2),a:Q(J,N,!0),A:Q(J,N,!1),m:String(N),mm:l.s(N,2,"0"),s:String(this.$s),ss:l.s(this.$s,2,"0"),SSS:l.s(this.$ms,3,"0"),Z:S};return B.replace(x,function(L,o){return o||s[L]||S.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(D,F,O){var B,S=l.p(F),J=f(D),N=(J.utcOffset()-this.utcOffset())*i,V=this-J,j=l.m(this,J);return j=(B={},B[a]=j/12,B[v]=j,B[g]=j/3,B[Z]=(V-N)/6048e5,B[t]=(V-N)/864e5,B[r]=V/_,B[e]=V/i,B[A]=V/1e3,B)[S]||V,O?j:l.a(j)},b.daysInMonth=function(){return this.endOf(v).$D},b.$locale=function(){return m[this.$L]},b.locale=function(D,F){if(!D)return this.$L;var O=this.clone(),B=d(D,F,!0);return B&&(O.$L=B),O},b.clone=function(){return l.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},h}(),I=c.prototype;return f.prototype=I,[["$ms",n],["$s",A],["$m",e],["$H",r],["$W",t],["$M",v],["$y",a],["$D",W]].forEach(function(h){I[h[1]]=function(b){return this.$g(b,h[0],h[1])}}),f.extend=function(h,b){return h.$i||(h(b,c,f),h.$i=!0),f},f.locale=d,f.isDayjs=E,f.unix=function(h){return f(1e3*h)},f.en=m[U],f.Ls=m,f.p={},f}()},5899:(H,K,i)=>{"use strict";i.d(K,{Cv:()=>y,pW:()=>M});var _=i(5e3),n=i(9808),A=i(508),e=i(3191),r=i(6360),t=i(727),Z=i(4968),v=i(9300);const g=["primaryValueBar"],a=(0,A.pj)(class{constructor(U){this._elementRef=U}},"primary"),W=new _.OlP("mat-progress-bar-location",{providedIn:"root",factory:function P(){const U=(0,_.f3M)(n.K0),m=U?U.location:null;return{getPathname:()=>m?m.pathname+m.search:""}}}),u=new _.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let x=0,M=(()=>{class U extends a{constructor(E,d,f,l,c,I){super(E),this._ngZone=d,this._animationMode=f,this._changeDetectorRef=I,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new _.vpe,this._animationEndSubscription=t.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+x++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===f,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(E){var d;this._value=C((0,e.su)(E)||0),null===(d=this._changeDetectorRef)||void 0===d||d.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(E){var d;this._bufferValue=C(E||0),null===(d=this._changeDetectorRef)||void 0===d||d.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const E=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Z.R)(E,"transitionend").pipe((0,v.h)(d=>d.target===E)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return U.\u0275fac=function(E){return new(E||U)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(r.Qb,8),_.Y36(W,8),_.Y36(u,8),_.Y36(_.sBO))},U.\u0275cmp=_.Xpm({type:U,selectors:[["mat-progress-bar"]],viewQuery:function(E,d){if(1&E&&_.Gf(g,5),2&E){let f;_.iGM(f=_.CRH())&&(d._primaryValueBar=f.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(E,d){2&E&&(_.uIk("aria-valuenow","indeterminate"===d.mode||"query"===d.mode?null:d.value)("mode",d.mode),_.ekj("_mat-animation-noopable",d._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[_.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(E,d){1&E&&(_.TgZ(0,"div",0),_.O4$(),_.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),_._UZ(4,"circle",3),_.qZA()(),_._UZ(5,"rect",4),_.qZA(),_.kcU(),_._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),_.qZA()),2&E&&(_.xp6(3),_.Q6J("id",d.progressbarId),_.xp6(2),_.uIk("fill",d._rectangleFillValue),_.xp6(1),_.Q6J("ngStyle",d._bufferTransform()),_.xp6(1),_.Q6J("ngStyle",d._primaryTransform()))},directives:[n.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),U})();function C(U,m=0,E=100){return Math.max(m,Math.min(E,U))}let y=(()=>{class U{}return U.\u0275fac=function(E){return new(E||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({imports:[[n.ez,A.BQ],A.BQ]}),U})()}}]);