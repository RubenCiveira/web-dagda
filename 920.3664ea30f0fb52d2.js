"use strict";(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[920],{2688:(W,T,l)=>{l.r(T),l.d(T,{SujetoDeInteresViewDetailComponent:()=>S});var b=l(4650),r=l(1483);let S=(()=>{class g{}return g.\u0275fac=function(x){return new(x||g)},g.\u0275cmp=b.Xpm({type:g,selectors:[["sujeto-de-interes-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(x,Z){1&x&&b._UZ(0,"sujeto-de-interes-view-edit",0),2&x&&(b.Akn("detail"),b.Q6J("disabled",!0)("data",Z.data))},dependencies:[r.SujetoDeInteresViewEditComponent],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),g})()},1267:(W,T,l)=>{l.r(T),l.d(T,{SujetoDeInteresViewDetailModule:()=>E});var b=l(6895),r=l(9383),S=l(2289),g=l(4859),c=l(7219),x=l(1614),Z=l(2375),p=l(2782),P=l(1762),F=l(4650);let E=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=F.oAB({type:V}),V.\u0275inj=F.cJS({imports:[c.V,b.ez,x.r,p.n,S.xu,Z.W,g.ot,P.SujetoDeInteresViewEditModule,r.aw]}),V})()},1483:(W,T,l)=>{l.r(T),l.d(T,{SujetoDeInteresViewEditComponent:()=>e});var b=l(6537),r=l(4006),S=l(727),g=l(262),c=l(2843),x=l(8505),Z=l(5097),p=l(4650),P=l(7446),F=l(6895),E=l(791),V=l(502),f=l(9383);function M(C,I){if(1&C&&(p.TgZ(0,"editable-text",2),p.ALo(1,"translate"),p.ALo(2,"translate"),p._UZ(3,"editable-error",3),p.ALo(4,"translate"),p._UZ(5,"editable-error",4),p.ALo(6,"translate"),p.qZA()),2&C){const u=p.oxw(2);p.s9C("label",p.lcZ(1,6,"proyecto.sujeto-de-interes-view.form.nombre.label")),p.s9C("placeholder",p.lcZ(2,8,"proyecto.sujeto-de-interes-view.form.nombre.placeholder")),p.Q6J("control",u.fields.nombre.control)("required",!0),p.xp6(3),p.s9C("message",p.lcZ(4,10,"proyecto.sujeto-de-interes-view.form.nombre.rule.required")),p.xp6(2),p.s9C("message",p.lcZ(6,12,"proyecto.sujeto-de-interes-view.form.nombre.rule.maxlength"))}}function U(C,I){if(1&C&&p.YNc(0,M,7,14,"editable-text",1),2&C){const u=p.oxw();p.Q6J("ngIf",null==u.fields.nombre?null:u.fields.nombre.visible)}}let e=(()=>{class C{constructor(u,v,w){this.sujetoDeInteresRepository=u,this.cdRef=v,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={nombre:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.subscriptions=new S.w0,this.initialsAndDefaults={nombre:""},this.form=w.group({nombre:this.fields.nombre.control=new r.NI("",[r.kI.required,r.kI.maxLength(250)])})}ngOnInit(){}ngAfterViewInit(){var u;this.acl?this.updateAcl():null!==(u=this.data)&&void 0!==u&&u.uid?this.sujetoDeInteresRepository.specificAcl(this.data.uid).subscribe(v=>{this.acl=v,this.updateAcl()}):this.sujetoDeInteresRepository.genericAcl().subscribe(v=>{this.acl=v,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(u){u.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),u.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(v=>{this.fixedFields.push(v)})),u.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const u=this.sujetoDeInteresRepository.key(this.data),v=this.formView.retrieveValue();return(u?this.sujetoDeInteresRepository.update(u,v):this.sujetoDeInteresRepository.add(v)).pipe((0,Z.I)(),(0,g.K)(D=>{var m;return u&&this.sujetoDeInteresRepository.retrieve(u).subscribe(j=>{this.formView&&this.formView.markOriginal(j)}),null===(m=this.formView)||void 0===m||m.showError(D),(0,c._)(()=>D)}),(0,x.b)(D=>{var m;Object.keys(D).forEach(j=>{this.data[j]=D[j],this.formView&&(this.formView.data[j]=D[j])}),null===(m=this.formView)||void 0===m||m.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var u,v;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(u=this.form)||void 0===u||!u.dirty),this.invalid=!(null===(v=this.form)||void 0===v||!v.invalid),this.cdRef.detectChanges()}updateAcl(){var u,v;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(u=this.form)||void 0===u||!u.dirty),this.invalid=!(null===(v=this.form)||void 0===v||!v.invalid),this.cdRef.detectChanges()}}return C.\u0275fac=function(u){return new(u||C)(p.Y36(P.Z),p.Y36(p.sBO),p.Y36(r.qu))},C.\u0275cmp=p.Xpm({type:C,selectors:[["sujeto-de-interes-view-edit"]],viewQuery:function(u,v){if(1&u&&p.Gf(b.k,7),2&u){let w;p.iGM(w=p.CRH())&&(v.formView=w.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data"},features:[p.TTD],decls:2,vars:10,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["class","nombre","id","editable-sujeto-de-interes-nombre",3,"control","required","label","placeholder",4,"ngIf"],["id","editable-sujeto-de-interes-nombre",1,"nombre",3,"control","required","label","placeholder"],["for","required",3,"message"],["for","maxlength",3,"message"]],template:function(u,v){1&u&&(p.TgZ(0,"form-view",0),p.YNc(1,U,1,1,"ng-template"),p.qZA()),2&u&&p.Q6J("messagePreffix","proyecto.sujetoDeInteres")("form",v.form)("disabled",v.disabled)("fixed",v.fixedFields)("hidden",v.hidden)("editables",v.editables)("visibles",v.visibles)("defaults",v.initialsAndDefaults)("acl",v.acl)("data",v.data)},dependencies:[F.O5,E.IK,V.x,b.k,f.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.nombre[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.nombre[_ngcontent-%COMP%]{flex-basis:50%}}"],changeDetection:0}),C})()},1762:(W,T,l)=>{l.r(T),l.d(T,{SujetoDeInteresViewEditModule:()=>f});var b=l(6895),r=l(9383),S=l(2289),g=l(4859),c=l(7219),x=l(1614),Z=l(2375),p=l(2782),P=l(7893),F=l(4144),E=l(4006),V=l(4650);let f=(()=>{class M{}return M.\u0275fac=function(e){return new(e||M)},M.\u0275mod=V.oAB({type:M}),M.\u0275inj=V.cJS({imports:[c.V,b.ez,x.r,P.o,p.n,E.u5,S.xu,Z.W,g.ot,F.c,E.UX,r.aw]}),M})()},920:(W,T,l)=>{l.r(T),l.d(T,{SujetoDeInteresViewLazyModule:()=>Yi});var b=l(6895),r=l(9383),S=l(2289),g=l(4859),c=l(7219),x=l(1614),Z=l(2375),p=l(2782),P=l(1762),F=l(1267),E=l(7893),V=l(4144),f=l(4006),M=l(7392),U=l(960),e=l(4650);let C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,U.M,E.o,p.n,f.u5,S.xu,Z.W,g.ot,V.c,f.UX,r.aw]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,p.n,S.xu,Z.W,g.ot,C,r.aw]}),o})(),u=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,U.M,E.o,p.n,f.u5,S.xu,Z.W,g.ot,M.Ps,V.c,f.UX,I,C,r.aw]}),o})();var v=l(2499);let w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,v.r,x.r,U.M,p.n,f.u5,S.xu,Z.W,g.ot,V.c,f.UX,r.aw]}),o})(),D=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,p.n,S.xu,Z.W,g.ot,w,r.aw]}),o})(),m=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,U.M,E.o,p.n,f.u5,S.xu,Z.W,g.ot,M.Ps,V.c,D,w,f.UX,r.aw]}),o})();var j=l(553),A=l(4392),J=l(8473);let oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,v.r,J.x,A.f,j.L,x.r,U.M,p.n,f.u5,S.xu,Z.W,g.ot,V.c,f.UX,r.aw]}),o})(),Te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,p.n,S.xu,Z.W,g.ot,r.aw,oe]}),o})(),Me=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,U.M,E.o,p.n,f.u5,S.xu,Z.W,g.ot,M.Ps,V.c,f.UX,r.aw,Te,oe]}),o})(),Ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.V,b.ez,x.r,E.o,p.n,f.u5,S.xu,Z.W,g.ot,M.Ps,V.c,m,f.UX,F.SujetoDeInteresViewDetailModule,P.SujetoDeInteresViewEditModule,u,r.aw,Me]}),o})();var Ce=l(752),ne=l(8862),se=l(7009),N=l(7446),R=l(7738);class Y{static clone(s){const t=new Y;return t.pageSize=s.pageSize,t.pageNumber=s.pageNumber,t.lastRow=s.lastRow,t.search=s.search,t}}var z=l(727),G=l(2433),ue=l(5276);let ee=(()=>{class o extends G._j{constructor(t){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"sujetosRelacionados",path:"proyecto-relaciones-de-sujetos",acl:"proyecto-relaciones-de-sujetos"},t)}mapperForRelation(t){if("padre"===t){const i=new N.Z(this._handlerProvider);return new G.cr(i._meta,i)}if("hijo"===t){const i=new N.Z(this._handlerProvider);return new G.cr(i._meta,i)}return null}references(){return{padre:{type:"SujetoDeInteres"},hijo:{type:"SujetoDeInteres"}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ue.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var de=l(4906);let te=(()=>{class o extends G._j{constructor(t){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"notificacionSujeto",path:"proyecto-notificaciones-sujetos",acl:"proyecto-notificaciones-sujetos"},t)}mapperForRelation(t){if("sujeto"===t){const i=new N.Z(this._handlerProvider);return new G.cr(i._meta,i)}if("usuario"===t){const i=new de.m(this._handlerProvider);return new G.cr(i._meta,i)}return null}references(){return{sujeto:{type:"SujetoDeInteres"},usuario:{type:"Users"}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ue.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ie=(()=>{class o extends G._j{constructor(t){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"ubicacionSujeto",path:"proyecto-ubicaciones-de-sujetos",acl:"proyecto-ubicaciones-de-sujetos"},t)}mapperForRelation(t){if("sujeto"===t){const i=new N.Z(this._handlerProvider);return new G.cr(i._meta,i)}return null}references(){return{sujeto:{type:"SujetoDeInteres"}}}datetimes(){return["fecha"]}validar(t){return super.patch(t.uid+"/validar?validado=true",{validado:"true"},t)}validarAllForQuery(t){return super.patchAllForQuery("/-/validar",t,{validado:"true"})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ue.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var O=l(8034);class fe{static clone(s){const t=new fe;return t.pageSize=s.pageSize,t.pageNumber=s.pageNumber,t.lastRow=s.lastRow,t.search=s.search,t.sujeto="string"==typeof s.sujeto||s.sujeto instanceof String?s.sujeto:s.sujeto?s.sujeto.uid:void 0,t.usuario="string"==typeof s.usuario||s.usuario instanceof String?s.usuario:s.usuario?s.usuario.uid:void 0,t.include=s.include?pe.clone(s.include):void 0,t}}class pe{includeAll(s){this.sujeto=!0,this.usuario=!0}toArgs(s){const t=this.joinArgs("include.");return t.length>0&&-1===s.indexOf("?")&&(s+="?"),s+t}joinArgs(s){let t="";return this.sujeto&&(t+="&"+s+"sujeto=true"),this.usuario&&(t+="&"+s+"usuario=true"),t}static clone(s){return new pe}}var Q=l(6537),L=l(2076),B=l(5577),H=l(4004),K=l(9646),me=l(262),_e=l(2843),ge=l(8016),he=l(8505),be=l(5097),X=l(970),Ae=l(244),le=l(791),$=l(9087),k=l(9952);function Re(o,s){if(1&o&&e._UZ(0,"editable-create-related",10),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedNotificacionSujetoSujeto)}}function Le(o,s){if(1&o&&(e.TgZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Re,1,1,"editable-create-related",7),e._UZ(4,"editable-view-related",8),e.ALo(5,"translate"),e._UZ(6,"editable-error",9),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.notificacion-sujeto-view.form.sujeto.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.notificacion-sujeto-view.form.sujeto.placeholder")),e.Q6J("control",t.fields.sujeto.control)("required",!0)("search",t.relatedNotificacionSujetoSujeto)("retrieve",t.retrieveNotificacionSujetoSujeto),e.xp6(3),e.Q6J("ngIf",t.allowCreateSujetoDeInteresViewSujeto),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.sujeto-de-interes-view.sujeto.showRelated")),e.Q6J("build",t.loadViewRelatedNotificacionSujetoSujeto),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.notificacion-sujeto-view.form.sujeto.rule.required"))}}function Ee(o,s){if(1&o&&(e.TgZ(0,"editable-selectone",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-view-related",8),e.ALo(4,"translate"),e._UZ(5,"editable-error",9),e.ALo(6,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,9,"proyecto.notificacion-sujeto-view.form.usuario.label")),e.s9C("placeholder",e.lcZ(2,11,"proyecto.notificacion-sujeto-view.form.usuario.placeholder")),e.Q6J("control",t.fields.usuario.control)("required",!0)("search",t.relatedNotificacionSujetoUsuario)("retrieve",t.retrieveNotificacionSujetoUsuario),e.xp6(3),e.s9C("title",e.lcZ(4,13,"acceso.users-view.usuario.showRelated")),e.Q6J("build",t.loadViewRelatedNotificacionSujetoUsuario),e.xp6(2),e.s9C("message",e.lcZ(6,15,"proyecto.notificacion-sujeto-view.form.usuario.rule.required"))}}function Oe(o,s){if(1&o&&(e.TgZ(0,"editable-check",12),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-sujeto-view.form.creacion.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-sujeto-view.form.creacion.placeholder")),e.Q6J("control",t.fields.creacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-sujeto-view.form.creacion.rule.required"))}}function Ue(o,s){if(1&o&&(e.TgZ(0,"editable-check",13),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-sujeto-view.form.actualizacion.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-sujeto-view.form.actualizacion.placeholder")),e.Q6J("control",t.fields.actualizacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-sujeto-view.form.actualizacion.rule.required"))}}function Pe(o,s){if(1&o&&(e.TgZ(0,"editable-check",14),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",9),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-sujeto-view.form.borrado.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-sujeto-view.form.borrado.placeholder")),e.Q6J("control",t.fields.borrado.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.notificacion-sujeto-view.form.borrado.rule.required"))}}function Je(o,s){if(1&o&&(e.YNc(0,Le,8,18,"editable-selectone",1),e.YNc(1,Ee,7,17,"editable-selectone",2),e.YNc(2,Oe,5,11,"editable-check",3),e.YNc(3,Ue,5,11,"editable-check",4),e.YNc(4,Pe,5,11,"editable-check",5)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.sujeto?null:t.fields.sujeto.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.usuario?null:t.fields.usuario.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.creacion?null:t.fields.creacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.actualizacion?null:t.fields.actualizacion.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.borrado?null:t.fields.borrado.visible)}}let ye=(()=>{class o{constructor(t,i,n,a,h,d){this.notificacionSujetoRepository=t,this.sujetoDeInteresRepository=i,this.usersRepository=n,this.cdRef=a,this.appState=h,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={sujeto:{visible:!0,editable:!0,disabled:!1},usuario:{visible:!0,editable:!0,disabled:!1},creacion:{visible:!0,editable:!0,disabled:!1},actualizacion:{visible:!0,editable:!0,disabled:!1},borrado:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.allowCreateSujetoDeInteresViewSujeto=!1,this.loadCreateRelatedNotificacionSujetoSujeto=_=>(0,L.D)(Promise.resolve().then(l.bind(l,1762))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,1483))).pipe((0,H.U)(({SujetoDeInteresViewEditComponent:y})=>{const q=_.createComponent(y);return q.instance.data=q.instance.initialsAndDefaults,q.instance})))),this.loadViewRelatedNotificacionSujetoSujeto=_=>(0,L.D)(Promise.resolve().then(l.bind(l,1267))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,2688))).pipe((0,H.U)(({SujetoDeInteresViewDetailComponent:y})=>{const q=_.createComponent(y);return q.instance.data=this.fields.sujeto.value,q.instance})))),this.relatedNotificacionSujetoSujeto=_=>this.sujetoDeInteresRepository.list(this.filter(new Y,_,this.notificacionSujetoSujetoFilter)),this.retrieveNotificacionSujetoSujeto=_=>this.sujetoDeInteresRepository.retrieve(_.uid),this.loadViewRelatedNotificacionSujetoUsuario=_=>(0,L.D)(l.e(354).then(l.bind(l,2354))).pipe((0,B.z)(()=>(0,L.D)(l.e(761).then(l.bind(l,9761))).pipe((0,H.U)(({UsersViewDetailComponent:y})=>{const q=_.createComponent(y);return q.instance.data=this.fields.usuario.value,q.instance})))),this.relatedNotificacionSujetoUsuario=_=>this.usersRepository.list(this.filter(new ge.np,_,this.notificacionSujetoUsuarioFilter)),this.retrieveNotificacionSujetoUsuario=_=>this.usersRepository.retrieve(_.uid),this.initialsAndDefaults={sujeto:(0,K.of)({$ref:0}),usuario:(0,K.of)({$ref:0}),creacion:!1,actualizacion:!1,borrado:!1},this.form=d.group({sujeto:this.fields.sujeto.control=new f.NI("",[f.kI.required]),usuario:this.fields.usuario.control=new f.NI("",[f.kI.required]),creacion:this.fields.creacion.control=new f.NI("",[f.kI.required]),actualizacion:this.fields.actualizacion.control=new f.NI("",[f.kI.required]),borrado:this.fields.borrado.control=new f.NI("",[f.kI.required])}),this.subscriptions.add(this.sujetoDeInteresRepository.genericAcl().subscribe(_=>{if(this.allowCreateSujetoDeInteresViewSujeto=!1,_.allows)for(const y of _.allows)"create"===y.name&&(this.allowCreateSujetoDeInteresViewSujeto=y.allowed||!1)}))}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.notificacionSujetoRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.notificacionSujetoRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.notificacionSujetoRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.notificacionSujetoRepository.update(t,i):this.notificacionSujetoRepository.add(i)).pipe((0,be.I)(),(0,me.K)(a=>{var h;return t&&this.notificacionSujetoRepository.retrieve(t).subscribe(d=>{this.formView&&this.formView.markOriginal(d)}),null===(h=this.formView)||void 0===h||h.showError(a),(0,_e._)(()=>a)}),(0,he.b)(a=>{var h;Object.keys(a).forEach(d=>{this.data[d]=a[d],this.formView&&(this.formView.data[d]=a[d])}),null===(h=this.formView)||void 0===h||h.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(te),e.Y36(N.Z),e.Y36(de.m),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-sujeto-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",notificacionSujetoSujetoFilter:"notificacionSujetoSujetoFilter",notificacionSujetoUsuarioFilter:"notificacionSujetoUsuarioFilter"},features:[e.TTD],decls:2,vars:10,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["class","sujeto","id","editable-notificacion-sujeto-sujeto","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["class","usuario","id","editable-notificacion-sujeto-usuario","display","login",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["class","creacion","id","editable-notificacion-sujeto-creacion",3,"control","required","label","placeholder",4,"ngIf"],["class","actualizacion","id","editable-notificacion-sujeto-actualizacion",3,"control","required","label","placeholder",4,"ngIf"],["class","borrado","id","editable-notificacion-sujeto-borrado",3,"control","required","label","placeholder",4,"ngIf"],["id","editable-notificacion-sujeto-sujeto","display","nombre",1,"sujeto",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.sujeto-de-interesView.sujeto.createNew",3,"build",4,"ngIf"],[3,"title","build"],["for","required",3,"message"],["title","proyecto.sujeto-de-interesView.sujeto.createNew",3,"build"],["id","editable-notificacion-sujeto-usuario","display","login",1,"usuario",3,"control","required","label","placeholder","search","retrieve"],["id","editable-notificacion-sujeto-creacion",1,"creacion",3,"control","required","label","placeholder"],["id","editable-notificacion-sujeto-actualizacion",1,"actualizacion",3,"control","required","label","placeholder"],["id","editable-notificacion-sujeto-borrado",1,"borrado",3,"control","required","label","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,Je,5,5,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.notificacionSujeto")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[b.O5,Ae.Z,le.IK,$.XX,$.MI,k.s,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.sujeto[_ngcontent-%COMP%], .usuario[_ngcontent-%COMP%], .creacion[_ngcontent-%COMP%], .actualizacion[_ngcontent-%COMP%], .borrado[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.sujeto[_ngcontent-%COMP%], .usuario[_ngcontent-%COMP%], .creacion[_ngcontent-%COMP%], .actualizacion[_ngcontent-%COMP%], .borrado[_ngcontent-%COMP%]{flex-basis:50%}}"],changeDetection:0}),o})(),Fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-sujeto-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"notificacion-sujeto-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[ye],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const Ne=["actions"];function Qe(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"notificacion-sujeto-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",11),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.notificacion-sujeto-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.notificacion-sujeto-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.notificacion-sujeto-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.notificacion-sujeto-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.notificacion-sujeto-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.notificacion-sujeto-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.notificacion-sujeto-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function Ye(o,s){if(1&o&&e._UZ(0,"notificacion-sujeto-view-detail",13),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function Ke(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"notificacion-sujeto-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.notificacion-sujeto-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.notificacion-sujeto-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.notificacion-sujeto-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.notificacion-sujeto-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.notificacion-sujeto-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.notificacion-sujeto-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.notificacion-sujeto-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let Be=(()=>{class o{constructor(t){this.notificacionSujetoRepository=t,this.uid="list",this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.notificacionSujetoRepository.delete(this.notificacionSujetoRepository.key(i)),this.deleteSelection=i=>{const n=new fe;return i&&(n.uids=i.map(a=>a.uid).join(",")),this.notificacionSujetoRepository.deleteAllForQuery(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(te))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-sujeto-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ne,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{uid:"uid",fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:26,vars:62,consts:[[3,"id","repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,Qe,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,Ye,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,Ke,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("id",i.uid)("repository",i.notificacionSujetoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,30,"proyecto.notificacion-sujeto-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,32,"proyecto.notificacion-sujeto-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,34,"proyecto.notificacion-sujeto-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,36,"proyecto.notificacion-sujeto-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,38,"proyecto.notificacion-sujeto-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,40,"proyecto.notificacion-sujeto-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,42,"proyecto.notificacion-sujeto-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,44,"proyecto.notificacion-sujeto-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,46,"proyecto.notificacion-sujeto-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,48,"proyecto.notificacion-sujeto-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,50,"proyecto.notificacion-sujeto-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,52,"proyecto.notificacion-sujeto-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,54,"proyecto.notificacion-sujeto-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,56,"proyecto.notificacion-sujeto-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,58,"proyecto.notificacion-sujeto-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,60,"proyecto.notificacion-sujeto-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection)}},dependencies:[O.V4,O.fd,O.Lo,O.Fs,Fe,ye,r.X$],changeDetection:0}),o})();var ae=l(502);function He(o,s){if(1&o&&(e._UZ(0,"editable-text",4),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.notificacion-sujeto-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.notificacion-sujeto-view.form.search.placeholder")),e.Q6J("control",t.fields.search.control)}}function qe(o,s){if(1&o&&(e._UZ(0,"editable-selectone",5),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-sujeto-view.form.sujeto.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-sujeto-view.form.sujeto.placeholder")),e.Q6J("control",t.fields.sujeto.control)("search",t.relatedNotificacionSujetoSujeto)("retrieve",t.retrieveNotificacionSujetoSujeto)}}function Ge(o,s){if(1&o&&(e._UZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.notificacion-sujeto-view.form.usuario.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.notificacion-sujeto-view.form.usuario.placeholder")),e.Q6J("control",t.fields.usuario.control)("search",t.relatedNotificacionSujetoUsuario)("retrieve",t.retrieveNotificacionSujetoUsuario)}}function We(o,s){if(1&o&&(e.YNc(0,He,3,7,"editable-text",1),e.YNc(1,qe,3,9,"editable-selectone",2),e.YNc(2,Ge,3,9,"editable-selectone",3)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.search?null:t.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.sujeto?null:t.fields.sujeto.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.usuario?null:t.fields.usuario.visible)}}let ze=(()=>{class o{constructor(t,i,n,a,h,d){this.notificacionSujetoRepository=t,this.sujetoDeInteresRepository=i,this.usersRepository=n,this.cdRef=a,this.appState=h,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={search:{visible:!0,editable:!0,disabled:!1},sujeto:{visible:!0,editable:!0,disabled:!1},usuario:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.relatedNotificacionSujetoSujeto=_=>this.sujetoDeInteresRepository.list(this.filter(new Y,_,this.notificacionSujetoSujetoFilter)),this.retrieveNotificacionSujetoSujeto=_=>this.sujetoDeInteresRepository.retrieve(_.uid),this.relatedNotificacionSujetoUsuario=_=>this.usersRepository.list(this.filter(new ge.np,_,this.notificacionSujetoUsuarioFilter)),this.retrieveNotificacionSujetoUsuario=_=>this.usersRepository.retrieve(_.uid),this.initialsAndDefaults={sujeto:(0,K.of)({$ref:0}),usuario:(0,K.of)({$ref:0}),creacion:!1,actualizacion:!1,borrado:!1},this.form=d.group({search:this.fields.search.control=new f.NI("",[]),sujeto:this.fields.sujeto.control=new f.NI("",[]),usuario:this.fields.usuario.control=new f.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(te),e.Y36(N.Z),e.Y36(de.m),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-sujeto-view-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",notificacionSujetoSujetoFilter:"notificacionSujetoSujetoFilter",notificacionSujetoUsuarioFilter:"notificacionSujetoUsuarioFilter"},decls:2,vars:9,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["class","search","id","editable-notificacion-sujeto-search",3,"control","label","placeholder",4,"ngIf"],["class","sujeto","id","editable-notificacion-sujeto-sujeto","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["class","usuario","id","editable-notificacion-sujeto-usuario","display","login",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["id","editable-notificacion-sujeto-search",1,"search",3,"control","label","placeholder"],["id","editable-notificacion-sujeto-sujeto","display","nombre",1,"sujeto",3,"control","label","placeholder","search","retrieve"],["id","editable-notificacion-sujeto-usuario","display","login",1,"usuario",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,We,3,3,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.notificacionSujeto")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[b.O5,k.s,ae.x,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.search[_ngcontent-%COMP%], .sujeto[_ngcontent-%COMP%], .usuario[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.search[_ngcontent-%COMP%], .sujeto[_ngcontent-%COMP%], .usuario[_ngcontent-%COMP%]{flex-basis:33%}}"],changeDetection:0}),o})();const Xe=["list"],$e=["searchForm"],ke=["container"];function et(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.uid)}function tt(o,s){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=s.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.sujeto?null:t.sujeto.value))?null:i.nombre)}}function it(o,s){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=s.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.usuario?null:t.usuario.value))?null:i.login)}}const ot=function(){return["sort"]},nt=function(){return[]};function st(o,s){if(1&o){const t=e.EpF();e._UZ(0,"notificacion-sujeto-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",t.showTable?e.DdM(6,ot):e.DdM(7,nt)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function lt(o,s){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,et,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,tt,2,3,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,it,2,3,"ng-template"),e.qZA(),e.TgZ(10,"list-view-no-content"),e._UZ(11,"img",7),e.TgZ(12,"div")(13,"h1"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"list-view-no-results"),e._UZ(20,"img",8),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-search-form",9),e.ALo(29,"translate"),e.ALo(30,"translate"),e.YNc(31,st,7,8,"ng-template"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.notificacionSujetoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,12,"proyecto.notificacion-sujeto-view.list.column.sujeto-nombre")),e.xp6(3),e.s9C("title",e.lcZ(8,14,"proyecto.notificacion-sujeto-view.list.column.usuario-login")),e.xp6(7),e.Oqu(e.lcZ(15,16,"proyecto.notificacion-sujeto-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(18,18,"proyecto.notificacion-sujeto-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(24,20,"proyecto.notificacion-sujeto-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(27,22,"proyecto.notificacion-sujeto-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(29,24,"proyecto.notificacion-sujeto-view.list.search.title")),e.s9C("subtitle",e.lcZ(30,26,"proyecto.notificacion-sujeto-view.list.search.subtitle"))}}let at=(()=>{class o{constructor(t,i,n,a,h){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=a,this.notificacionSujetoRepository=h,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.notificacion-sujeto-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10),this.filter.include||(this.filter.include={}),this.filter.include.sujeto=!0,this.filter.include.usuario=!0}advancedSearch(){var t,i;if(this.searchForm&&this.list){const n={},a=this.searchForm.first.form.value;a.search&&(n.search=a.search),!(null===(t=a.sujeto)||void 0===t)&&t.uid&&(n.sujeto=a.sujeto.uid),!(null===(i=a.usuario)||void 0===i)&&i.uid&&(n.usuario=a.usuario.uid),this.list.first.advancedFilter=n,this.list.first.makeSearch(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.P),e.Y36(r.sK),e.Y36(se.ux),e.Y36(e.sBO),e.Y36(te))},o.\u0275cmp=e.Xpm({type:o,selectors:[["notificacion-sujeto-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Xe,5),e.Gf($e,5),e.Gf(ke,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:5,consts:[["id","notificacionSujeto-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"uid","parents","fixed","defaults","onAction"],["container",""],["id","notificacionSujeto-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,lt,32,28,"list-view",0),e.TgZ(1,"notificacion-sujeto-view-actions-container",1,2),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("uid",i.uid)("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[b.O5,R.Rt,R.Yi,R.if,R.JR,R.To,g.lW,Be,ze,b.Ov,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})();var ct=l(2688),rt=l(1483);class ve{static clone(s){const t=new ve;return t.pageSize=s.pageSize,t.pageNumber=s.pageNumber,t.lastRow=s.lastRow,t.search=s.search,t.padre="string"==typeof s.padre||s.padre instanceof String?s.padre:s.padre?s.padre.uid:void 0,t.hijo="string"==typeof s.hijo||s.hijo instanceof String?s.hijo:s.hijo?s.hijo.uid:void 0,t.include=s.include?je.clone(s.include):void 0,t}}class je{includeAll(s){this.padre=!0,this.hijo=!0}toArgs(s){const t=this.joinArgs("include.");return t.length>0&&-1===s.indexOf("?")&&(s+="?"),s+t}joinArgs(s){let t="";return this.padre&&(t+="&"+s+"padre=true"),this.hijo&&(t+="&"+s+"hijo=true"),t}static clone(s){return new je}}function ut(o,s){if(1&o&&(e.TgZ(0,"editable-text",4),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",5),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,4,"proyecto.sujetos-relacionados-view.form.tipo.label")),e.s9C("placeholder",e.lcZ(2,6,"proyecto.sujetos-relacionados-view.form.tipo.placeholder")),e.Q6J("control",t.fields.tipo.control),e.xp6(3),e.s9C("message",e.lcZ(4,8,"proyecto.sujetos-relacionados-view.form.tipo.rule.maxlength"))}}function dt(o,s){if(1&o&&e._UZ(0,"editable-create-related",10),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedSujetosRelacionadosPadre)}}function ft(o,s){if(1&o&&(e.TgZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,dt,1,1,"editable-create-related",7),e._UZ(4,"editable-view-related",8),e.ALo(5,"translate"),e._UZ(6,"editable-error",9),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.sujetos-relacionados-view.form.padre.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.sujetos-relacionados-view.form.padre.placeholder")),e.Q6J("control",t.fields.padre.control)("required",!0)("search",t.relatedSujetosRelacionadosPadre)("retrieve",t.retrieveSujetosRelacionadosPadre),e.xp6(3),e.Q6J("ngIf",t.allowCreateSujetoDeInteresViewPadre),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.sujeto-de-interes-view.padre.showRelated")),e.Q6J("build",t.loadViewRelatedSujetosRelacionadosPadre),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.sujetos-relacionados-view.form.padre.rule.required"))}}function pt(o,s){if(1&o&&e._UZ(0,"editable-create-related",13),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedSujetosRelacionadosHijo)}}function mt(o,s){if(1&o&&(e.TgZ(0,"editable-selectone",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,pt,1,1,"editable-create-related",12),e._UZ(4,"editable-view-related",8),e.ALo(5,"translate"),e._UZ(6,"editable-error",9),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.sujetos-relacionados-view.form.hijo.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.sujetos-relacionados-view.form.hijo.placeholder")),e.Q6J("control",t.fields.hijo.control)("required",!0)("search",t.relatedSujetosRelacionadosHijo)("retrieve",t.retrieveSujetosRelacionadosHijo),e.xp6(3),e.Q6J("ngIf",t.allowCreateSujetoDeInteresViewHijo),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.sujeto-de-interes-view.hijo.showRelated")),e.Q6J("build",t.loadViewRelatedSujetosRelacionadosHijo),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.sujetos-relacionados-view.form.hijo.rule.required"))}}function _t(o,s){if(1&o&&(e.YNc(0,ut,5,10,"editable-text",1),e.YNc(1,ft,8,18,"editable-selectone",2),e.YNc(2,mt,8,18,"editable-selectone",3)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.tipo?null:t.fields.tipo.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.padre?null:t.fields.padre.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.hijo?null:t.fields.hijo.visible)}}let xe=(()=>{class o{constructor(t,i,n,a,h){this.sujetosRelacionadosRepository=t,this.sujetoDeInteresRepository=i,this.cdRef=n,this.appState=a,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={tipo:{visible:!0,editable:!0,disabled:!1},padre:{visible:!0,editable:!0,disabled:!1},hijo:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.allowCreateSujetoDeInteresViewPadre=!1,this.allowCreateSujetoDeInteresViewHijo=!1,this.loadCreateRelatedSujetosRelacionadosPadre=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1762))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,1483))).pipe((0,H.U)(({SujetoDeInteresViewEditComponent:_})=>{const y=d.createComponent(_);return y.instance.data=y.instance.initialsAndDefaults,y.instance})))),this.loadViewRelatedSujetosRelacionadosPadre=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1267))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,2688))).pipe((0,H.U)(({SujetoDeInteresViewDetailComponent:_})=>{const y=d.createComponent(_);return y.instance.data=this.fields.padre.value,y.instance})))),this.relatedSujetosRelacionadosPadre=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.sujetosRelacionadosPadreFilter)),this.retrieveSujetosRelacionadosPadre=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.loadCreateRelatedSujetosRelacionadosHijo=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1762))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,1483))).pipe((0,H.U)(({SujetoDeInteresViewEditComponent:_})=>{const y=d.createComponent(_);return y.instance.data=y.instance.initialsAndDefaults,y.instance})))),this.loadViewRelatedSujetosRelacionadosHijo=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1267))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,2688))).pipe((0,H.U)(({SujetoDeInteresViewDetailComponent:_})=>{const y=d.createComponent(_);return y.instance.data=this.fields.hijo.value,y.instance})))),this.relatedSujetosRelacionadosHijo=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.sujetosRelacionadosHijoFilter)),this.retrieveSujetosRelacionadosHijo=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.initialsAndDefaults={padre:(0,K.of)({$ref:0}),hijo:(0,K.of)({$ref:0})},this.form=h.group({tipo:this.fields.tipo.control=new f.NI("",[f.kI.maxLength(250)]),padre:this.fields.padre.control=new f.NI("",[f.kI.required]),hijo:this.fields.hijo.control=new f.NI("",[f.kI.required])}),this.subscriptions.add(this.sujetoDeInteresRepository.genericAcl().subscribe(d=>{if(this.allowCreateSujetoDeInteresViewPadre=!1,d.allows)for(const _ of d.allows)"create"===_.name&&(this.allowCreateSujetoDeInteresViewPadre=_.allowed||!1)})),this.subscriptions.add(this.sujetoDeInteresRepository.genericAcl().subscribe(d=>{if(this.allowCreateSujetoDeInteresViewHijo=!1,d.allows)for(const _ of d.allows)"create"===_.name&&(this.allowCreateSujetoDeInteresViewHijo=_.allowed||!1)}))}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.sujetosRelacionadosRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.sujetosRelacionadosRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=[],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.sujetosRelacionadosRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.sujetosRelacionadosRepository.update(t,i):this.sujetosRelacionadosRepository.add(i)).pipe((0,be.I)(),(0,me.K)(a=>{var h;return t&&this.sujetosRelacionadosRepository.retrieve(t).subscribe(d=>{this.formView&&this.formView.markOriginal(d)}),null===(h=this.formView)||void 0===h||h.showError(a),(0,_e._)(()=>a)}),(0,he.b)(a=>{var h;Object.keys(a).forEach(d=>{this.data[d]=a[d],this.formView&&(this.formView.data[d]=a[d])}),null===(h=this.formView)||void 0===h||h.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee),e.Y36(N.Z),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujetos-relacionados-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",sujetosRelacionadosPadreFilter:"sujetosRelacionadosPadreFilter",sujetosRelacionadosHijoFilter:"sujetosRelacionadosHijoFilter"},features:[e.TTD],decls:2,vars:10,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["class","tipo","id","editable-sujetos-relacionados-tipo",3,"control","label","placeholder",4,"ngIf"],["class","padre","id","editable-sujetos-relacionados-padre","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["class","hijo","id","editable-sujetos-relacionados-hijo","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["id","editable-sujetos-relacionados-tipo",1,"tipo",3,"control","label","placeholder"],["for","maxlength",3,"message"],["id","editable-sujetos-relacionados-padre","display","nombre",1,"padre",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.sujeto-de-interesView.padre.createNew",3,"build",4,"ngIf"],[3,"title","build"],["for","required",3,"message"],["title","proyecto.sujeto-de-interesView.padre.createNew",3,"build"],["id","editable-sujetos-relacionados-hijo","display","nombre",1,"hijo",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.sujeto-de-interesView.hijo.createNew",3,"build",4,"ngIf"],["title","proyecto.sujeto-de-interesView.hijo.createNew",3,"build"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,_t,3,3,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.sujetosRelacionados")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[b.O5,le.IK,$.XX,$.MI,k.s,ae.x,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.tipo[_ngcontent-%COMP%], .padre[_ngcontent-%COMP%], .hijo[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.tipo[_ngcontent-%COMP%], .padre[_ngcontent-%COMP%], .hijo[_ngcontent-%COMP%]{flex-basis:50%}}"],changeDetection:0}),o})(),ht=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujetos-relacionados-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"sujetos-relacionados-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[xe],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const bt=["actions"];function vt(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"sujetos-relacionados-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",11),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.sujetos-relacionados-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.sujetos-relacionados-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.sujetos-relacionados-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.sujetos-relacionados-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.sujetos-relacionados-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.sujetos-relacionados-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.sujetos-relacionados-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function jt(o,s){if(1&o&&e._UZ(0,"sujetos-relacionados-view-detail",13),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function wt(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"sujetos-relacionados-view-edit",8,9),e.TgZ(7,"action-command-button",10),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",10),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.sujetos-relacionados-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.sujetos-relacionados-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.sujetos-relacionados-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.sujetos-relacionados-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.sujetos-relacionados-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.sujetos-relacionados-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.sujetos-relacionados-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let Ct=(()=>{class o{constructor(t){this.sujetosRelacionadosRepository=t,this.uid="list",this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.sujetosRelacionadosRepository.delete(this.sujetosRelacionadosRepository.key(i)),this.deleteSelection=i=>{const n=new ve;return i&&(n.uids=i.map(a=>a.uid).join(",")),this.sujetosRelacionadosRepository.deleteAllForQuery(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujetos-relacionados-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(bt,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{uid:"uid",fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:26,vars:62,consts:[[3,"id","repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,vt,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,jt,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,wt,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("id",i.uid)("repository",i.sujetosRelacionadosRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,30,"proyecto.sujetos-relacionados-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,32,"proyecto.sujetos-relacionados-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,34,"proyecto.sujetos-relacionados-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,36,"proyecto.sujetos-relacionados-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,38,"proyecto.sujetos-relacionados-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,40,"proyecto.sujetos-relacionados-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,42,"proyecto.sujetos-relacionados-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,44,"proyecto.sujetos-relacionados-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,46,"proyecto.sujetos-relacionados-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,48,"proyecto.sujetos-relacionados-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,50,"proyecto.sujetos-relacionados-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,52,"proyecto.sujetos-relacionados-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,54,"proyecto.sujetos-relacionados-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,56,"proyecto.sujetos-relacionados-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,58,"proyecto.sujetos-relacionados-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,60,"proyecto.sujetos-relacionados-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection)}},dependencies:[O.V4,O.fd,O.Lo,O.Fs,ht,xe,r.X$],changeDetection:0}),o})();function gt(o,s){if(1&o&&(e._UZ(0,"editable-selectone",4),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.sujetos-relacionados-view.form.padre.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.sujetos-relacionados-view.form.padre.placeholder")),e.Q6J("control",t.fields.padre.control)("search",t.relatedSujetosRelacionadosPadre)("retrieve",t.retrieveSujetosRelacionadosPadre)}}function At(o,s){if(1&o&&(e._UZ(0,"editable-text",5),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.sujetos-relacionados-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.sujetos-relacionados-view.form.search.placeholder")),e.Q6J("control",t.fields.search.control)}}function yt(o,s){if(1&o&&(e._UZ(0,"editable-selectone",6),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.sujetos-relacionados-view.form.hijo.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.sujetos-relacionados-view.form.hijo.placeholder")),e.Q6J("control",t.fields.hijo.control)("search",t.relatedSujetosRelacionadosHijo)("retrieve",t.retrieveSujetosRelacionadosHijo)}}function xt(o,s){if(1&o&&(e.YNc(0,gt,3,9,"editable-selectone",1),e.YNc(1,At,3,7,"editable-text",2),e.YNc(2,yt,3,9,"editable-selectone",3)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.padre?null:t.fields.padre.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.search?null:t.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.hijo?null:t.fields.hijo.visible)}}let Zt=(()=>{class o{constructor(t,i,n,a,h){this.sujetosRelacionadosRepository=t,this.sujetoDeInteresRepository=i,this.cdRef=n,this.appState=a,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={padre:{visible:!0,editable:!0,disabled:!1},search:{visible:!0,editable:!0,disabled:!1},hijo:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.relatedSujetosRelacionadosPadre=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.sujetosRelacionadosPadreFilter)),this.retrieveSujetosRelacionadosPadre=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.relatedSujetosRelacionadosHijo=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.sujetosRelacionadosHijoFilter)),this.retrieveSujetosRelacionadosHijo=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.initialsAndDefaults={padre:(0,K.of)({$ref:0}),hijo:(0,K.of)({$ref:0})},this.form=h.group({padre:this.fields.padre.control=new f.NI("",[]),search:this.fields.search.control=new f.NI("",[]),hijo:this.fields.hijo.control=new f.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee),e.Y36(N.Z),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujetos-relacionados-view-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",sujetosRelacionadosPadreFilter:"sujetosRelacionadosPadreFilter",sujetosRelacionadosHijoFilter:"sujetosRelacionadosHijoFilter"},decls:2,vars:9,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["class","padre","id","editable-sujetos-relacionados-padre","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["class","search","id","editable-sujetos-relacionados-search",3,"control","label","placeholder",4,"ngIf"],["class","hijo","id","editable-sujetos-relacionados-hijo","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["id","editable-sujetos-relacionados-padre","display","nombre",1,"padre",3,"control","label","placeholder","search","retrieve"],["id","editable-sujetos-relacionados-search",1,"search",3,"control","label","placeholder"],["id","editable-sujetos-relacionados-hijo","display","nombre",1,"hijo",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,xt,3,3,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.sujetosRelacionados")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[b.O5,k.s,ae.x,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.padre[_ngcontent-%COMP%], .search[_ngcontent-%COMP%], .hijo[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.padre[_ngcontent-%COMP%], .search[_ngcontent-%COMP%], .hijo[_ngcontent-%COMP%]{flex-basis:33%}}"],changeDetection:0}),o})();const St=["list"],Vt=["searchForm"],Dt=["container"];function Tt(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.uid)}function Mt(o,s){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=s.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.padre?null:t.padre.value))?null:i.nombre)}}function It(o,s){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=s.$implicit;let i;e.Oqu(null==(i=e.lcZ(1,1,null==t.hijo?null:t.hijo.value))?null:i.nombre)}}const Rt=function(){return["sort"]},Lt=function(){return[]};function Et(o,s){if(1&o){const t=e.EpF();e._UZ(0,"sujetos-relacionados-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",t.showTable?e.DdM(6,Rt):e.DdM(7,Lt)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function Ot(o,s){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,Tt,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,Mt,2,3,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,It,2,3,"ng-template"),e.qZA(),e.TgZ(10,"list-view-no-content"),e._UZ(11,"img",7),e.TgZ(12,"div")(13,"h1"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"list-view-no-results"),e._UZ(20,"img",8),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-search-form",9),e.ALo(29,"translate"),e.ALo(30,"translate"),e.YNc(31,Et,7,8,"ng-template"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.sujetosRelacionadosRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,12,"proyecto.sujetos-relacionados-view.list.column.padre-nombre")),e.xp6(3),e.s9C("title",e.lcZ(8,14,"proyecto.sujetos-relacionados-view.list.column.hijo-nombre")),e.xp6(7),e.Oqu(e.lcZ(15,16,"proyecto.sujetos-relacionados-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(18,18,"proyecto.sujetos-relacionados-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(24,20,"proyecto.sujetos-relacionados-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(27,22,"proyecto.sujetos-relacionados-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(29,24,"proyecto.sujetos-relacionados-view.list.search.title")),e.s9C("subtitle",e.lcZ(30,26,"proyecto.sujetos-relacionados-view.list.search.subtitle"))}}let Ut=(()=>{class o{constructor(t,i,n,a,h){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=a,this.sujetosRelacionadosRepository=h,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.sujetos-relacionados-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10),this.filter.include||(this.filter.include={}),this.filter.include.padre=!0,this.filter.include.hijo=!0}advancedSearch(){var t,i;if(this.searchForm&&this.list){const n={},a=this.searchForm.first.form.value;!(null===(t=a.padre)||void 0===t)&&t.uid&&(n.padre=a.padre.uid),a.search&&(n.search=a.search),!(null===(i=a.hijo)||void 0===i)&&i.uid&&(n.hijo=a.hijo.uid),this.list.first.advancedFilter=n,this.list.first.makeSearch(n)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.P),e.Y36(r.sK),e.Y36(se.ux),e.Y36(e.sBO),e.Y36(ee))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujetos-relacionados-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(St,5),e.Gf(Vt,5),e.Gf(Dt,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:5,consts:[["id","sujetosRelacionados-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"uid","parents","fixed","defaults","onAction"],["container",""],["id","sujetosRelacionados-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,Ot,32,28,"list-view",0),e.TgZ(1,"sujetos-relacionados-view-actions-container",1,2),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("uid",i.uid)("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[b.O5,R.Rt,R.Yi,R.if,R.JR,R.To,g.lW,Ct,Zt,b.Ov,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})();class ce{static clone(s){const t=new ce;return t.pageSize=s.pageSize,t.pageNumber=s.pageNumber,t.lastRow=s.lastRow,t.search=s.search,t.sujeto="string"==typeof s.sujeto||s.sujeto instanceof String?s.sujeto:s.sujeto?s.sujeto.uid:void 0,t.include=s.include?we.clone(s.include):void 0,t}}class we{includeAll(s){this.sujeto=!0}toArgs(s){const t=this.joinArgs("include.");return t.length>0&&-1===s.indexOf("?")&&(s+="?"),s+t}joinArgs(s){let t="";return this.sujeto&&(t+="&"+s+"sujeto=true"),t}static clone(s){return new we}}var Pt=l(5753),Jt=l(6266),Ft=l(3076);function Nt(o,s){if(1&o&&e._UZ(0,"editable-create-related",12),2&o){const t=e.oxw(3);e.Q6J("build",t.loadCreateRelatedUbicacionSujetoSujeto)}}function Qt(o,s){if(1&o&&(e.TgZ(0,"editable-selectone",8),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Nt,1,1,"editable-create-related",9),e._UZ(4,"editable-view-related",10),e.ALo(5,"translate"),e._UZ(6,"editable-error",11),e.ALo(7,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,10,"proyecto.ubicacion-sujeto-view.form.sujeto.label")),e.s9C("placeholder",e.lcZ(2,12,"proyecto.ubicacion-sujeto-view.form.sujeto.placeholder")),e.Q6J("control",t.fields.sujeto.control)("required",!0)("search",t.relatedUbicacionSujetoSujeto)("retrieve",t.retrieveUbicacionSujetoSujeto),e.xp6(3),e.Q6J("ngIf",t.allowCreateSujetoDeInteresViewSujeto),e.xp6(1),e.s9C("title",e.lcZ(5,14,"proyecto.sujeto-de-interes-view.sujeto.showRelated")),e.Q6J("build",t.loadViewRelatedUbicacionSujetoSujeto),e.xp6(2),e.s9C("message",e.lcZ(7,16,"proyecto.ubicacion-sujeto-view.form.sujeto.rule.required"))}}function Yt(o,s){if(1&o&&(e.TgZ(0,"editable-decimal",13),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",11),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.ubicacion-sujeto-view.form.longitud.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.ubicacion-sujeto-view.form.longitud.placeholder")),e.Q6J("control",t.fields.longitud.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.ubicacion-sujeto-view.form.longitud.rule.required"))}}function Kt(o,s){if(1&o&&(e.TgZ(0,"editable-decimal",14),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",11),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.ubicacion-sujeto-view.form.latitud.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.ubicacion-sujeto-view.form.latitud.placeholder")),e.Q6J("control",t.fields.latitud.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,9,"proyecto.ubicacion-sujeto-view.form.latitud.rule.required"))}}function Bt(o,s){if(1&o&&(e._UZ(0,"editable-check",15),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.ubicacion-sujeto-view.form.validado.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.ubicacion-sujeto-view.form.validado.placeholder")),e.Q6J("control",t.fields.validado.control)}}function Ht(o,s){if(1&o&&(e.TgZ(0,"editable-datetime",16),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",11),e.ALo(4,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,6,"proyecto.ubicacion-sujeto-view.form.fecha.label")),e.s9C("placeholder",e.lcZ(2,8,"proyecto.ubicacion-sujeto-view.form.fecha.placeholder")),e.Q6J("hasTimeInput",!0)("control",t.fields.fecha.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,10,"proyecto.ubicacion-sujeto-view.form.fecha.rule.required"))}}function qt(o,s){if(1&o&&(e.TgZ(0,"editable-choose",17),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",11),e.ALo(4,"translate"),e._UZ(5,"editable-option",18),e.ALo(6,"translate"),e._UZ(7,"editable-option",18),e.ALo(8,"translate"),e._UZ(9,"editable-option",18),e.ALo(10,"translate"),e._UZ(11,"editable-option",18),e.ALo(12,"translate"),e._UZ(13,"editable-option",18),e.ALo(14,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,15,"proyecto.ubicacion-sujeto-view.form.valoracion-fuente.label")),e.s9C("placeholder",e.lcZ(2,17,"proyecto.ubicacion-sujeto-view.form.valoracion-fuente.placeholder")),e.Q6J("control",t.fields.valoracionFuente.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,19,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.rule.required")),e.xp6(2),e.s9C("label",e.lcZ(6,21,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.options.f-a")),e.Q6J("value","F_A"),e.xp6(2),e.s9C("label",e.lcZ(8,23,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.options.f-b")),e.Q6J("value","F_B"),e.xp6(2),e.s9C("label",e.lcZ(10,25,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.options.f-c")),e.Q6J("value","F_C"),e.xp6(2),e.s9C("label",e.lcZ(12,27,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.options.f-d")),e.Q6J("value","F_D"),e.xp6(2),e.s9C("label",e.lcZ(14,29,"proyecto.ubicacion-sujeto-view.form.valoracionFuente.options.f-e")),e.Q6J("value","F_E")}}function Gt(o,s){if(1&o&&(e.TgZ(0,"editable-choose",19),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"editable-error",11),e.ALo(4,"translate"),e._UZ(5,"editable-option",18),e.ALo(6,"translate"),e._UZ(7,"editable-option",18),e.ALo(8,"translate"),e._UZ(9,"editable-option",18),e.ALo(10,"translate"),e._UZ(11,"editable-option",18),e.ALo(12,"translate"),e._UZ(13,"editable-option",18),e.ALo(14,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,15,"proyecto.ubicacion-sujeto-view.form.valoracion-informacion.label")),e.s9C("placeholder",e.lcZ(2,17,"proyecto.ubicacion-sujeto-view.form.valoracion-informacion.placeholder")),e.Q6J("control",t.fields.valoracionInformacion.control)("required",!0),e.xp6(3),e.s9C("message",e.lcZ(4,19,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.rule.required")),e.xp6(2),e.s9C("label",e.lcZ(6,21,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.options.i-1")),e.Q6J("value","I_1"),e.xp6(2),e.s9C("label",e.lcZ(8,23,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.options.i-2")),e.Q6J("value","I_2"),e.xp6(2),e.s9C("label",e.lcZ(10,25,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.options.i-3")),e.Q6J("value","I_3"),e.xp6(2),e.s9C("label",e.lcZ(12,27,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.options.i-4")),e.Q6J("value","I_4"),e.xp6(2),e.s9C("label",e.lcZ(14,29,"proyecto.ubicacion-sujeto-view.form.valoracionInformacion.options.i-5")),e.Q6J("value","I_5")}}function Wt(o,s){if(1&o&&(e.YNc(0,Qt,8,18,"editable-selectone",1),e.YNc(1,Yt,5,11,"editable-decimal",2),e.YNc(2,Kt,5,11,"editable-decimal",3),e.YNc(3,Bt,3,7,"editable-check",4),e.YNc(4,Ht,5,12,"editable-datetime",5),e.YNc(5,qt,15,31,"editable-choose",6),e.YNc(6,Gt,15,31,"editable-choose",7)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.sujeto?null:t.fields.sujeto.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.longitud?null:t.fields.longitud.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.latitud?null:t.fields.latitud.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.validado?null:t.fields.validado.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.fecha?null:t.fields.fecha.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.valoracionFuente?null:t.fields.valoracionFuente.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.valoracionInformacion?null:t.fields.valoracionInformacion.visible)}}let Ze=(()=>{class o{constructor(t,i,n,a,h){this.ubicacionSujetoRepository=t,this.sujetoDeInteresRepository=i,this.cdRef=n,this.appState=a,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={sujeto:{visible:!0,editable:!0,disabled:!1},longitud:{visible:!0,editable:!0,disabled:!1},latitud:{visible:!0,editable:!0,disabled:!1},validado:{visible:!0,editable:!0,disabled:!1},fecha:{visible:!0,editable:!0,disabled:!1},valoracionFuente:{visible:!0,editable:!0,disabled:!1},valoracionInformacion:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.allowCreateSujetoDeInteresViewSujeto=!1,this.loadCreateRelatedUbicacionSujetoSujeto=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1762))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,1483))).pipe((0,H.U)(({SujetoDeInteresViewEditComponent:_})=>{const y=d.createComponent(_);return y.instance.data=y.instance.initialsAndDefaults,y.instance})))),this.loadViewRelatedUbicacionSujetoSujeto=d=>(0,L.D)(Promise.resolve().then(l.bind(l,1267))).pipe((0,B.z)(()=>(0,L.D)(Promise.resolve().then(l.bind(l,2688))).pipe((0,H.U)(({SujetoDeInteresViewDetailComponent:_})=>{const y=d.createComponent(_);return y.instance.data=this.fields.sujeto.value,y.instance})))),this.relatedUbicacionSujetoSujeto=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.ubicacionSujetoSujetoFilter)),this.retrieveUbicacionSujetoSujeto=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.initialsAndDefaults={sujeto:(0,K.of)({$ref:0}),longitud:0,latitud:0,validado:!1,fecha:0,valoracionFuente:"F_E",valoracionInformacion:"I_4"},this.form=h.group({sujeto:this.fields.sujeto.control=new f.NI("",[f.kI.required]),longitud:this.fields.longitud.control=new f.NI("",[f.kI.required]),latitud:this.fields.latitud.control=new f.NI("",[f.kI.required]),validado:this.fields.validado.control=new f.NI("",[]),fecha:this.fields.fecha.control=new f.NI("",[f.kI.required]),valoracionFuente:this.fields.valoracionFuente.control=new f.NI("",[f.kI.required]),valoracionInformacion:this.fields.valoracionInformacion.control=new f.NI("",[f.kI.required])}),this.subscriptions.add(this.sujetoDeInteresRepository.genericAcl().subscribe(d=>{if(this.allowCreateSujetoDeInteresViewSujeto=!1,d.allows)for(const _ of d.allows)"create"===_.name&&(this.allowCreateSujetoDeInteresViewSujeto=_.allowed||!1)}))}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){var t;this.acl?this.updateAcl():null!==(t=this.data)&&void 0!==t&&t.uid?this.ubicacionSujetoRepository.specificAcl(this.data.uid).subscribe(i=>{this.acl=i,this.updateAcl()}):this.ubicacionSujetoRepository.genericAcl().subscribe(i=>{this.acl=i,this.updateAcl()}),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(t){t.defaults&&Object.assign(this.initialsAndDefaults,this.defaults),t.fixed&&(this.fixedFields=["validado"],this.fixed.forEach&&this.fixed.forEach(i=>{this.fixedFields.push(i)})),t.acl&&this.updateAcl()}clearErrors(){this.formView&&this.formView.clearErrors()}saveValue(){if(this.formView){const t=this.ubicacionSujetoRepository.key(this.data),i=this.formView.retrieveValue();return(t?this.ubicacionSujetoRepository.update(t,i):this.ubicacionSujetoRepository.add(i)).pipe((0,be.I)(),(0,me.K)(a=>{var h;return t&&this.ubicacionSujetoRepository.retrieve(t).subscribe(d=>{this.formView&&this.formView.markOriginal(d)}),null===(h=this.formView)||void 0===h||h.showError(a),(0,_e._)(()=>a)}),(0,he.b)(a=>{var h;Object.keys(a).forEach(d=>{this.data[d]=a[d],this.formView&&(this.formView.data[d]=a[d])}),null===(h=this.formView)||void 0===h||h.refresh()}))}throw new Error("Intentando guardar sin formView")}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ie),e.Y36(N.Z),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ubicacion-sujeto-view-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",data:"data",ubicacionSujetoSujetoFilter:"ubicacionSujetoSujetoFilter"},features:[e.TTD],decls:2,vars:10,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl","data"],["class","sujeto","id","editable-ubicacion-sujeto-sujeto","display","nombre",3,"control","required","label","placeholder","search","retrieve",4,"ngIf"],["class","longitud","id","editable-ubicacion-sujeto-longitud",3,"control","required","label","placeholder",4,"ngIf"],["class","latitud","id","editable-ubicacion-sujeto-latitud",3,"control","required","label","placeholder",4,"ngIf"],["class","validado","id","editable-ubicacion-sujeto-validado",3,"control","label","placeholder",4,"ngIf"],["class","fecha","id","editable-ubicacion-sujeto-fecha",3,"hasTimeInput","control","required","label","placeholder",4,"ngIf"],["class","valoracion-fuente","id","editable-ubicacion-sujeto-valoracionFuente",3,"control","required","label","placeholder",4,"ngIf"],["class","valoracion-informacion","id","editable-ubicacion-sujeto-valoracionInformacion",3,"control","required","label","placeholder",4,"ngIf"],["id","editable-ubicacion-sujeto-sujeto","display","nombre",1,"sujeto",3,"control","required","label","placeholder","search","retrieve"],["title","proyecto.sujeto-de-interesView.sujeto.createNew",3,"build",4,"ngIf"],[3,"title","build"],["for","required",3,"message"],["title","proyecto.sujeto-de-interesView.sujeto.createNew",3,"build"],["id","editable-ubicacion-sujeto-longitud",1,"longitud",3,"control","required","label","placeholder"],["id","editable-ubicacion-sujeto-latitud",1,"latitud",3,"control","required","label","placeholder"],["id","editable-ubicacion-sujeto-validado",1,"validado",3,"control","label","placeholder"],["id","editable-ubicacion-sujeto-fecha",1,"fecha",3,"hasTimeInput","control","required","label","placeholder"],["id","editable-ubicacion-sujeto-valoracionFuente",1,"valoracion-fuente",3,"control","required","label","placeholder"],[3,"value","label"],["id","editable-ubicacion-sujeto-valoracionInformacion",1,"valoracion-informacion",3,"control","required","label","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,Wt,7,7,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.ubicacionSujeto")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)("data",i.data)},dependencies:[b.O5,Ae.Z,Pt.b,le.tx,Jt.Q,Ft.S,le.IK,$.XX,$.MI,k.s,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.sujeto[_ngcontent-%COMP%], .longitud[_ngcontent-%COMP%], .latitud[_ngcontent-%COMP%], .validado[_ngcontent-%COMP%], .fecha[_ngcontent-%COMP%], .valoracion-fuente[_ngcontent-%COMP%], .valoracion-informacion[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.sujeto[_ngcontent-%COMP%], .longitud[_ngcontent-%COMP%], .latitud[_ngcontent-%COMP%], .validado[_ngcontent-%COMP%], .fecha[_ngcontent-%COMP%], .valoracion-fuente[_ngcontent-%COMP%], .valoracion-informacion[_ngcontent-%COMP%]{flex-basis:50%}}"],changeDetection:0}),o})(),zt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ubicacion-sujeto-view-detail"]],inputs:{data:"data"},decls:1,vars:4,consts:[[3,"disabled","data"]],template:function(t,i){1&t&&e._UZ(0,"ubicacion-sujeto-view-edit",0),2&t&&(e.Akn("detail"),e.Q6J("disabled",!0)("data",i.data))},dependencies:[Ze],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"],changeDetection:0}),o})();const Xt=["actions"];function $t(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",9),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"ubicacion-sujeto-view-edit",10,11),e.TgZ(7,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",13),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.ubicacion-sujeto-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.ubicacion-sujeto-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.ubicacion-sujeto-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.ubicacion-sujeto-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.ubicacion-sujeto-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.ubicacion-sujeto-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.ubicacion-sujeto-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function kt(o,s){if(1&o&&e._UZ(0,"ubicacion-sujeto-view-detail",15),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function ei(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",9),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"ubicacion-sujeto-view-edit",10,11),e.TgZ(7,"action-command-button",12),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",12),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.ubicacion-sujeto-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.ubicacion-sujeto-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.ubicacion-sujeto-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.ubicacion-sujeto-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.ubicacion-sujeto-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.ubicacion-sujeto-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.ubicacion-sujeto-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let ti=(()=>{class o{constructor(t){this.ubicacionSujetoRepository=t,this.uid="list",this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=i=>this.ubicacionSujetoRepository.delete(this.ubicacionSujetoRepository.key(i)),this.deleteSelection=i=>{const n=new ce;return i&&(n.uids=i.map(a=>a.uid).join(",")),this.ubicacionSujetoRepository.deleteAllForQuery(n)},this.validar=i=>this.ubicacionSujetoRepository.validar(i),this.validarSelection=i=>{const n=new ce;return i&&(n.uids=i.map(a=>a.uid).join(",")),this.ubicacionSujetoRepository.validarAllForQuery(n)},this.validarDisabled=i=>!i||!0===i.validado}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ie))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ubicacion-sujeto-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(Xt,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{uid:"uid",fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:38,vars:99,consts:[[3,"id","repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","validar","acl","validar","icon","fact_check",3,"label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","validarSelection","acl","validar","icon","fact_check",3,"multiple","label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,$t,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,kt,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,ei,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e._UZ(26,"action-command",7),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.ALo(30,"translate"),e.ALo(31,"translate"),e._UZ(32,"action-command",8),e.ALo(33,"translate"),e.ALo(34,"translate"),e.ALo(35,"translate"),e.ALo(36,"translate"),e.ALo(37,"translate"),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("id",i.uid)("repository",i.ubicacionSujetoRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,47,"proyecto.ubicacion-sujeto-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(4,49,"proyecto.ubicacion-sujeto-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,51,"proyecto.ubicacion-sujeto-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(8,53,"proyecto.ubicacion-sujeto-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,55,"proyecto.ubicacion-sujeto-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.uid),e.s9C("subtitle",e.lcZ(12,57,"proyecto.ubicacion-sujeto-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,59,"proyecto.ubicacion-sujeto-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,61,"proyecto.ubicacion-sujeto-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,63,"proyecto.ubicacion-sujeto-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,65,"proyecto.ubicacion-sujeto-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,67,"proyecto.ubicacion-sujeto-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,69,"proyecto.ubicacion-sujeto-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,71,"proyecto.ubicacion-sujeto-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,73,"proyecto.ubicacion-sujeto-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,75,"proyecto.ubicacion-sujeto-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,77,"proyecto.ubicacion-sujeto-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection),e.xp6(6),e.s9C("label",e.lcZ(27,79,"proyecto.ubicacion-sujeto-view.list.action.validar.label")),e.s9C("confirmTitle",e.lcZ(28,81,"proyecto.ubicacion-sujeto-view.list.action.validar.title")),e.s9C("confirmSubtitle",e.lcZ(29,83,"proyecto.ubicacion-sujeto-view.list.action.validar.subtitle")),e.s9C("confirmOk",e.lcZ(30,85,"proyecto.ubicacion-sujeto-view.list.action.validar.confirm")),e.s9C("confirmCancel",e.lcZ(31,87,"proyecto.ubicacion-sujeto-view.list.action.validar.cancel")),e.Q6J("hidden",i.validarDisabled)("close",!1)("exec",i.validar),e.xp6(6),e.s9C("label",e.lcZ(33,89,"proyecto.ubicacion-sujeto-view.list.action.validar-selection.label")),e.s9C("confirmTitle",e.lcZ(34,91,"proyecto.ubicacion-sujeto-view.list.action.validar-selection.title")),e.s9C("confirmSubtitle",e.lcZ(35,93,"proyecto.ubicacion-sujeto-view.list.action.validar-selection.subtitle")),e.s9C("confirmOk",e.lcZ(36,95,"proyecto.ubicacion-sujeto-view.list.action.validar-selection.confirm")),e.s9C("confirmCancel",e.lcZ(37,97,"proyecto.ubicacion-sujeto-view.list.action.validar-selection.cancel")),e.Q6J("multiple",!0)("hidden",i.validarDisabled)("close",!1)("exec",i.validarSelection)}},dependencies:[O.V4,O.fd,O.Lo,O.Fs,zt,Ze,r.X$],changeDetection:0}),o})();function ii(o,s){if(1&o&&(e._UZ(0,"editable-text",3),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,3,"proyecto.ubicacion-sujeto-view.form.search.label")),e.s9C("placeholder",e.lcZ(2,5,"proyecto.ubicacion-sujeto-view.form.search.placeholder")),e.Q6J("control",t.fields.search.control)}}function oi(o,s){if(1&o&&(e._UZ(0,"editable-selectone",4),e.ALo(1,"translate"),e.ALo(2,"translate")),2&o){const t=e.oxw(2);e.s9C("label",e.lcZ(1,5,"proyecto.ubicacion-sujeto-view.form.sujeto.label")),e.s9C("placeholder",e.lcZ(2,7,"proyecto.ubicacion-sujeto-view.form.sujeto.placeholder")),e.Q6J("control",t.fields.sujeto.control)("search",t.relatedUbicacionSujetoSujeto)("retrieve",t.retrieveUbicacionSujetoSujeto)}}function ni(o,s){if(1&o&&(e.YNc(0,ii,3,7,"editable-text",1),e.YNc(1,oi,3,9,"editable-selectone",2)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.fields.search?null:t.fields.search.visible),e.xp6(1),e.Q6J("ngIf",null==t.fields.sujeto?null:t.fields.sujeto.visible)}}let si=(()=>{class o{constructor(t,i,n,a,h){this.ubicacionSujetoRepository=t,this.sujetoDeInteresRepository=i,this.cdRef=n,this.appState=a,this.disabled=!1,this.defaults={},this.fixed=[],this.hidden=[],this.fields={search:{visible:!0,editable:!0,disabled:!1},sujeto:{visible:!0,editable:!0,disabled:!1}},this.fixedFields=[],this.initialsAndDefaults={},this.dirty=!1,this.invalid=!1,this.error=null,this.contextFilter={},this.subscriptions=new z.w0,this.relatedUbicacionSujetoSujeto=d=>this.sujetoDeInteresRepository.list(this.filter(new Y,d,this.ubicacionSujetoSujetoFilter)),this.retrieveUbicacionSujetoSujeto=d=>this.sujetoDeInteresRepository.retrieve(d.uid),this.initialsAndDefaults={sujeto:(0,K.of)({$ref:0}),longitud:0,latitud:0,validado:!1,fecha:0,valoracionFuente:"F_E",valoracionInformacion:"I_4"},this.form=h.group({search:this.fields.search.control=new f.NI("",[]),sujeto:this.fields.sujeto.control=new f.NI("",[])})}ngOnInit(){this.subscriptions.add(this.appState.bindSelection(this.contextFilter).subscribe()),this.subscriptions.add(this.appState.fixeds.get().subscribe({next:t=>{this.updateValues()}}))}ngAfterViewInit(){this.acl&&this.updateAcl(),this.subscriptions.add(this.form.valueChanges.subscribe({next:()=>{this.updateValues()}})),this.formView&&this.formView.bindValues(this.fields)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateValues(){var t,i;this.formView&&this.formView.bindValues(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}updateAcl(){var t,i;this.formView&&this.formView.bindFields(this.fields),this.dirty=!(null===(t=this.form)||void 0===t||!t.dirty),this.invalid=!(null===(i=this.form)||void 0===i||!i.invalid),this.cdRef.detectChanges()}filter(t,i,n){if(t.search=i,n)for(const a of Object.keys(n))t[a]=n[a];if(this.contextFilter)for(const a of Object.keys(this.contextFilter))t[a]=this.contextFilter[a];return t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ie),e.Y36(N.Z),e.Y36(e.sBO),e.Y36(X.aB),e.Y36(f.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ubicacion-sujeto-view-search"]],viewQuery:function(t,i){if(1&t&&e.Gf(Q.k,7),2&t){let n;e.iGM(n=e.CRH())&&(i.formView=n.first)}},inputs:{disabled:"disabled",defaults:"defaults",editables:"editables",visibles:"visibles",fixed:"fixed",hidden:"hidden",acl:"acl",ubicacionSujetoSujetoFilter:"ubicacionSujetoSujetoFilter"},decls:2,vars:9,consts:[[1,"main-form","form",3,"messagePreffix","form","disabled","fixed","hidden","editables","visibles","defaults","acl"],["class","search","id","editable-ubicacion-sujeto-search",3,"control","label","placeholder",4,"ngIf"],["class","sujeto","id","editable-ubicacion-sujeto-sujeto","display","nombre",3,"control","label","placeholder","search","retrieve",4,"ngIf"],["id","editable-ubicacion-sujeto-search",1,"search",3,"control","label","placeholder"],["id","editable-ubicacion-sujeto-sujeto","display","nombre",1,"sujeto",3,"control","label","placeholder","search","retrieve"]],template:function(t,i){1&t&&(e.TgZ(0,"form-view",0),e.YNc(1,ni,2,2,"ng-template"),e.qZA()),2&t&&e.Q6J("messagePreffix","proyecto.ubicacionSujeto")("form",i.form)("disabled",i.disabled)("fixed",i.fixedFields)("hidden",i.hidden)("editables",i.editables)("visibles",i.visibles)("defaults",i.initialsAndDefaults)("acl",i.acl)},dependencies:[b.O5,k.s,ae.x,Q.k,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.search[_ngcontent-%COMP%], .sujeto[_ngcontent-%COMP%]{flex-basis:100%}@media only screen and (min-width: 992px){.search[_ngcontent-%COMP%], .sujeto[_ngcontent-%COMP%]{flex-basis:33%}}"],changeDetection:0}),o})();const li=["list"],ai=["searchForm"],ci=["container"];function ri(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.uid)}function ui(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.uid)}const di=function(){return["sort"]},fi=function(){return[]};function pi(o,s){if(1&o){const t=e.EpF();e._UZ(0,"ubicacion-sujeto-view-search",10,11),e.TgZ(2,"div",12),e._UZ(3,"span",13),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.advancedSearch())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.Q6J("fixed",i.fixed)("defaults",i.defaults)("hidden",t.showTable?e.DdM(6,di):e.DdM(7,fi)),e.xp6(5),e.Oqu(e.lcZ(6,4,"APP_SEARCH"))}}function mi(o,s){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,ri,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,ui,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-no-content"),e._UZ(8,"img",7),e.TgZ(9,"div")(10,"h1"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"list-view-no-results"),e._UZ(17,"img",8),e.TgZ(18,"div")(19,"h1"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"list-view-search-form",9),e.ALo(26,"translate"),e.ALo(27,"translate"),e.YNc(28,pi,7,8,"ng-template"),e.qZA()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.ubicacionSujetoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,11,"proyecto.ubicacion-sujeto-view.list.column.uid")),e.xp6(7),e.Oqu(e.lcZ(12,13,"proyecto.ubicacion-sujeto-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(15,15,"proyecto.ubicacion-sujeto-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(21,17,"proyecto.ubicacion-sujeto-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(24,19,"proyecto.ubicacion-sujeto-view.list.no-results.message")),e.xp6(2),e.s9C("title",e.lcZ(26,21,"proyecto.ubicacion-sujeto-view.list.search.title")),e.s9C("subtitle",e.lcZ(27,23,"proyecto.ubicacion-sujeto-view.list.search.subtitle"))}}let _i=(()=>{class o{constructor(t,i,n,a,h){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=a,this.ubicacionSujetoRepository=h,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.ubicacion-sujeto-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){var t;if(this.searchForm&&this.list){const i={},n=this.searchForm.first.form.value;n.search&&(i.search=n.search),!(null===(t=n.sujeto)||void 0===t)&&t.uid&&(i.sujeto=n.sujeto.uid),this.list.first.advancedFilter=i,this.list.first.makeSearch(i)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.P),e.Y36(r.sK),e.Y36(se.ux),e.Y36(e.sBO),e.Y36(ie))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ubicacion-sujeto-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(li,5),e.Gf(ai,5),e.Gf(ci,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:5,consts:[["id","ubicacionSujeto-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"uid","parents","fixed","defaults","onAction"],["container",""],["id","ubicacionSujeto-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"],[3,"title","subtitle"],[3,"fixed","defaults","hidden"],["searchForm",""],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,mi,29,25,"list-view",0),e.TgZ(1,"ubicacion-sujeto-view-actions-container",1,2),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("uid",i.uid)("parents",i.parents)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[b.O5,R.Rt,R.Yi,R.if,R.JR,R.To,g.lW,ti,si,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})();const hi=["actions"];function bi(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"sujeto-de-interes-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",15),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execClearAndJumpToAction(n.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.sujeto-de-interes-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.sujeto-de-interes-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.sujeto-de-interes-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.sujeto-de-interes-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.empty)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.sujeto-de-interes-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.sujeto-de-interes-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.sujeto-de-interes-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function vi(o,s){if(1&o&&e._UZ(0,"sujeto-de-interes-view-detail",17),2&o){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function ji(o,s){if(1&o){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"sujeto-de-interes-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t),e.oxw();const n=e.MAs(1);return e.KtG(n.jumpToAction(n.isAllowed("detail")?"detail":"",n.isAllowed("detail")?n.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const n=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(n.saveValue(),a.isAllowed("detail")?"detail":"edit",a.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw(),n=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.sujeto-de-interes-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.sujeto-de-interes-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.sujeto-de-interes-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.sujeto-de-interes-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",i.fixed)("defaults",i.defaults)("data",null==n?null:n.selection)("acl",null==n?null:n.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.sujeto-de-interes-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.sujeto-de-interes-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.sujeto-de-interes-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}const Se=function(o){return{padre:o}},wi=function(){return["padre"]};function Ci(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"sujetos-relacionados-view-list",20),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid",t.uid+"-subordinados")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,Se,null==i?null:i.selection),"subordinados"))("fixed",t.fixedForChild(e.DdM(8,wi),"subordinados"))("filter",t.filtersForChild(e.VKq(9,Se,null==i||null==i.selection?null:i.selection.uid),"subordinados"))}}function gi(o,s){if(1&o&&e.YNc(0,Ci,1,11,"sujetos-relacionados-view-list",19),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Ai(o,s){if(1&o&&(e.TgZ(0,"action-command",18),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,gi,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.sujeto-de-interes-view.list.action.subordinados.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.sujeto-de-interes-view.list.action.subordinados.subtitle"))}}const Ve=function(o){return{hijo:o}},yi=function(){return["hijo"]};function xi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"sujetos-relacionados-view-list",20),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid",t.uid+"-coordinadores")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,Ve,null==i?null:i.selection),"coordinadores"))("fixed",t.fixedForChild(e.DdM(8,yi),"coordinadores"))("filter",t.filtersForChild(e.VKq(9,Ve,null==i||null==i.selection?null:i.selection.uid),"coordinadores"))}}function Zi(o,s){if(1&o&&e.YNc(0,xi,1,11,"sujetos-relacionados-view-list",19),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Si(o,s){if(1&o&&(e.TgZ(0,"action-command",21),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Zi,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.sujeto-de-interes-view.list.action.coordinadores.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.sujeto-de-interes-view.list.action.coordinadores.subtitle"))}}const re=function(o){return{sujeto:o}},De=function(){return["sujeto"]};function Vi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"notificacion-sujeto-view-list",20),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid",t.uid+"-notificaciones")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,re,null==i?null:i.selection),"notificaciones"))("fixed",t.fixedForChild(e.DdM(8,De),"notificaciones"))("filter",t.filtersForChild(e.VKq(9,re,null==i||null==i.selection?null:i.selection.uid),"notificaciones"))}}function Di(o,s){if(1&o&&e.YNc(0,Vi,1,11,"notificacion-sujeto-view-list",19),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Ti(o,s){if(1&o&&(e.TgZ(0,"action-command",22),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Di,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.sujeto-de-interes-view.list.action.notificaciones.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.sujeto-de-interes-view.list.action.notificaciones.subtitle"))}}function Mi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ubicacion-sujeto-view-list",20),e.NdJ("onAction",function(n){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.fireInnerAction(n))}),e.qZA()}if(2&o){const t=e.oxw(3),i=e.MAs(1);e.Q6J("uid",t.uid+"-ubicaciones")("parents",i.childParents())("embbed",!0)("defaults",t.defaultsForChild(e.VKq(6,re,null==i?null:i.selection),"ubicaciones"))("fixed",t.fixedForChild(e.DdM(8,De),"ubicaciones"))("filter",t.filtersForChild(e.VKq(9,re,null==i||null==i.selection?null:i.selection.uid),"ubicaciones"))}}function Ii(o,s){if(1&o&&e.YNc(0,Mi,1,11,"ubicacion-sujeto-view-list",19),2&o){e.oxw(2);const t=e.MAs(1);e.Q6J("ngIf",null==t||null==t.selection?null:t.selection.uid)}}function Ri(o,s){if(1&o&&(e.TgZ(0,"action-command",23),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,Ii,1,1,"ng-template"),e.qZA()),2&o){e.oxw();const t=e.MAs(1);e.s9C("label",e.lcZ(1,3,"proyecto.sujeto-de-interes-view.list.action.ubicaciones.label")),e.s9C("title",null==t||null==t.selection?null:t.selection.nombre),e.s9C("subtitle",e.lcZ(2,5,"proyecto.sujeto-de-interes-view.list.action.ubicaciones.subtitle"))}}let Li=(()=>{class o{constructor(t,i,n,a,h){this.sujetosRelacionadosRepository=t,this.notificacionSujetoRepository=i,this.ubicacionSujetoRepository=n,this.cdRef=a,this.sujetoDeInteresRepository=h,this.uid="list",this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.ubicacionesAllow=!1,this.notificacionesAllow=!1,this.coordinadoresAllow=!1,this.subordinadosAllow=!1,this.delete=d=>this.sujetoDeInteresRepository.delete(this.sujetoDeInteresRepository.key(d)),this.deleteSelection=d=>{const _=new Y;return d&&(_.uids=d.map(y=>y.uid).join(",")),this.sujetoDeInteresRepository.deleteAllForQuery(_)},this.subscriptions=new z.w0}ngOnInit(){this.subscriptions.add(this.sujetosRelacionadosRepository.genericAcl().subscribe(t=>{var i;this.subordinadosAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.subordinadosAllow=!!n.allowed)}),this.cdRef.detectChanges()})),this.subscriptions.add(this.sujetosRelacionadosRepository.genericAcl().subscribe(t=>{var i;this.coordinadoresAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.coordinadoresAllow=!!n.allowed)}),this.cdRef.detectChanges()})),this.subscriptions.add(this.notificacionSujetoRepository.genericAcl().subscribe(t=>{var i;this.notificacionesAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.notificacionesAllow=!!n.allowed)}),this.cdRef.detectChanges()})),this.subscriptions.add(this.ubicacionSujetoRepository.genericAcl().subscribe(t=>{var i;this.ubicacionesAllow=!1,null===(i=t.allows)||void 0===i||i.forEach(n=>{"list"==n.name&&(this.ubicacionesAllow=!!n.allowed)}),this.cdRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}fixedForChild(t,i){return this.childFixeds[i]?t.concat(this.childFixeds[i]):t}defaultsForChild(t,i){return this.childDefaults[i]?Object.assign(t,this.childDefaults[i]):t}filtersForChild(t,i){return this.childFilters[i]?Object.assign(t,this.childFilters[i]):t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee),e.Y36(te),e.Y36(ie),e.Y36(e.sBO),e.Y36(N.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujeto-de-interes-view-actions-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(hi,5),2&t){let n;e.iGM(n=e.CRH())&&(i.actions=n.first)}},inputs:{uid:"uid",fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:30,vars:66,consts:[[3,"id","repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","subordinados","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],["name","coordinadores","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],["name","notificaciones","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],["name","ubicaciones","acl","retrieve","icon","home",3,"label","title","subtitle",4,"ngIf"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"],["name","subordinados","acl","retrieve","icon","home",3,"label","title","subtitle"],["style","display: flex; min-height: 400px",3,"uid","parents","embbed","defaults","fixed","filter","onAction",4,"ngIf"],[2,"display","flex","min-height","400px",3,"uid","parents","embbed","defaults","fixed","filter","onAction"],["name","coordinadores","acl","retrieve","icon","home",3,"label","title","subtitle"],["name","notificaciones","acl","retrieve","icon","home",3,"label","title","subtitle"],["name","ubicaciones","acl","retrieve","icon","home",3,"label","title","subtitle"]],template:function(t,i){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,bi,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,vi,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,ji,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e.YNc(26,Ai,4,7,"action-command",7),e.YNc(27,Si,4,7,"action-command",8),e.YNc(28,Ti,4,7,"action-command",9),e.YNc(29,Ri,4,7,"action-command",10),e.qZA()),2&t){const n=e.MAs(1);e.Q6J("id",i.uid)("repository",i.sujetoDeInteresRepository)("asDialog",i.asDialog)("parents",i.parents),e.xp6(2),e.s9C("label",e.lcZ(3,34,"proyecto.sujeto-de-interes-view.list.action.create.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(4,36,"proyecto.sujeto-de-interes-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,38,"proyecto.sujeto-de-interes-view.list.action.detail.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(8,40,"proyecto.sujeto-de-interes-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,42,"proyecto.sujeto-de-interes-view.list.action.edit.label")),e.s9C("title",null==n||null==n.selection?null:n.selection.nombre),e.s9C("subtitle",e.lcZ(12,44,"proyecto.sujeto-de-interes-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,46,"proyecto.sujeto-de-interes-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,48,"proyecto.sujeto-de-interes-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,50,"proyecto.sujeto-de-interes-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,52,"proyecto.sujeto-de-interes-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,54,"proyecto.sujeto-de-interes-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",i.delete),e.xp6(6),e.s9C("label",e.lcZ(21,56,"proyecto.sujeto-de-interes-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,58,"proyecto.sujeto-de-interes-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,60,"proyecto.sujeto-de-interes-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,62,"proyecto.sujeto-de-interes-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,64,"proyecto.sujeto-de-interes-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",i.deleteSelection),e.xp6(6),e.Q6J("ngIf",i.subordinadosAllow),e.xp6(1),e.Q6J("ngIf",i.coordinadoresAllow),e.xp6(1),e.Q6J("ngIf",i.notificacionesAllow),e.xp6(1),e.Q6J("ngIf",i.ubicacionesAllow)}},dependencies:[O.V4,O.fd,O.Lo,O.Fs,b.O5,at,ct.SujetoDeInteresViewDetailComponent,rt.SujetoDeInteresViewEditComponent,Ut,_i,r.X$],changeDetection:0}),o})();const Ei=["list"],Oi=["searchForm"],Ui=["container"];function Pi(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.nombre)}function Ji(o,s){1&o&&e._uU(0),2&o&&e.Oqu(s.$implicit.nombre)}function Fi(o,s){if(1&o&&(e.TgZ(0,"list-view",3,4),e.YNc(2,Pi,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,Ji,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-no-content"),e._UZ(8,"img",7),e.TgZ(9,"div")(10,"h1"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"list-view-no-results"),e._UZ(17,"img",8),e.TgZ(18,"div")(19,"h1"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.sujetoDeInteresRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,9,"proyecto.sujeto-de-interes-view.list.column.nombre")),e.xp6(7),e.Oqu(e.lcZ(12,11,"proyecto.sujeto-de-interes-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(15,13,"proyecto.sujeto-de-interes-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(21,15,"proyecto.sujeto-de-interes-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(24,17,"proyecto.sujeto-de-interes-view.list.no-results.message"))}}const Ni=[{path:"",component:(()=>{class o{constructor(t,i,n,a,h){this.layoutService=t,this.translateService=i,this.snackService=n,this.cdRef=a,this.sujetoDeInteresRepository=h,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.sujeto-de-interes-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){if(this.searchForm&&this.list){const t={},i=this.searchForm.first.form.value;i.search&&(t.search=i.search),this.list.first.advancedFilter=t,this.list.first.makeSearch(t)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.P),e.Y36(r.sK),e.Y36(se.ux),e.Y36(e.sBO),e.Y36(N.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sujeto-de-interes-view-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ei,5),e.Gf(Oi,5),e.Gf(Ui,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.list=n),e.iGM(n=e.CRH())&&(i.searchForm=n),e.iGM(n=e.CRH())&&(i.container=n)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults"},outputs:{onAction:"onAction"},decls:3,vars:8,consts:[["id","sujetoDeInteres-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"uid","parents","childFixeds","childFilters","childDefaults","fixed","defaults","onAction"],["container",""],["id","sujetoDeInteres-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"]],template:function(t,i){1&t&&(e.YNc(0,Fi,25,19,"list-view",0),e.TgZ(1,"sujeto-de-interes-view-actions-container",1,2),e.NdJ("onAction",function(a){return i.onAction.emit(a)}),e.qZA()),2&t&&(e.Q6J("ngIf",i.actions&&!i.actions.action),e.xp6(1),e.Q6J("uid",i.uid)("parents",i.parents)("childFixeds",i.childFixeds)("childFilters",i.childFilters)("childDefaults",i.childDefaults)("fixed",i.fixed)("defaults",i.defaults))},dependencies:[b.O5,R.Rt,R.Yi,R.if,R.To,Li,r.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),o})()}];let Qi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Ce.Bz.forChild(Ni),Ce.Bz]}),o})(),Yi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Ie,Qi]}),o})()},7446:(W,T,l)=>{l.d(T,{Z:()=>g});var b=l(2433),r=l(4650),S=l(5276);let g=(()=>{class c extends b._j{constructor(Z){super({uid:"uid",group:"net-civeira-ejemplos-agenda",name:"sujetoDeInteres",path:"proyecto-sujetos-de-interes",acl:"proyecto-sujetos-de-interes"},Z)}}return c.\u0275fac=function(Z){return new(Z||c)(r.LFG(S.D))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5753:(W,T,l)=>{l.d(T,{b:()=>e});var b=l(791),r=l(4650),S=l(6050),g=l(6895),c=l(4006),x=l(9549),Z=l(7392),p=l(4859),P=l(4385),F=l(3238);function E(C,I){if(1&C&&(r.TgZ(0,"mat-option",7),r._uU(1),r.qZA()),2&C){const u=I.$implicit;r.s9C("value",u.value),r.xp6(1),r.hij(" ",u.label," ")}}function V(C,I){if(1&C){const u=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(w){return r.CHM(u),r.oxw(2).control.setValue(null),r.KtG(w.stopPropagation())}),r.TgZ(1,"mat-icon"),r._uU(2,"close"),r.qZA()()}}function f(C,I){if(1&C){const u=r.EpF();r.TgZ(0,"button",9),r.NdJ("click",function(){r.CHM(u);const w=r.oxw(2);return r.KtG(w.showHelp())}),r.TgZ(1,"mat-icon"),r._uU(2,"help_outline"),r.qZA()()}}function M(C,I){if(1&C&&(r.TgZ(0,"mat-error"),r._UZ(1,"editable-error-block",10),r.qZA()),2&C){const u=r.oxw(2);r.xp6(1),r.Q6J("messages",u.errorMessages)("control",u.control)}}function U(C,I){if(1&C&&(r.TgZ(0,"mat-form-field",1)(1,"mat-label"),r._uU(2),r.qZA(),r.TgZ(3,"mat-select",2),r.YNc(4,E,2,2,"mat-option",3),r.qZA(),r.YNc(5,V,3,0,"button",4),r.YNc(6,f,3,0,"button",5),r.YNc(7,M,2,2,"mat-error",6),r.qZA()),2&C){const u=r.oxw();r.Q6J("floatLabel",u.floatLabel)("appearance",u.appearance),r.xp6(2),r.Oqu(u.label),r.xp6(1),r.Q6J("required",u.required)("placeholder",u.placeholder)("formControl",u.control),r.xp6(1),r.Q6J("ngForOf",u.options),r.xp6(1),r.Q6J("ngIf",!u.required&&(null==u.control?null:u.control.value)),r.xp6(1),r.Q6J("ngIf",u.help),r.xp6(1),r.Q6J("ngIf",u.control.invalid)}}let e=(()=>{class C extends b.G7{constructor(u){super(u),this.options=[]}ngAfterViewInit(){if(this.options.splice(0,this.options.length),this.contentOptions){const u=this.contentOptions.toArray();for(const v of u)this.options.push({value:v.value,label:v.label})}}}return C.\u0275fac=function(u){return new(u||C)(r.Y36(S.U))},C.\u0275cmp=r.Xpm({type:C,selectors:[["editable-choose"]],contentQueries:function(u,v,w){if(1&u&&r.Suo(w,b.tx,4),2&u){let D;r.iGM(D=r.CRH())&&(v.contentOptions=D)}},features:[r.qOj],decls:1,vars:1,consts:[["style","flex-basis: 100%; margin: 0 5px",3,"floatLabel","appearance",4,"ngIf"],[2,"flex-basis","100%","margin","0 5px",3,"floatLabel","appearance"],[3,"required","placeholder","formControl"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","type","button","aria-label","Clear",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["matSuffix","","mat-icon-button","","type","button","aria-label","Clear",3,"click"],["mat-icon-button","","matSuffix","",3,"click"],[3,"messages","control"]],template:function(u,v){1&u&&r.YNc(0,U,8,10,"mat-form-field",0),2&u&&r.Q6J("ngIf",v.control)},dependencies:[g.sg,g.O5,c.JJ,c.Q7,b.qJ,c.oH,x.KE,x.hX,x.TO,x.R9,Z.Hw,p.RK,P.gD,F.ey],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0}),C})()},6266:(W,T,l)=>{l.d(T,{Q:()=>v});var b=l(791),r=l(4006),S=l(8675),g=l(4004),c=l(4650),x=l(6050),Z=l(135),p=l(6895),P=l(9602),F=l(3238),E=l(7957),V=l(4144),f=l(9549);function M(w,D){if(1&w&&(c.TgZ(0,"mat-error"),c._UZ(1,"editable-error-block",10),c.qZA()),2&w){const m=c.oxw(2);c.xp6(1),c.Q6J("messages",m.errorMessages)("control",m.control)}}const U=function(w,D){return{"margin-right":w,"flex-basis":D}};function e(w,D){if(1&w){const m=c.EpF();c.TgZ(0,"mat-form-field",4)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"input",5),c.NdJ("ngModelChange",function(A){c.CHM(m);const J=c.oxw();return c.KtG(J.value.day=A)})("change",function(){c.CHM(m);const A=c.oxw();return c.KtG(A.update(!0))})("dateChange",function(){c.CHM(m);const A=c.oxw();return c.KtG(A.update(!0))}),c.qZA(),c._UZ(4,"mat-datepicker-toggle",6)(5,"mat-datepicker",7,8),c.YNc(7,M,2,2,"mat-error",9),c.qZA()}if(2&w){const m=c.MAs(6),j=c.oxw();c.Q6J("ngStyle",c.WLB(12,U,j.hasTimeInput?"10px":"0px",j.hasTimeInput?"80%":"100%"))("floatLabel",j.floatLabel)("appearance",j.appearance),c.xp6(2),c.Oqu(j.label),c.xp6(1),c.s9C("placeholder",j.placeholder),c.Q6J("ngModel",j.value.day)("matDatepicker",m)("required",j.required)("disabled",j.control.disabled),c.xp6(1),c.Q6J("for",m),c.xp6(1),c.Q6J("touchUi",j.touchUi),c.xp6(2),c.Q6J("ngIf",j.control.invalid)}}function C(w,D){if(1&w){const m=c.EpF();c.TgZ(0,"mat-form-field",11)(1,"input",12),c.NdJ("ngModelChange",function(A){c.CHM(m);const J=c.oxw();return c.KtG(J.value.hour=A)})("change",function(){c.CHM(m);const A=c.oxw();return c.KtG(A.update(!0))}),c.qZA()()}if(2&w){const m=c.oxw();c.Q6J("floatLabel",m.floatLabel)("appearance",m.appearance),c.xp6(1),c.Q6J("ngModel",m.value.hour)("placeholder",m.hourPlaceholder)("required",m.required)("disabled",m.control.disabled)}}function I(w,D){if(1&w&&(c.TgZ(0,"mat-option",18),c._uU(1),c.qZA()),2&w){const m=D.$implicit;c.Q6J("value",m.name),c.xp6(1),c.hij(" ",m.label," ")}}function u(w,D){if(1&w){const m=c.EpF();c.TgZ(0,"mat-form-field",13),c._UZ(1,"input",14),c.TgZ(2,"mat-autocomplete",15,16),c.NdJ("optionSelected",function(){c.CHM(m);const A=c.oxw();return c.KtG(A.update(!0))}),c.YNc(4,I,2,2,"mat-option",17),c.ALo(5,"async"),c.qZA()()}if(2&w){const m=c.MAs(3),j=c.oxw();c.xp6(1),c.Q6J("formControl",j.myControl)("matAutocomplete",m),c.xp6(3),c.Q6J("ngForOf",c.lcZ(5,3,j.filteredZones))}}let v=(()=>{class w extends b.G7{constructor(m,j){super(m),this.dateService=j,this.touchUi=!1,this.hasTimeInput=!0,this.showTimeZone=!1,this.bindToTimeZone=!1,this.timeZoneEditable=!0,this.timeZone="",this.hourPlaceholder="",this.value={day:null,hour:""},this.zones=[],this.subscriptions.add(this.service.state.availablesTimezones.get().subscribe(A=>{for(const J of A)this.zones.push(J)})),this.subscriptions.add(this.service.state.timeZone.get().subscribe(A=>{this.timeZone=A})),this.myControl=new r.NI,this.myControl.setValue(this.timeZone),this.filteredZones=this.myControl.valueChanges.pipe((0,S.O)(""),(0,g.U)(A=>A&&"string"!=typeof A?A.name:A),(0,g.U)(A=>A?this._filter(A):this.zones.slice()))}_filter(m){const j=m.toLowerCase();return this.zones.filter(A=>A.code.toLowerCase().includes(j))}ngOnChanges(m){m.timeZone&&this.value.day&&(this.bindToTimeZone&&(this.value.day=this.dateService.localToTimeZone(this.value.day,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")),this.update(!1),this.myControl.setValue(this.timeZone)),m.timeZoneEditable&&this.checkUpdate()}ngAfterContentInit(){this.control&&(this.writeValue(this.control.value),this.subscriptions.add(this.control.valueChanges.subscribe(m=>{this.writeValue(m)})))}update(m){let j=this.value.hour;this.hasTimeInput&&!j&&(j="00:00");const A=this.value.day;if(this.hasTimeInput&&A&&j){const J=this.dateService.parse(this.dateService.format(A,"YYYY-MM-DD")+" "+j,"YYYY-MM-DD HH:mm");this.selected=J,this.selected=this.timeZone?this.dateService.localToTimeZone(J,this.timeZone):J}else this.selected=!this.hasTimeInput&&A?this.dateService.format(A,"YYYY-MM-DD"):null;if(this.control){const oe=this.selected===this.control.value;(!this.selected&&this.control.value||!oe)&&(this.control.markAsDirty(),this.control.setValue(this.selected,{emitEvent:m}))}}checkUpdate(){this.timeZoneEditable&&this.control&&this.control.enabled?this.myControl.enable():this.myControl.disable()}writeValue(m){m?("string"==typeof m&&(m=new Date(m)),this.value.day=this.dateService.localToTimeZone(m,this.timeZone),this.value.hour=this.dateService.format(this.value.day,"HH:mm")):(this.value.day=null,this.value.hour=""),this.checkUpdate()}}return w.\u0275fac=function(m){return new(m||w)(c.Y36(x.U),c.Y36(Z.R))},w.\u0275cmp=c.Xpm({type:w,selectors:[["editable-datetime"]],inputs:{touchUi:"touchUi",hasTimeInput:"hasTimeInput",showTimeZone:"showTimeZone",bindToTimeZone:"bindToTimeZone",timeZoneEditable:"timeZoneEditable",timeZone:"timeZone",hourPlaceholder:"hourPlaceholder"},features:[c.qOj,c.TTD],decls:4,vars:3,consts:[["class","input-date",3,"ngStyle","floatLabel","appearance",4,"ngIf"],["class","input-time","style","min-width: 70px; flex-basis: 20%",3,"floatLabel","appearance",4,"ngIf"],[1,"form-zone"],["class","input-zone",4,"ngIf"],[1,"input-date",3,"ngStyle","floatLabel","appearance"],["matInput","",2,"width","auto",3,"ngModel","matDatepicker","placeholder","required","disabled","ngModelChange","change","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["picker",""],[4,"ngIf"],[3,"messages","control"],[1,"input-time",2,"min-width","70px","flex-basis","20%",3,"floatLabel","appearance"],["type","time","matInput","",3,"ngModel","placeholder","required","disabled","ngModelChange","change"],[1,"input-zone"],["type","text","matInput","","placeholder","Zona horaria",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(m,j){1&m&&(c.YNc(0,e,8,15,"mat-form-field",0),c.YNc(1,C,2,6,"mat-form-field",1),c.TgZ(2,"form",2),c.YNc(3,u,6,5,"mat-form-field",3),c.qZA()),2&m&&(c.Q6J("ngIf",j.control),c.xp6(1),c.Q6J("ngIf",j.control&&j.hasTimeInput),c.xp6(2),c.Q6J("ngIf",j.hasTimeInput&&j.showTimeZone))},dependencies:[p.sg,p.O5,p.PC,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F,b.qJ,r.oH,P.Mq,P.hl,P.nW,F.ey,E.XC,E.ZL,V.Nt,f.KE,f.hX,f.TO,f.R9,p.Ov],styles:[".changeQuickDay[_ngcontent-%COMP%]{border:0;cursor:pointer;font-size:large;margin-bottom:8px}","[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0}),w})()}}]);