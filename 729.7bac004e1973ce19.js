"use strict";(self.webpackChunkagenda_angular=self.webpackChunkagenda_angular||[]).push([[729],{6729:(W,p,c)=>{c.r(p),c.d(p,{DocumentoViewLazyModule:()=>k});var m=c(6895),s=c(9383),A=c(2289),C=c(4859),y=c(7219),_=c(1614),Z=c(2375),g=c(2782),h=c(5002),b=c(2669),L=c(7893),D=c(4144),f=c(4006),x=c(7392),T=c(960),e=c(4650);let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.V,m.ez,b.DocumentoViewDetailModule,h.DocumentoViewEditModule,_.r,T.M,L.o,g.n,f.u5,A.xu,Z.W,C.ot,x.Ps,D.c,f.UX,s.aw]}),n})();var v=c(752),M=c(8862),J=c(7009),w=c(112),r=c(7738),d=c(2169),u=c(8034),S=c(9122),Q=c(3825);const O=["actions"];function U(n,l){if(1&n){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"documento-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const i=e.MAs(6);return e.KtG(i.clearErrors())}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",15),e.NdJ("run",function(){e.CHM(t);const i=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execClearAndJumpToAction(i.saveValue(),"create"))}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const i=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(i.saveValue(),a.isAllowed("detail")?"detail":"edit",a.empty))}),e.ALo(12,"translate"),e.qZA()}if(2&n){const t=e.MAs(6),o=e.oxw(),i=e.MAs(1);e.s9C("ok",e.lcZ(1,18,"proyecto.documento-view.list.action.create.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,20,"proyecto.documento-view.list.action.create.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,22,"proyecto.documento-view.list.action.create.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,24,"proyecto.documento-view.list.action.create.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",o.fixed)("defaults",o.defaults)("data",null==i?null:i.empty)("acl",null==i?null:i.acl),e.xp6(2),e.s9C("label",e.lcZ(8,26,"proyecto.documento-view.list.action.create.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(10,28,"proyecto.documento-view.list.action.create.save-and-other")),e.Q6J("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid),e.xp6(2),e.s9C("label",e.lcZ(12,30,"proyecto.documento-view.list.action.create.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}function F(n,l){if(1&n&&e._UZ(0,"documento-view-detail",17),2&n){e.oxw();const t=e.MAs(1);e.Q6J("data",null==t?null:t.selection)}}function R(n,l){if(1&n){const t=e.EpF();e._UZ(0,"action-close-confirm",11),e.ALo(1,"translate"),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e._UZ(5,"documento-view-edit",12,13),e.TgZ(7,"action-command-button",14),e.NdJ("run",function(){e.CHM(t),e.oxw();const i=e.MAs(1);return e.KtG(i.jumpToAction(i.isAllowed("detail")?"detail":"",i.isAllowed("detail")?i.selection:null))}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"action-command-button",14),e.NdJ("run",function(){e.CHM(t);const i=e.MAs(6);return e.KtG(i.clearErrors())}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"action-command-button",16),e.NdJ("run",function(){e.CHM(t);const i=e.MAs(6);e.oxw();const a=e.MAs(1);return e.KtG(a.execAndJumpToAction(i.saveValue(),a.isAllowed("detail")?"detail":"edit",a.selection))}),e.ALo(12,"translate"),e.qZA()}if(2&n){const t=e.MAs(6),o=e.oxw(),i=e.MAs(1);e.s9C("ok",e.lcZ(1,17,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.ok")),e.s9C("cancel",e.lcZ(2,19,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.cancel")),e.s9C("title",e.lcZ(3,21,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.title")),e.s9C("message",e.lcZ(4,23,"proyecto.documento-view.list.action.edit.confirm-close-unsaved.message")),e.Q6J("required",t.dirty),e.xp6(5),e.Q6J("fixed",o.fixed)("defaults",o.defaults)("data",null==i?null:i.selection)("acl",null==i?null:i.acl),e.xp6(2),e.s9C("label",e.lcZ(8,25,"proyecto.documento-view.list.action.edit.cancel")),e.Q6J("visible",!(null!=t.formView&&t.formView.error)),e.xp6(2),e.s9C("label",e.lcZ(10,27,"proyecto.documento-view.list.action.edit.back")),e.Q6J("visible",null==t.formView?null:t.formView.error),e.xp6(2),e.s9C("label",e.lcZ(12,29,"proyecto.documento-view.list.action.edit.save")),e.Q6J("primary",!0)("visible",!(null!=t.formView&&t.formView.error))("disabled",!t.dirty||t.invalid)}}let Y=(()=>{class n{constructor(t){this.documentoRepository=t,this.uid="list",this.fixed=[],this.defaults={},this.parents=[],this.childFixeds={},this.childFilters={},this.childDefaults={},this.asDialog=!1,this.onAction=new e.vpe,this.delete=o=>this.documentoRepository.delete(this.documentoRepository.key(o)),this.deleteSelection=o=>{const i=new d.Xh;return o&&(i.uids=o.map(a=>a.uid).join(",")),this.documentoRepository.deleteAllForQuery(i)},this.validar=o=>this.documentoRepository.validar(o),this.validarSelection=o=>{const i=new d.Xh;return o&&(i.uids=o.map(a=>a.uid).join(",")),this.documentoRepository.validarAllForQuery(i)},this.validarDisabled=o=>!o||!0===o.validado,this.guardar=o=>this.documentoRepository.guardar(o),this.guardarSelection=o=>{const i=new d.Xh;return o&&(i.uids=o.map(a=>a.uid).join(",")),this.documentoRepository.guardarAllForQuery(i)},this.guardarDisabled=o=>!o||!1===o.guardado}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["documento-view-actions-container"]],viewQuery:function(t,o){if(1&t&&e.Gf(O,5),2&t){let i;e.iGM(i=e.CRH())&&(o.actions=i.first)}},inputs:{uid:"uid",fixed:"fixed",defaults:"defaults",parents:"parents",childFixeds:"childFixeds",childFilters:"childFilters",childDefaults:"childDefaults",asDialog:"asDialog"},outputs:{onAction:"onAction"},decls:50,vars:136,consts:[[3,"id","repository","asDialog","parents","onAction"],["actions",""],["name","create","acl","create","type","create","icon","add",3,"label","title","subtitle"],["name","detail","acl","retrieve !update","icon","info",3,"label","principal","title","subtitle"],["name","edit","acl","update","icon","edit",3,"label","principal","title","subtitle"],["name","delete","acl","delete","icon","delete_forever",3,"label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","delete_all","acl","delete","icon","delete_forever",3,"multiple","label","close","confirmOk","confirmCancel","confirmTitle","confirmSubtitle","exec"],["name","validar","acl","validar","icon","fact_check",3,"label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","validarSelection","acl","validar","icon","fact_check",3,"multiple","label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","guardar","acl","guardar","icon","turned_in_not",3,"label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],["name","guardarSelection","acl","guardar","icon","turned_in_not",3,"multiple","label","confirmTitle","confirmSubtitle","confirmOk","confirmCancel","hidden","close","exec"],[3,"required","ok","cancel","title","message"],[3,"fixed","defaults","data","acl"],["form",""],[3,"label","visible","run"],[3,"label","visible","disabled","run"],[3,"primary","label","visible","disabled","run"],[3,"data"]],template:function(t,o){if(1&t&&(e.TgZ(0,"action-container",0,1),e.NdJ("onAction",function(a){return o.onAction.emit(a)}),e.TgZ(2,"action-command",2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.YNc(5,U,13,32,"ng-template"),e.qZA(),e.TgZ(6,"action-command",3),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,F,1,1,"ng-template"),e.qZA(),e.TgZ(10,"action-command",4),e.ALo(11,"translate"),e.ALo(12,"translate"),e.YNc(13,R,13,31,"ng-template"),e.qZA(),e._UZ(14,"action-command",5),e.ALo(15,"translate"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"translate"),e._UZ(20,"action-command",6),e.ALo(21,"translate"),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.ALo(25,"translate"),e._UZ(26,"action-command",7),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.ALo(30,"translate"),e.ALo(31,"translate"),e._UZ(32,"action-command",8),e.ALo(33,"translate"),e.ALo(34,"translate"),e.ALo(35,"translate"),e.ALo(36,"translate"),e.ALo(37,"translate"),e._UZ(38,"action-command",9),e.ALo(39,"translate"),e.ALo(40,"translate"),e.ALo(41,"translate"),e.ALo(42,"translate"),e.ALo(43,"translate"),e._UZ(44,"action-command",10),e.ALo(45,"translate"),e.ALo(46,"translate"),e.ALo(47,"translate"),e.ALo(48,"translate"),e.ALo(49,"translate"),e.qZA()),2&t){const i=e.MAs(1);e.Q6J("id",o.uid)("repository",o.documentoRepository)("asDialog",o.asDialog)("parents",o.parents),e.xp6(2),e.s9C("label",e.lcZ(3,64,"proyecto.documento-view.list.action.create.label")),e.s9C("title",null==i||null==i.selection?null:i.selection.uid),e.s9C("subtitle",e.lcZ(4,66,"proyecto.documento-view.list.action.create.title")),e.xp6(4),e.s9C("label",e.lcZ(7,68,"proyecto.documento-view.list.action.detail.label")),e.s9C("title",null==i||null==i.selection?null:i.selection.uid),e.s9C("subtitle",e.lcZ(8,70,"proyecto.documento-view.list.action.detail.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(11,72,"proyecto.documento-view.list.action.edit.label")),e.s9C("title",null==i||null==i.selection?null:i.selection.uid),e.s9C("subtitle",e.lcZ(12,74,"proyecto.documento-view.list.action.edit.title")),e.Q6J("principal",!0),e.xp6(4),e.s9C("label",e.lcZ(15,76,"proyecto.documento-view.list.action.delete.label")),e.s9C("confirmOk",e.lcZ(16,78,"proyecto.documento-view.list.action.delete.popup.confirm")),e.s9C("confirmCancel",e.lcZ(17,80,"proyecto.documento-view.list.action.delete.popup.cancel")),e.s9C("confirmTitle",e.lcZ(18,82,"proyecto.documento-view.list.action.delete.popup.title")),e.s9C("confirmSubtitle",e.lcZ(19,84,"proyecto.documento-view.list.action.delete.popup.content")),e.Q6J("close",!0)("exec",o.delete),e.xp6(6),e.s9C("label",e.lcZ(21,86,"proyecto.documento-view.list.action.delete-selecion.label")),e.s9C("confirmOk",e.lcZ(22,88,"proyecto.documento-view.list.action.delete-selecion.popup.confirm")),e.s9C("confirmCancel",e.lcZ(23,90,"proyecto.documento-view.list.action.delete-selecion.popup.cancel")),e.s9C("confirmTitle",e.lcZ(24,92,"proyecto.documento-view.list.action.delete-selecion.popup.title")),e.s9C("confirmSubtitle",e.lcZ(25,94,"proyecto.documento-view.list.action.delete-selecion.popup.content")),e.Q6J("multiple",!0)("close",!0)("exec",o.deleteSelection),e.xp6(6),e.s9C("label",e.lcZ(27,96,"proyecto.documento-view.list.action.validar.label")),e.s9C("confirmTitle",e.lcZ(28,98,"proyecto.documento-view.list.action.validar.title")),e.s9C("confirmSubtitle",e.lcZ(29,100,"proyecto.documento-view.list.action.validar.subtitle")),e.s9C("confirmOk",e.lcZ(30,102,"proyecto.documento-view.list.action.validar.confirm")),e.s9C("confirmCancel",e.lcZ(31,104,"proyecto.documento-view.list.action.validar.cancel")),e.Q6J("hidden",o.validarDisabled)("close",!1)("exec",o.validar),e.xp6(6),e.s9C("label",e.lcZ(33,106,"proyecto.documento-view.list.action.validar-selection.label")),e.s9C("confirmTitle",e.lcZ(34,108,"proyecto.documento-view.list.action.validar-selection.title")),e.s9C("confirmSubtitle",e.lcZ(35,110,"proyecto.documento-view.list.action.validar-selection.subtitle")),e.s9C("confirmOk",e.lcZ(36,112,"proyecto.documento-view.list.action.validar-selection.confirm")),e.s9C("confirmCancel",e.lcZ(37,114,"proyecto.documento-view.list.action.validar-selection.cancel")),e.Q6J("multiple",!0)("hidden",o.validarDisabled)("close",!1)("exec",o.validarSelection),e.xp6(6),e.s9C("label",e.lcZ(39,116,"proyecto.documento-view.list.action.guardar.label")),e.s9C("confirmTitle",e.lcZ(40,118,"proyecto.documento-view.list.action.guardar.title")),e.s9C("confirmSubtitle",e.lcZ(41,120,"proyecto.documento-view.list.action.guardar.subtitle")),e.s9C("confirmOk",e.lcZ(42,122,"proyecto.documento-view.list.action.guardar.confirm")),e.s9C("confirmCancel",e.lcZ(43,124,"proyecto.documento-view.list.action.guardar.cancel")),e.Q6J("hidden",o.guardarDisabled)("close",!1)("exec",o.guardar),e.xp6(6),e.s9C("label",e.lcZ(45,126,"proyecto.documento-view.list.action.guardar-selection.label")),e.s9C("confirmTitle",e.lcZ(46,128,"proyecto.documento-view.list.action.guardar-selection.title")),e.s9C("confirmSubtitle",e.lcZ(47,130,"proyecto.documento-view.list.action.guardar-selection.subtitle")),e.s9C("confirmOk",e.lcZ(48,132,"proyecto.documento-view.list.action.guardar-selection.confirm")),e.s9C("confirmCancel",e.lcZ(49,134,"proyecto.documento-view.list.action.guardar-selection.cancel")),e.Q6J("multiple",!0)("hidden",o.guardarDisabled)("close",!1)("exec",o.guardarSelection)}},dependencies:[u.V4,u.fd,u.Lo,u.Fs,S.DocumentoViewDetailComponent,Q.DocumentoViewEditComponent,s.X$],changeDetection:0}),n})();const N=["list"],G=["searchForm"],q=["container"];function H(n,l){1&n&&e._uU(0),2&n&&e.Oqu(l.$implicit.uid)}function X(n,l){1&n&&e._uU(0),2&n&&e.Oqu(l.$implicit.valoracionFuente)}function $(n,l){1&n&&e._uU(0),2&n&&e.Oqu(l.$implicit.valoracionInformacion)}function j(n,l){1&n&&e._uU(0),2&n&&e.Oqu(l.$implicit.origen)}function z(n,l){1&n&&e._uU(0),2&n&&e.Oqu(l.$implicit.guid)}function K(n,l){1&n&&(e._uU(0),e.ALo(1,"slice")),2&n&&e.Oqu(e.Dn7(1,1,l.$implicit.contenido,0,100))}function B(n,l){if(1&n&&(e.TgZ(0,"list-view",3,4),e.YNc(2,H,1,1,"ng-template",null,5,e.W1O),e.TgZ(4,"list-view-column",6),e.ALo(5,"translate"),e.YNc(6,X,1,1,"ng-template"),e.qZA(),e.TgZ(7,"list-view-column",6),e.ALo(8,"translate"),e.YNc(9,$,1,1,"ng-template"),e.qZA(),e.TgZ(10,"list-view-column",7),e.ALo(11,"translate"),e.YNc(12,j,1,1,"ng-template"),e.qZA(),e.TgZ(13,"list-view-column",7),e.ALo(14,"translate"),e.YNc(15,z,1,1,"ng-template"),e.qZA(),e.TgZ(16,"list-view-column",8),e.ALo(17,"translate"),e.YNc(18,K,2,5,"ng-template"),e.qZA(),e.TgZ(19,"list-view-no-content"),e._UZ(20,"img",9),e.TgZ(21,"div")(22,"h1"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"list-view-no-results"),e._UZ(29,"img",10),e.TgZ(30,"div")(31,"h1"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()),2&n){const t=e.oxw();e.Q6J("filter",t.filter)("repository",t.documentoRepository)("actionContainer",t.actions)("fullScreen",!t.embbed),e.xp6(4),e.s9C("title",e.lcZ(5,13,"proyecto.documento-view.list.column.valoracion-fuente")),e.xp6(3),e.s9C("title",e.lcZ(8,15,"proyecto.documento-view.list.column.valoracion-informacion")),e.xp6(3),e.s9C("title",e.lcZ(11,17,"proyecto.documento-view.list.column.type")),e.xp6(3),e.s9C("title",e.lcZ(14,19,"proyecto.documento-view.list.column.url")),e.xp6(3),e.s9C("title",e.lcZ(17,21,"proyecto.documento-view.list.column.texto")),e.xp6(7),e.Oqu(e.lcZ(24,23,"proyecto.documento-view.list.no-content.title")),e.xp6(3),e.Oqu(e.lcZ(27,25,"proyecto.documento-view.list.no-content.message")),e.xp6(6),e.Oqu(e.lcZ(33,27,"proyecto.documento-view.list.no-results.title")),e.xp6(3),e.Oqu(e.lcZ(36,29,"proyecto.documento-view.list.no-results.message"))}}const E=[{path:"",component:(()=>{class n{constructor(t,o,i,a,P){this.layoutService=t,this.translateService=o,this.snackService=i,this.cdRef=a,this.documentoRepository=P,this.uid="list",this.embbed=!1,this.defaults={},this.fixed=[],this.filter={},this.parents=[],this.onAction=new e.vpe}ngAfterViewInit(){setTimeout(()=>{this.embbed||this.translateService.get("proyecto.documento-view.list.app-title").subscribe(t=>{this.layoutService.title.set(t)}),this.container&&(this.actions=this.container.first.actions,this.cdRef.detectChanges())},10)}advancedSearch(){if(this.searchForm&&this.list){const t={},o=this.searchForm.first.form.value;o.search&&(t.search=o.search),this.list.first.advancedFilter=t,this.list.first.makeSearch(t)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.P),e.Y36(s.sK),e.Y36(J.ux),e.Y36(e.sBO),e.Y36(w.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["documento-view-list"]],viewQuery:function(t,o){if(1&t&&(e.Gf(N,5),e.Gf(G,5),e.Gf(q,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.list=i),e.iGM(i=e.CRH())&&(o.searchForm=i),e.iGM(i=e.CRH())&&(o.container=i)}},inputs:{uid:"uid",embbed:"embbed",defaults:"defaults",fixed:"fixed",filter:"filter",parents:"parents"},outputs:{onAction:"onAction"},decls:3,vars:5,consts:[["id","documento-list",3,"filter","repository","actionContainer","fullScreen",4,"ngIf"],[3,"uid","parents","fixed","defaults","onAction"],["container",""],["id","documento-list",3,"filter","repository","actionContainer","fullScreen"],["list",""],["title",""],["width","25px",3,"title"],["width","120px",3,"title"],[3,"title"],["src","./assets/img/resources/no-content.png","alt","no-content"],["src","./assets/img/resources/no-results.png","alt","no-results"]],template:function(t,o){1&t&&(e.YNc(0,B,37,31,"list-view",0),e.TgZ(1,"documento-view-actions-container",1,2),e.NdJ("onAction",function(a){return o.onAction.emit(a)}),e.qZA()),2&t&&(e.Q6J("ngIf",o.actions&&!o.actions.action),e.xp6(1),e.Q6J("uid",o.uid)("parents",o.parents)("fixed",o.fixed)("defaults",o.defaults))},dependencies:[m.O5,r.Rt,r.Yi,r.if,r.To,Y,m.OU,s.X$],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative}"],changeDetection:0}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.Bz.forChild(E),v.Bz]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[V,I]}),n})()}}]);